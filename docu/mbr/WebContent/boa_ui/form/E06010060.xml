<?xml version="1.0" encoding="euc-kr"?>
<Window>
	<Form Height="590" Id="E06010060" Left="8" OnKeyDown="fcHotKey" OnLoadCompleted="fcFormLoadSetting" OnUnloadCompleted="fcFormUnloadProcess" PidAttrib="7" Title="사고조사보고서&#32;등록" Top="8" Ver="1.0" Width="1014" WorkArea="true">
		<Datasets>
			<Dataset DataSetType="Dataset" Id="dsInComCd">
				<Contents>
					<colinfo id="DSNAME" size="20" type="STRING"/>
					<colinfo id="CD_GRP_ID" size="6" type="STRING"/>
					<colinfo id="QUERY_ID" size="256" type="STRING"/>
					<colinfo id="DESCRIPTION" size="256" type="STRING"/>
					<colinfo id="ALL_YN" size="1" type="STRING"/>
					<record>
						<ALL_YN></ALL_YN>
						<CD_GRP_ID>E00034</CD_GRP_ID>
						<DESCRIPTION>고장개소(TRUN)</DESCRIPTION>
						<DSNAME>dsOutAcdntLocCd</DSNAME>
						<QUERY_ID></QUERY_ID>
					</record>
					<record>
						<ALL_YN></ALL_YN>
						<CD_GRP_ID>E00109</CD_GRP_ID>
						<DESCRIPTION>사고처리상태</DESCRIPTION>
						<DSNAME>dsOutPrsStatCd</DSNAME>
						<QUERY_ID></QUERY_ID>
					</record>
					<record>
						<ALL_YN></ALL_YN>
						<CD_GRP_ID>E00006</CD_GRP_ID>
						<DESCRIPTION>경정장코드</DESCRIPTION>
						<DSNAME>dsOutMbrCd</DSNAME>
						<QUERY_ID></QUERY_ID>
					</record>
					<record>
						<ALL_YN></ALL_YN>
						<CD_GRP_ID>E00006</CD_GRP_ID>
						<DESCRIPTION>경정장코드</DESCRIPTION>
						<DSNAME>dsOutRaceMbrCd</DSNAME>
						<QUERY_ID></QUERY_ID>
					</record>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="dsOutStndYear">
				<Contents>
					<colinfo id="STND_YEAR" size="4" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="dsOutAcdntReport" OnLoadCompleted="dsOutAcdntReport_OnLoadCompleted" OnRowPosChanged="dsOutAcdntReport_OnRowPosChanged">
				<Contents>
					<colinfo id="PRS_STAT" size="3" type="STRING"/>
					<colinfo id="RACE_DAY" size="8" type="STRING"/>
					<colinfo id="STND_YEAR" size="4" type="STRING"/>
					<colinfo id="MBR_CD" size="3" type="STRING"/>
					<colinfo id="TMS" size="3" type="INT"/>
					<colinfo id="DAY_ORD" size="2" type="INT"/>
					<colinfo id="RACE_NO" size="2" type="STRING"/>
					<colinfo id="RACE_REG_NOS" size="100" type="STRING"/>
					<colinfo id="SEQ" size="5" type="INT"/>
					<colinfo id="RACER_NOS" size="100" type="STRING"/>
					<colinfo id="RACER_NMS" size="100" type="STRING"/>
					<colinfo id="CIRCUIT_CNT_CD" size="50" type="STRING"/>
					<colinfo id="ACDNT_LOC_CD" size="50" type="STRING"/>
					<colinfo id="ACDNT_SUMMARY" size="500" type="STRING"/>
					<colinfo id="MOT_NOS" size="100" type="STRING"/>
					<colinfo id="BOAT_NOS" size="100" type="STRING"/>
					<colinfo id="ACDENT_DESC" size="1000" type="STRING"/>
					<colinfo id="PRS_DESC" size="1000" type="STRING"/>
					<colinfo id="NUM" size="5" type="INT"/>
					<colinfo id="CNF_DT" size="8" type="STRING"/>
					<colinfo id="CHK" size="1" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="dsOutCricuitCntCd">
				<Contents>
					<colinfo id="GRP_CD" size="10" type="STRING"/>
					<colinfo id="GRP_NM" size="40" type="STRING"/>
					<colinfo id="CD" size="10" type="STRING"/>
					<colinfo id="CD_NM" size="40" type="STRING"/>
					<colinfo id="RMK" size="255" type="STRING"/>
					<record>
						<CD>M</CD>
						<CD_NM>모터</CD_NM>
						<GRP_CD></GRP_CD>
						<GRP_NM></GRP_NM>
						<RMK></RMK>
					</record>
					<record>
						<CD>B</CD>
						<CD_NM>보트</CD_NM>
						<GRP_CD></GRP_CD>
						<GRP_NM></GRP_NM>
						<RMK></RMK>
					</record>
					<record>
						<CD>MB</CD>
						<CD_NM>모터/보트</CD_NM>
						<GRP_CD></GRP_CD>
						<GRP_NM></GRP_NM>
						<RMK></RMK>
					</record>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="dsOutAcdntLocCd">
				<Contents>
					<colinfo id="GRP_CD" size="10" type="STRING"/>
					<colinfo id="GRP_NM" size="40" type="STRING"/>
					<colinfo id="CD" size="10" type="STRING"/>
					<colinfo id="CD_NM" size="40" type="STRING"/>
					<colinfo id="RMK" size="255" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="dsOutPrsStatCd" OnLoadCompleted="dsOutPrsStatCd_OnLoadCompleted">
				<Contents>
					<colinfo id="GRP_CD" size="10" type="STRING"/>
					<colinfo id="GRP_NM" size="40" type="STRING"/>
					<colinfo id="CD" size="10" type="STRING"/>
					<colinfo id="CD_NM" size="40" type="STRING"/>
					<colinfo id="RMK" size="255" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="dsOutStrTms" OnLoadCompleted="dsOutStrTms_OnLoadCompleted">
				<Contents>
					<colinfo id="TMS" size="3" type="INT"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="dsOutEndTms" OnLoadCompleted="dsOutEndTms_OnLoadCompleted">
				<Contents>
					<colinfo id="TMS" size="3" type="INT"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="dsOutMbrCd" OnLoadCompleted="dsOutMbrCd_OnLoadCompleted">
				<Contents>
					<colinfo id="CD" size="10" type="STRING"/>
					<colinfo id="CD_NM" size="40" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="dsOutReportAcdntReport">
				<Contents>
					<colinfo id="PRS_STAT" size="3" type="STRING"/>
					<colinfo id="RACE_DAY" size="8" type="STRING"/>
					<colinfo id="STND_YEAR" size="4" type="STRING"/>
					<colinfo id="MBR_CD" size="3" type="STRING"/>
					<colinfo id="TMS" size="3" type="INT"/>
					<colinfo id="DAY_ORD" size="2" type="INT"/>
					<colinfo id="RACE_NO" size="2" type="STRING"/>
					<colinfo id="SEQ" size="5" type="INT"/>
					<colinfo id="RACE_REG_NOS" size="100" type="STRING"/>
					<colinfo id="RACER_NOS" size="6" type="STRING"/>
					<colinfo id="RACER_NMS" size="100" type="STRING"/>
					<colinfo id="CIRCUIT_CNT_CD" size="50" type="STRING"/>
					<colinfo id="ACDNT_LOC_CD" size="50" type="STRING"/>
					<colinfo id="ACDNT_SUMMARY" size="500" type="STRING"/>
					<colinfo id="MOT_NOS" size="100" type="STRING"/>
					<colinfo id="BOAT_NOS" size="100" type="STRING"/>
					<colinfo id="ACDENT_DESC" size="1000" type="STRING"/>
					<colinfo id="PRS_DESC" size="1000" type="STRING"/>
					<colinfo id="NUM" size="5" type="INT"/>
					<colinfo id="CNF_DT" size="8" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="dsOutRaceStndYear">
				<Contents>
					<colinfo id="STND_YEAR" size="4" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="dsOutRaceTms" OnLoadCompleted="dsOutRaceTms_OnLoadCompleted">
				<Contents>
					<colinfo id="TMS" size="3" type="INT"/>
					<record>
						<TMS>1</TMS>
					</record>
					<record>
						<TMS>2</TMS>
					</record>
					<record>
						<TMS>3</TMS>
					</record>
					<record>
						<TMS>4</TMS>
					</record>
					<record>
						<TMS>5</TMS>
					</record>
					<record>
						<TMS>6</TMS>
					</record>
					<record>
						<TMS>7</TMS>
					</record>
					<record>
						<TMS>8</TMS>
					</record>
					<record>
						<TMS>9</TMS>
					</record>
					<record>
						<TMS>10</TMS>
					</record>
					<record>
						<TMS>11</TMS>
					</record>
					<record>
						<TMS>12</TMS>
					</record>
					<record>
						<TMS>13</TMS>
					</record>
					<record>
						<TMS>14</TMS>
					</record>
					<record>
						<TMS>15</TMS>
					</record>
					<record>
						<TMS>16</TMS>
					</record>
					<record>
						<TMS>17</TMS>
					</record>
					<record>
						<TMS>18</TMS>
					</record>
					<record>
						<TMS>18</TMS>
					</record>
					<record>
						<TMS>20</TMS>
					</record>
					<record>
						<TMS>21</TMS>
					</record>
					<record>
						<TMS>22</TMS>
					</record>
					<record>
						<TMS>23</TMS>
					</record>
					<record>
						<TMS>24</TMS>
					</record>
					<record>
						<TMS>25</TMS>
					</record>
					<record>
						<TMS>26</TMS>
					</record>
					<record>
						<TMS>27</TMS>
					</record>
					<record>
						<TMS>28</TMS>
					</record>
					<record>
						<TMS>29</TMS>
					</record>
					<record>
						<TMS>30</TMS>
					</record>
					<record>
						<TMS>31</TMS>
					</record>
					<record>
						<TMS>32</TMS>
					</record>
					<record>
						<TMS>33</TMS>
					</record>
					<record>
						<TMS>34</TMS>
					</record>
					<record>
						<TMS>35</TMS>
					</record>
					<record>
						<TMS>36</TMS>
					</record>
					<record>
						<TMS>37</TMS>
					</record>
					<record>
						<TMS>38</TMS>
					</record>
					<record>
						<TMS>39</TMS>
					</record>
					<record>
						<TMS>40</TMS>
					</record>
					<record>
						<TMS>41</TMS>
					</record>
					<record>
						<TMS>4</TMS>
					</record>
					<record>
						<TMS>43</TMS>
					</record>
					<record>
						<TMS>44</TMS>
					</record>
					<record>
						<TMS>45</TMS>
					</record>
					<record>
						<TMS>46</TMS>
					</record>
					<record>
						<TMS>47</TMS>
					</record>
					<record>
						<TMS>48</TMS>
					</record>
					<record>
						<TMS>49</TMS>
					</record>
					<record>
						<TMS>50</TMS>
					</record>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="dsOutRaceMbrCd">
				<Contents>
					<colinfo id="CD" size="10" type="STRING"/>
					<colinfo id="CD_NM" size="40" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="dsOutRaceDayOrd" OnLoadCompleted="dsOutRaceDayOrd_OnLoadCompleted" OnRowPosChanged="dsOutRaceDayOrd_OnRowPosChanged">
				<Contents>
					<colinfo id="DAY_ORD" size="2" type="INT"/>
					<colinfo id="RACE_DAY" size="8" type="STRING"/>
					<record>
						<DAY_ORD>0</DAY_ORD>
						<RACE_DAY></RACE_DAY>
					</record>
					<record>
						<DAY_ORD>1</DAY_ORD>
						<RACE_DAY></RACE_DAY>
					</record>
					<record>
						<DAY_ORD>2</DAY_ORD>
						<RACE_DAY></RACE_DAY>
					</record>
					<record>
						<DAY_ORD>3</DAY_ORD>
						<RACE_DAY></RACE_DAY>
					</record>
					<record>
						<DAY_ORD>4</DAY_ORD>
						<RACE_DAY></RACE_DAY>
					</record>
					<record>
						<DAY_ORD>5</DAY_ORD>
						<RACE_DAY></RACE_DAY>
					</record>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="dsOutRaceNo" OnLoadCompleted="dsOutRaceNo_OnLoadCompleted">
				<Contents>
					<colinfo id="RACE_NO" size="256" type="STRING"/>
					<record>
						<RACE_NO>01</RACE_NO>
					</record>
					<record>
						<RACE_NO>02</RACE_NO>
					</record>
					<record>
						<RACE_NO>03</RACE_NO>
					</record>
					<record>
						<RACE_NO>04</RACE_NO>
					</record>
					<record>
						<RACE_NO>05</RACE_NO>
					</record>
					<record>
						<RACE_NO>06</RACE_NO>
					</record>
					<record>
						<RACE_NO>07</RACE_NO>
					</record>
					<record>
						<RACE_NO>08</RACE_NO>
					</record>
					<record>
						<RACE_NO>09</RACE_NO>
					</record>
					<record>
						<RACE_NO>10</RACE_NO>
					</record>
					<record>
						<RACE_NO>11</RACE_NO>
					</record>
					<record>
						<RACE_NO>12</RACE_NO>
					</record>
					<record>
						<RACE_NO>13</RACE_NO>
					</record>
					<record>
						<RACE_NO>14</RACE_NO>
					</record>
					<record>
						<RACE_NO>15</RACE_NO>
					</record>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="dsOutRaceInfo" OnColumnChanged="dsOutRaceInfo_OnColumnChanged" OnLoadCompleted="dsOutRaceInfo_OnLoadCompleted">
				<Contents>
					<colinfo id="PRS_STAT" size="3" type="STRING"/>
					<colinfo id="RACE_DAY" size="8" type="STRING"/>
					<colinfo id="STND_YEAR" size="4" type="STRING"/>
					<colinfo id="MBR_CD" size="3" type="STRING"/>
					<colinfo id="TMS" size="3" type="INT"/>
					<colinfo id="DAY_ORD" size="2" type="INT"/>
					<colinfo id="RACE_NO" size="2" type="STRING"/>
					<colinfo id="RACE_REG_NO" size="1" type="INT"/>
					<colinfo id="RACER_NO" size="6" type="STRING"/>
					<colinfo id="RACER_NM" size="10" type="STRING"/>
					<colinfo id="MOT_NO" size="8" type="STRING"/>
					<colinfo id="BOAT_NO" size="8" type="STRING"/>
					<colinfo id="MOT_REG_NO" size="8" type="STRING"/>
					<colinfo id="BOAT_REG_NO" size="8" type="STRING"/>
					<colinfo id="CHK" size="0" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="dsOutEquipTpeCd" OnLoadCompleted="dsOutEquipTpeCd_OnLoadCompleted">
				<Contents>
					<colinfo id="CD" size="10" type="STRING"/>
					<colinfo id="CD_NM" size="40" type="STRING"/>
				</Contents>
			</Dataset>
		</Datasets>
		<Shape BKColor="user0" Bottom="58" Height="28" Id="Shape0" Left="6" LineColor="user1" Right="1008" RoundHeight="5" RoundUnit="Pixel" RoundWidth="5" TabOrder="10" Top="30" Type="RoundRect" Width="1002"></Shape>
		<Image Height="20" Id="imgFormTitle" ImageID="m_titleblet" Left="8" TabOrder="3" Top="8" Width="17"></Image>
		<Static Align="Right" Height="22" Id="stFormLocation" Left="495" Style="styFormLocation" TabOrder="6" Top="2" VAlign="Middle" Width="288"></Static>
		<Static Height="22" Id="st_FormTitle" Left="36" Style="styFormTitle" TabOrder="6" Top="2" VAlign="Middle" Width="451"></Static>
		<Static Font="굴림,10,Bold" Height="22" Id="stFormTitle" Left="30" Style="snis_m_title" TabOrder="3" Text="조회조건" Top="6" VAlign="Middle" Width="359"></Static>
		<Div Height="22" Id="divBtnLst" Left="656" TabOrder="3" Text="Div0" Top="2" Url="common::comButtonType.xml" Width="352">
			<Contents></Contents>
		</Div>
		<Div BKColor="user0" Height="22" Id="divSearch" Left="834" TabOrder="8" Text="Div0" Top="34" Url="common::comButtonSearch.xml" Width="56">
			<Contents></Contents>
		</Div>
		<Grid AutoFit="TRUE" AutoFitEndLine="Hide" BindDataset="dsOutAcdntReport" BKColor="user15" BkColor2="user16" BkSelColor="user17" BoldHead="true" Border="Flat" BorderColor="user22" Bottom="344" Editable="TRUE" Enable="true" EndLineColor="default" HeadBorder="Flat" HeadHeight="20" Height="256" Id="grdAcdntReport" InputPanel="FALSE" Left="4" LineColor="user18" MinWidth="100" OnHeadClick="fcGridSort" Right="1010" SelColor="user19" Style="snis_grid" TabOrder="11" TabStop="true" Top="88" UseDBuff="true" UsePopupMenu="true" UseSelColor="true" Visible="true" VLineColor="default" WheelScrollRow="1" Width="1006">
			<contents>
				<format id="Default">
					<columns>
						<col width="22"/>
						<col width="38"/>
						<col width="65"/>
						<col width="41"/>
						<col width="34"/>
						<col width="34"/>
						<col width="84"/>
						<col width="158"/>
						<col width="67"/>
						<col width="100"/>
						<col width="376"/>
						<col width="68"/>
					</columns>
					<head>
						<cell bkcolor="user20" col="0" color="user21" display="text" font="굴림,9"/>
						<cell bkcolor="user20" col="1" color="user21" display="text" font="굴림,9" text="순번"/>
						<cell bkcolor="user20" col="2" color="user21" display="text" font="굴림,9" text="경주일자"/>
						<cell bkcolor="user20" col="3" color="user21" display="text" font="굴림,9" text="회차"/>
						<cell bkcolor="user20" col="4" color="user21" display="text" font="굴림,9" text="일차"/>
						<cell bkcolor="user20" col="5" color="user21" display="text" font="굴림,9" text="경주"/>
						<cell bkcolor="user20" col="6" color="user21" display="text" font="굴림,9" text="호정"/>
						<cell bkcolor="user20" col="7" color="user21" display="text" font="굴림,9" text="선수명"/>
						<cell bkcolor="user20" col="8" color="user21" display="text" font="굴림,9" text="발생장소"/>
						<cell bkcolor="user20" col="9" color="user21" display="text" font="굴림,9" text="고장개소"/>
						<cell bkcolor="user20" col="10" color="user21" display="text" font="굴림,9" text="사고상태"/>
						<cell bkcolor="user20" col="11" color="user21" display="text" font="굴림,9" text="처리상태"/>
					</head>
					<body>
						<cell col="0" colid="chk" display="checkbox" edit="checkbox"/>
						<cell align="center" col="1" colid="NUM" display="text"/>
						<cell align="center" col="2" colid="RACE_DAY" display="text" Mask="####-##-##"/>
						<cell align="center" col="3" colid="TMS" display="text"/>
						<cell align="center" col="4" colid="DAY_ORD" display="text"/>
						<cell align="center" col="5" colid="RACE_NO" display="text"/>
						<cell align="center" col="6" colid="RACE_REG_NOS" display="text"/>
						<cell align="center" col="7" colid="RACER_NMS" display="text"/>
						<cell align="center" col="8" colid="CIRCUIT_CNT_CD" combocol="CD" combodataset="dsOutCricuitCntCd" combotext="CD_NM" display="combo"/>
						<cell align="center" col="9" colid="ACDNT_LOC_CD" combocol="CD" combodataset="dsOutAcdntLocCd" combotext="CD_NM" display="combo"/>
						<cell col="10" colid="ACDNT_SUMMARY" display="text"/>
						<cell align="center" col="11" colid="PRS_STAT" combocol="CD" combodataset="dsOutPrsStatCd" combotext="CD_NM" display="combo"/>
					</body>
					<summary>
						<cell col="0" display="text"/>
						<cell col="1" display="text" text="계:"/>
						<cell col="2" colspan="10" display="text" expr='dsOutAcdntReport.GetRowCount()+&quot;건&quot;'/>
					</summary>
				</format>
			</contents>
		</Grid>
		<Shape BKColor="#ff8500" Bottom="78" Height="6" Id="Shape2" Left="12" LineKind="Vertical" LineWidth="0" Right="18" RoundHeight="10" RoundWidth="10" TabOrder="13" Top="72" Type="Ellipse" Width="6"></Shape>
		<Static Height="20" Id="Static20" Left="24" Style="snis_m_stitle" TabOrder="12" Text="사고조사&#32;처리내역" Top="66" VAlign="Middle" Width="140"></Static>
		<Static Height="20" Id="Static8" Left="14" Style="snis_m_stitle" TabOrder="14" Text="사고조사&#32;처리내역" Top="350" VAlign="Middle" Width="176"></Static>
		<Shape BKColor="#ff8500" Bottom="362" Height="6" Id="Shape1" Left="4" LineKind="Vertical" LineWidth="0" Right="10" RoundHeight="10" RoundWidth="10" TabOrder="15" Top="356" Type="Ellipse" Width="6"></Shape>
		<Shape BKColor="user2" Bottom="584" Height="214" Id="Shape3" Left="2" LineColor="user3" Right="1012" RoundHeight="5" RoundUnit="Pixel" RoundWidth="5" TabOrder="17" Top="370" Type="RoundRect" Width="1010"></Shape>
		<Static Align="Right" Border="Flat" Height="20" Id="Static9" Left="506" Style="snis_m_lable" TabOrder="16" Text="경주일자&#32;" Top="376" VAlign="Middle" Width="62"></Static>
		<Static Align="Right" Border="Flat" Height="20" Id="Static13" Left="276" Style="snis_m_lable" TabOrder="18" Text="선수명&#32;" Top="398" VAlign="Middle" Width="62"></Static>
		<Edit BindDataset="dsOutAcdntReport" Border="Flat" Column="RACER_NMS" Height="20" Id="Edit6" Left="340" Readonly="TRUE" Style="snis_m_input01" TabOrder="1" Top="398" Width="304"></Edit>
		<Static Align="Right" Border="Flat" Height="114" Id="Static16" Left="276" Style="snis_m_lable" TabOrder="19" Text="사고상황&#32;" Top="466" VAlign="Middle" Width="62"></Static>
		<TextArea BindDataset="dsOutAcdntReport" Border="Flat" Column="ACDENT_DESC" Height="114" Id="txaAcdmtDesc" Left="340" MaxLength="500" Style="snis_m_input01" TabOrder="20" Top="466" Width="304"></TextArea>
		<Static Align="Center" Border="Flat" Height="20" Id="Static14" Left="4" Style="snis_m_lable" TabOrder="22" Text="호정" Top="398" VAlign="Middle" Width="64"></Static>
		<Edit BindDataset="dsOutAcdntReport" Border="Flat" Column="RACE_REG_NOS" Height="20" Id="Edit9" Left="70" Readonly="TRUE" Style="snis_m_input01" TabOrder="2" Top="398" Width="204"></Edit>
		<Static Align="Right" Border="Flat" Height="22" Id="Static17" Left="276" Style="snis_m_lable" TabOrder="23" Text="고장개소&#32;" Top="420" VAlign="Middle" Width="62"></Static>
		<Static Align="Right" Border="Flat" Height="20" Id="Static18" Left="646" Style="snis_m_lable" TabOrder="24" Text="선수번호&#32;" Top="398" VAlign="Middle" Width="62"></Static>
		<Edit BindDataset="dsOutAcdntReport" Border="Flat" Column="RACER_NOS" Height="20" Id="Edit12" Left="712" Readonly="TRUE" Style="snis_m_input01" TabOrder="0" Top="398" Width="296"></Edit>
		<Static Align="Right" Border="Flat" Height="114" Id="Static19" Left="646" Style="snis_m_lable" TabOrder="25" Text="처리내용&#32;" Top="466" VAlign="Middle" Width="62"></Static>
		<TextArea BindDataset="dsOutAcdntReport" Border="Flat" Column="PRS_DESC" Height="116" Id="txaPrsDesc" Left="710" MaxLength="500" Style="snis_m_input01" TabOrder="21" Top="466" Width="298"></TextArea>
		<Static Align="Right" Border="Flat" Height="20" Id="Static22" Left="276" Style="snis_m_lable" TabOrder="26" Text="모터번호&#32;" Top="444" VAlign="Middle" Width="62"></Static>
		<Button ButtonStyle="TRUE" Height="20" Id="btnConfirm" ImageID="btn_pop_txt_02" Left="942" OnClick="btnConfirm_OnClick" Style="snis_btn" TabOrder="27" Text="확정" Top="348" Transparent="TRUE" Visible="FALSE" Width="40"></Button>
		<Button ButtonStyle="TRUE" Height="20" Id="btnConfirmCancel" ImageID="btn_pop_txt_04" Left="942" OnClick="btnConfirmCancel_OnClick" Style="snis_btn" TabOrder="28" Text="확정취소" Top="348" Transparent="TRUE" Visible="FALSE" Width="62"></Button>
		<Button ButtonStyle="TRUE" Height="20" Id="btnAcdntReport" ImageID="btn_pop_txt_05" Left="762" OnClick="btnAcdntReport_OnClick" Style="snis_btn" TabOrder="29" Text="보고서출력" Top="348" Transparent="TRUE" Visible="FALSE" Width="74"></Button>
		<Static Align="Right" Border="Flat" Height="20" Id="Static23" Left="646" Style="snis_m_lable" TabOrder="30" Text="보트번호&#32;" Top="444" VAlign="Middle" Width="62"></Static>
		<Static Align="Right" Height="20" Id="Static0" Left="120" Style="snis_if_lable" TabOrder="37" Text="기준년도" Top="35" VAlign="Middle" Width="56"></Static>
		<Combo Border="Flat" CodeColumn="STND_YEAR" DataColumn="STND_YEAR" Height="20" Id="cboStrStndYear" InnerDataset="dsOutStndYear" Left="178" OnChanged="cboStrStndYear_OnChanged" ResetIndex="FIRST" Style="snis_if_input01" TabOrder="39" Top="34" Width="64"></Combo>
		<Static Align="Right" Height="20" Id="Static2" Left="246" Style="snis_if_lable" TabOrder="38" Text="회차" Top="34" VAlign="Middle" Width="24"></Static>
		<Combo Border="Flat" CodeColumn="TMS" DataColumn="TMS" Height="20" Id="cboStrTms" InnerDataset="dsOutStrTms" Left="274" ResetIndex="FIRST" Style="snis_if_input01" TabOrder="36" Top="34" Width="48"></Combo>
		<Static Align="Center" Height="20" Id="Static3" Left="330" Style="snis_txt" TabOrder="31" Text="~" Top="34" VAlign="Middle" Width="16"></Static>
		<Static Align="Right" Height="20" Id="Static5" Left="352" Style="snis_if_lable" TabOrder="41" Text="기준년도" Top="34" VAlign="Middle" Width="48"></Static>
		<Combo Border="Flat" CodeColumn="STND_YEAR" DataColumn="STND_YEAR" Height="20" Id="cboEndStndYear" InnerDataset="dsOutStndYear" Left="402" OnChanged="cboEndStndYear_OnChanged" ResetIndex="FIRST" Style="snis_if_input01" TabOrder="43" Top="34" Width="64"></Combo>
		<Static Align="Right" Height="20" Id="Static6" Left="474" Style="snis_if_lable" TabOrder="42" Text="회차" Top="34" VAlign="Middle" Width="24"></Static>
		<Combo Border="Flat" CodeColumn="TMS" DataColumn="TMS" Height="20" Id="cboEndTms" InnerDataset="dsOutEndTms" Left="506" ResetIndex="FIRST" Style="snis_if_input01" TabOrder="40" Top="34" Width="48"></Combo>
		<Static Align="Right" Height="20" Id="Static1" Left="566" Style="snis_if_lable" TabOrder="32" Text="선수명" Top="34" VAlign="Middle" Width="44"></Static>
		<Edit Border="Flat" Height="20" Id="edRacerNm" Left="614" Style="snis_if_input01" TabOrder="33" Top="34" Width="56"></Edit>
		<Static Align="Right" Height="20" Id="Static7" Left="674" Style="snis_if_lable" TabOrder="34" Text="처리상태" Top="34" VAlign="Middle" Width="52"></Static>
		<Combo Border="Flat" CodeColumn="CD" DataColumn="CD_NM" Height="20" Id="cboPrsStatTpe" InnerDataset="dsOutPrsStatCd" Left="730" Style="snis_if_input01" TabOrder="35" Top="34" Width="97"></Combo>
		<Static Align="Right" Border="Flat" Height="20" Id="Static4" Left="440" Style="snis_m_lable" TabOrder="44" Text="발생장소&#32;" Top="422" VAlign="Middle" Width="62"></Static>
		<MaskEdit BindDataset="dsOutAcdntReport" Border="Flat" Column="RACE_DAY" Height="20" Id="mdRaceDay" Left="572" Mask="@@@@-@@-@@" Readonly="TRUE" Style="snis_m_input01" TabOrder="45" Top="376" Type="STRING" Width="72"></MaskEdit>
		<Combo BindDataset="dsOutAcdntReport" Border="Flat" CodeColumn="CD" Column="CIRCUIT_CNT_CD" DataColumn="CD_NM" Editable="TRUE" Height="20" Id="cboCircuitCntCd" InnerDataset="dsOutCricuitCntCd" Left="338" ResetIndex="FIRST" Style="snis_if_input01" TabOrder="46" Top="420" Width="100"></Combo>
		<Combo BindDataset="dsOutAcdntReport" Border="Flat" CodeColumn="CD" Column="ACDNT_LOC_CD" DataColumn="CD_NM" Editable="TRUE" Height="20" Id="cboAcdntLocCd" InnerDataset="dsOutAcdntLocCd" Left="504" ResetIndex="FIRST" Style="snis_if_input01" TabOrder="47" Top="420" Width="104"></Combo>
		<Static Align="Right" Border="Flat" Height="20" Id="Static21" Left="820" Style="snis_m_lable" TabOrder="48" Text="처리상태&#32;" Top="420" VAlign="Middle" Width="84"></Static>
		<Combo BindDataset="dsOutAcdntReport" Border="Flat" CodeColumn="CD" Column="PRS_STAT" DataColumn="CD_NM" Enable="FALSE" Height="20" Id="Combo2" InnerDataset="dsOutPrsStatCd" Left="906" ResetIndex="FIRST" Style="snis_if_input01" TabOrder="49" Top="420" Width="100"></Combo>
		<Static Align="Right" Height="20" Id="Static24" Left="18" Style="snis_if_lable" TabOrder="50" Text="경정장" Top="35" VAlign="Middle" Width="36"></Static>
		<Combo Border="Flat" CodeColumn="CD" DataColumn="CD_NM" Height="20" Id="cboMbrCd" InnerDataset="dsOutMbrCd" Left="56" Style="snis_if_input01" TabOrder="51" Top="34" Width="66"></Combo>
		<Calendar BindDataset="dsOutAcdntReport" Border="Flat" Column="CNF_DT" EditAlign="CENTER" Height="20" Id="calBirthDt" Left="712" OnFocus="fcEditFocus" SaturdayTextColor="blue" Style="snis_m_input01" SundayTextColor="red" TabOrder="52" Top="420" Width="100"></Calendar>
		<Static Align="Right" Border="Flat" Height="20" Id="Static25" Left="646" Style="snis_m_lable" TabOrder="53" Text="확정일자" Top="420" VAlign="Middle" Width="62"></Static>
		<Grid AutoFit="TRUE" AutoFitEndLine="Hide" BindDataset="dsOutRaceInfo" BKColor="user15" BkColor2="user16" BkSelColor="user17" BoldHead="true" Border="Flat" BorderColor="user22" Bottom="580" Editable="TRUE" Enable="true" EndLineColor="default" HeadBorder="Flat" HeadHeight="20" Height="160" Id="grdOutRaceOrgan" InputPanel="FALSE" Left="4" LineColor="user18" MinWidth="100" Right="274" SelColor="user19" Style="snis_grid" TabOrder="54" TabStop="true" Top="420" UseDBuff="true" UsePopupMenu="true" UseSelColor="true" Visible="true" VLineColor="default" WheelScrollRow="1" Width="270">
			<contents>
				<format id="Default">
					<columns>
						<col width="0"/>
						<col width="22"/>
						<col width="29"/>
						<col width="53"/>
						<col width="49"/>
						<col width="31"/>
						<col width="50"/>
						<col width="55"/>
					</columns>
					<head>
						<cell bkcolor="user20" col="0" color="user21" display="text" font="굴림,9" text="경주번호"/>
						<cell bkcolor="user20" col="1" color="user21" display="text" font="굴림,9"/>
						<cell bkcolor="user20" col="2" color="user21" display="text" font="굴림,9" text="호정"/>
						<cell bkcolor="user20" col="3" color="user21" display="text" font="굴림,9" text="선수번호"/>
						<cell bkcolor="user20" col="4" color="user21" display="text" font="굴림,9" text="선수명"/>
						<cell bkcolor="user20" col="5" color="user21" display="text" font="굴림,9" text="순위"/>
						<cell bkcolor="user20" col="6" color="user21" display="text" font="굴림,9" text="모터"/>
						<cell bkcolor="user20" col="7" color="user21" display="text" font="굴림,9" text="보트"/>
					</head>
					<body>
						<cell col="0" colid="RACE_NO" display="text"/>
						<cell col="1" colid="chk" display="checkbox" edit="checkbox"/>
						<cell align="center" col="2" colid="RACE_REG_NO" display="text"/>
						<cell align="center" col="3" colid="RACER_NO" display="text"/>
						<cell align="center" col="4" colid="RACER_NM" display="text"/>
						<cell align="center" col="5" colid="RANK" display="text"/>
						<cell align="center" col="6" colid="MOT_REG_NO" display="text"/>
						<cell align="center" col="7" colid="BOAT_REG_NO" display="text"/>
					</body>
				</format>
			</contents>
		</Grid>
		<Combo BindDataset="dsOutAcdntReport" Border="Flat" CodeColumn="STND_YEAR" Column="STND_YEAR" DataColumn="STND_YEAR" Height="20" Id="cboRaceStndYear" InnerDataset="dsOutRaceStndYear" Left="190" OnChanged="cboRaceStndYear_OnChanged" ResetIndex="FIRST" Style="snis_if_input01" TabOrder="56" Top="376" Width="58"></Combo>
		<Combo BindDataset="dsOutAcdntReport" Border="Flat" CodeColumn="CD" Column="MBR_CD" DataColumn="CD_NM" Height="20" Id="cboRaceMbrCd" InnerDataset="dsOutRaceMbrCd" Left="70" OnChanged="cboRaceMbrCd_OnChanged" Style="snis_if_input01" TabOrder="58" Top="376" Width="60"></Combo>
		<Combo BindDataset="dsOutAcdntReport" Border="Flat" CodeColumn="TMS" Column="TMS" DataColumn="TMS" Height="20" Id="cboRaceTms" InnerDataset="dsOutRaceTms" Left="290" OnChanged="cboRaceTms_OnChanged" ResetIndex="FIRST" Style="snis_if_input01" TabOrder="55" Top="376" Width="44"></Combo>
		<Combo BindDataset="dsOutAcdntReport" Border="Flat" CodeColumn="DAY_ORD" Column="DAY_ORD" DataColumn="DAY_ORD" Height="20" Id="cboRaceDayOrd" InnerDataset="dsOutRaceDayOrd" Left="378" OnChanged="cboRaceDayOrd_OnChanged" ResetIndex="FIRST" Style="snis_if_input01" TabOrder="57" Top="376" Width="44"></Combo>
		<Combo BindDataset="dsOutAcdntReport" Border="Flat" CodeColumn="RACE_NO" Column="RACE_NO" DataColumn="RACE_NO" Height="20" Id="cboRaceNo" InnerDataset="dsOutRaceNo" Left="462" OnChanged="cboRaceNo_OnChanged" ResetIndex="FIRST" Style="snis_if_input01" TabOrder="59" Top="376" Width="42"></Combo>
		<Div Height="22" Id="divBtnRowDetail" Left="962" TabOrder="60" Text="Div0" Top="64" Url="common::comButtonRow.xml" Width="46">
			<Contents></Contents>
		</Div>
		<Static Align="Right" Border="Flat" Height="20" Id="Static28" Left="4" Style="snis_m_lable" TabOrder="61" Text="경정장" Top="376" VAlign="Middle" Width="64"></Static>
		<Static Align="Right" Border="Flat" Height="20" Id="Static27" Left="134" Style="snis_m_lable" TabOrder="62" Text="기준년도" Top="376" VAlign="Middle" Width="52"></Static>
		<Static Align="Center" Border="Flat" Height="20" Id="Static29" Left="250" Style="snis_m_lable" TabOrder="63" Text="회차" Top="376" VAlign="Middle" Width="38"></Static>
		<Static Align="Center" Border="Flat" Height="20" Id="Static30" Left="336" Style="snis_m_lable" TabOrder="64" Text="일차" Top="376" VAlign="Middle" Width="40"></Static>
		<Static Align="Center" Border="Flat" Height="20" Id="Static31" Left="424" Style="snis_m_lable" TabOrder="65" Text="경주" Top="376" VAlign="Middle" Width="36"></Static>
		<Edit BindDataset="dsOutAcdntReport" Border="Flat" Column="MOT_NOS" Height="20" Id="Edit0" Left="340" Readonly="TRUE" Style="snis_m_input01" TabOrder="66" Top="444" Width="304"></Edit>
		<Edit BindDataset="dsOutAcdntReport" Border="Flat" Column="BOAT_NOS" Height="20" Id="Edit1" Left="710" Readonly="TRUE" Style="snis_m_input01" TabOrder="67" Top="444" Width="298"></Edit>
		<Static Align="Right" Border="Flat" Height="20" Id="Static10" Left="646" Style="snis_m_lable" TabOrder="69" Text="사고상태" Top="376" VAlign="Middle" Width="62"></Static>
		<Edit BindDataset="dsOutAcdntReport" Border="Flat" Column="ACDNT_SUMMARY" Height="20" Id="Edit2" Left="712" Style="snis_m_input01" TabOrder="68" Top="376" Width="296"></Edit>
		<Button ButtonStyle="TRUE" Height="20" Id="btnAcdntReportJudge" ImageID="btn_pop_txt_07" Left="840" OnClick="btnAcdntReportJudge_OnClick" Style="snis_btn" TabOrder="70" Text="보고서출력(심판)" Top="348" Transparent="TRUE" Visible="FALSE" Width="102"></Button>
	</Form>
	<Script><![CDATA[/***************************************************************************************************
*   Form Common Script                                                                             *
*     현재 총 100 컬럼임 되도록 100 컬럼 안으로 코딩을 하세요                                      *
123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 1234567890
***************************************************************************************************/

/***************************************************************************************************
*                                         공통 Script Include                                      *
***************************************************************************************************/
#include "lib::boa_common_script.js";
#include "lib::boa_app_script.js";

/***************************************************************************************************
*                                          화면 변수 선언부                                        *
***************************************************************************************************/
var sFormId       = 'E06010060';
var sBUTTONLIST   = 'FTFFFT';                         //공통기능정의(버튼순으로 T or F)
var sUSERAUTH     = '';                                //사용자별 프로그램 사용 권한
var sFORMCAPTION  = '';                                //Form의 Title 정보
var sFORMLOCATION = '';                                //Form의 Location 정보
var sUSERLAVEL    = '';                                //Form의 사용  Level
var vREVOBJ       = Array(9);                          //결과값 처리를 위한 오브젝트 
var sGRDTIT       = "";                                //그리드 제목
var sCUROBJ       ;                                    //현재 LOST FOCUS 오브젝트

var LATEST_ROW_POS = -1;		//사고조사 보고서  최종 rowposition
var SAVE_BUTTON_CLICK = 'N';  //Serach 버튼 눌렸을 때 
var CURR_DT = fce_GetSysdate("YYYYMMDD");
var CURR_STNT_YEAR = SubStr(CURR_DT,0,4);
var CURR_USER_MBR_CD = gdsRace.GetColumn(gdsRace.rowposition, "MBR_CD");	//현재 User의 경정장 코드 
var CURR_TMS = gdsRace.GetColumn(gdsRace.rowposition, "TMS");			//현재 회차  
var CURR_DAY_ORD = gdsRace.GetColumn(gdsRace.rowposition, "DAY_ORD");		//현재 일차 






/***************************************************************************************************
*                                         공통 Event 처리 부분                                     *
***************************************************************************************************/
/*-------------------------------------------------------------------------------------------------+
>>  최초 화면 Load時 처리 할 사항
+-------------------------------------------------------------------------------------------------*/
function fcFormLoadSetting(obj) {
	
	//화면환경 설정
	sFORMCAPTION  = obj.Title;
	sFORMLOCATION = "";
	
	//화면 정보 Display 및 Button 권한 설정
	fnc_FormLoadSetting(obj, sFORMCAPTION, sFORMLOCATION, sBUTTONLIST, sUSERAUTH);
	
	//초기 화면 BK Color설정 
	fnc_SetBKColor(this);

	http.sync = true;
    
    //년도조회
    fce_SetStndYear(dsOutStndYear, toInteger(CURR_STNT_YEAR));
    fce_SetStndYear(dsOutRaceStndYear, toInteger(CURR_STNT_YEAR));
    
    
	//공통코드 조회
	fce_GetComboDs(dsInComCd);
	
	http.sync = false;
	// 화면 초기화
	fcInit();
	fcSearch();
}

/*-------------------------------------------------------------------------------------------------+
>>  최초 화면 Load時 처리 할 사항
+-------------------------------------------------------------------------------------------------*/
function fcFormUnloadProcess(obj) {
	if ( !fnc_FormUnloadCheck("dsOutAcdntReport" , sFormId) ) return false;
}

/*-------------------------------------------------------------------------------------------------+
>>  단축키 처리(Form KeyDown)
+-------------------------------------------------------------------------------------------------*/
function fcHotKey(obj,objSenderObj,nChar,bShift,bControl,bAlt,nLLParam,nHLParam) {

	//Return Key Press時 Next Component focus
	if( !(GetCurrentComponent().ID == 'txaAcdmtDesc' || GetCurrentComponent().ID == 'txaPrsDesc')){
		if ( nChar == 13 ) {
			var oFocusComponent = GetNextComponent(true);
			oFocusComponent.setfocus();
			return;
		}
	}
	

	//Control Key가 눌려져 있다면 단축키 처리
	//if (bControl) fnc_HotKey(this, nChar);
}

/***************************************************************************************************
*                                      공통 버튼 Event 처리 부분                                   *
***************************************************************************************************/
/*-------------------------------------------------------------------------------------------------+
>>  취소 버튼 클릭 時 처리
+-------------------------------------------------------------------------------------------------*/
function fcInit(obj) {	
	if(sInpt == "F"){
		this.divBtnLst.btnSave.Visible = false;
		dsOutPrsStatCd.Filter("CD=='003'");
		grdOutRaceOrgan.Enable = false;
	}
    dsOutAcdntReport.ClearData();
}

/*-------------------------------------------------------------------------------------------------+
>>  조회 버튼 클릭 時 처리
+-------------------------------------------------------------------------------------------------*/
function fcSearchCheck() {
   
}

//조회 
function fcSearch(obj) {
	SAVE_BUTTON_CLICK = 'N';
	
	fcSearchCheck();
    
    var sServiceName = "e06010060-service:searchAcdntReport";
    var sInDataSet   = "";
    var sOutDataSet  = "dsOutAcdntReport=dsOutAcdntReport";
    
    fce_AddParam("STR_STND_YEAR", cboStrStndYear.Value);
	fce_AddParam("STR_TMS", cboStrTms.Value);
	fce_AddParam("END_STND_YEAR", cboEndStndYear.Value);
	fce_AddParam("END_TMS", cboEndTms.Value);
	fce_AddParam("MBR_CD", cboMbrCd.Value);
    fce_AddParam("RACER_NMS", edRacerNm.Text);
	fce_AddParam("PRS_STAT_TPE", cboPrsStatTpe.Value);
	
	
	fce_SendTransaction(sServiceName, sInDataSet, sOutDataSet, "fcCallBack", false);
}


/*-------------------------------------------------------------------------------------------------+
>>  저장 버튼 클릭 時 처리
+-------------------------------------------------------------------------------------------------*/
function fcSaveCheck(obj) {
	SAVE_BUTTON_CLICK = 'Y';
	
	//변경된 자료가 있는지 체크
	if ( !fnc_DatasetChangeCheck(dsOutAcdntReport))
	{
		//저장 할 자료가 없음
		fnc_Message(SNIS_COM_1006, "N");	
		return false;
	}

	// 필수항목체크
	oDataSet          = dsOutAcdntReport;
	sMandatoryColID   = "STND_YEAR|TMS|DAY_ORD";
	sMandatoryColName = "기준년도|회차|일차";
	oGrid             = grdAcdntReport;
	if ( fnc_GetMandatoryViolateRow(oDataSet, sMandatoryColID, sMandatoryColName, oGrid) > -1 ) {
	    return false;
	}
	
	return true;
}

function fcSave(obj) {
    if ( !fcSaveCheck() ) return;
	var sServiceName = "e06010060-service:saveAcdntReport";
    var sInDataSet   = "dsOutAcdntReport=dsOutAcdntReport:u";
    var sOutDataSet  = "dsOutAcdntReport=dsOutAcdntReport";
    
    fce_AddParam("STR_STND_YEAR", cboStrStndYear.Value);
	fce_AddParam("STR_TMS", cboStrTms.Value);
	fce_AddParam("END_STND_YEAR", cboEndStndYear.Value);
	fce_AddParam("END_TMS", cboEndTms.Value);
	fce_AddParam("MBR_CD", cboMbrCd.Value);
    fce_AddParam("RACER_NMS", edRacerNm.Text);
	fce_AddParam("PRS_STAT_TPE", cboPrsStatTpe.Value);
	
	fce_SendTransaction(sServiceName, sInDataSet, sOutDataSet, "fcCallBack", false);
}

/*-------------------------------------------------------------------------------------------------+
>>  엑셀 버튼 클릭 時 처리
+-------------------------------------------------------------------------------------------------*/
function fcToExcel(obj) {
	fnc_OpenExcelExport("dsOutAcdntReport");
}

/*-------------------------------------------------------------------------------------------------+
>>  인쇄 버튼 클릭 時 처리
+-------------------------------------------------------------------------------------------------*/
function fcPrint(obj) {
	var sFileName = "C:\\snis_root\\\\template01r0.xml";
    fnc_ToPrint(sFileName, dsOutEmp, divBtnLst.flCom);          //인쇄 할 레포트 파일명, DataSet
}
/*-------------------------------------------------------------------------------------------------+
>>  화면 종료(닫기) 버튼 클릭 時 처리
+-------------------------------------------------------------------------------------------------*/
function fcEnd(obj) {
	//화면 종료
	Close();	
}

/*-------------------------------------------------------------------------------------------------+
>>  행추가 버튼 클릭 時 처리
+-------------------------------------------------------------------------------------------------*/
function fcAddRow(obj) {
	dsOutAcdntReport.AddRow();
	dsOutAcdntReport.SetColumn(dsOutAcdntReport.rowposition, "PRS_STAT", '001');
	dsOutAcdntReport.SetColumn(dsOutAcdntReport.rowposition, "STND_YEAR", CURR_STNT_YEAR);
	dsOutAcdntReport.SetColumn(dsOutAcdntReport.rowposition, "MBR_CD", CURR_USER_MBR_CD);
	//fce_GetRaceTms(CURR_STNT_YEAR, CURR_USER_MBR_CD, null, "dsOutRaceTms");
	dsOutAcdntReport.SetColumn(dsOutAcdntReport.rowposition, "TMS", CURR_TMS);
	dsOutAcdntReport.SetColumn(dsOutAcdntReport.rowposition, "DAY_ORD", CURR_DAY_ORD);
	dsOutAcdntReport.SetColumn(dsOutAcdntReport.rowposition, "CNF_DT", CURR_DT);
	dsOutAcdntReport.SetColumn(dsOutAcdntReport.rowposition, "PRS_STAT", '002');
	
}

/*-------------------------------------------------------------------------------------------------+
>>  행삭제 버튼 클릭 時 처리
+-------------------------------------------------------------------------------------------------*/
function fcDelRow(obj) {
	if ( !fnc_DeleteCheck(dsOutAcdntReport, "chk", "1") ) return;
	fcSave();
            
}
/***************************************************************************************************
*                                      공통 Function 처리 부분                                     *
***************************************************************************************************/
/*-------------------------------------------------------------------------------------------------+
>>  Text Box가 Focus를 받을 때
+-------------------------------------------------------------------------------------------------*/
function fcEditFocus(obj) {
	fnc_EditFocus(obj);
}

/*-------------------------------------------------------------------------------------------------+
>>  그리드 정렬
+-------------------------------------------------------------------------------------------------*/
function fcGridSort(obj,nCell,nX,nY) {
	//특정 Head 클릭 시 해당 항목으로 Sort(만약 특정 컬럼을 누를때만 소트하고자 한다면 nCell로 조건)
	fnc_GridSort(obj, object(obj.BindDataset), nCell);	
}

/*-------------------------------------------------------------------------------------------------+
>>  Help Popup Open
+-------------------------------------------------------------------------------------------------*/
function fcHelpDialoge(obj,nX,nY) {

}

/*-------------------------------------------------------------------------------------------------+
>>  그리드에서 팝업 처리 
+-------------------------------------------------------------------------------------------------*/
function fcGrdOnExpandEdit(objGrd, nRow, nCell, strVal, nPivotIndex){
	
}

/***************************************************************************************************
*                                      사용자 정의  처리 부분                                      *
***************************************************************************************************/
/*-------------------------------------------------------------------------------------------------+
>>  Transaction 후 처리 해야 할 내용!
+-------------------------------------------------------------------------------------------------*/
function fcCallBack(sServiceName, ErrorCode, ErrorMSG) {

	if ( !fnc_result(ErrorCode, ErrorMSG) ) return;
	
	// 조회 후
	if ( sServiceName == "e06010060-service:searchAcdntReport" ) {
	    fnc_SetStatus(SNIS_BOA_0003,  dsOutAcdntReport.GetRowCount());
	    
        
	}

	// 저장 후
	if ( sServiceName == "e06010060-service:saveAcdntReport" ) {
		
	}
	
	//오류가 없이 정상 처리되었다면...
	fcPostProcess(sServiceName);
}

/*-------------------------------------------------------------------------------------------------+
>>  Transaction 후 Post Process!
+-------------------------------------------------------------------------------------------------*/
function fcPostProcess(sServiceName) {

}

/*-------------------------------------------------------------------------------------------------+
>>  코드나 명 입력 후 Lost Focus 시 해당 정보 Display
+-------------------------------------------------------------------------------------------------*/
function fcCodeNameDisplay(obj) {

}


//기준 년도에 대한 회차 조회 
function fcGetTmsList(ds, stndYear){
	var sServiceName = "e00010010-service:searchRaceTms";
    var sInDataSet   = "";
    var sOutDataSet  = ds +"=dsOutRaceTms";
    
	fce_AddParam("STND_YEAR", stndYear);
	fce_AddParam("TMS", null   );
	fce_SendTransaction(sServiceName, sInDataSet, sOutDataSet, "fcCallBack", false);
}


//시작 기준년도 변경시 
function cboStrStndYear_OnChanged(obj,strCode,strText,nOldIndex,nNewIndex)
{
	fce_GetRaceTms(strText, cboMbrCd.Value, null, "dsOutStrTms");
}

//종료 기준년도 변경시 
function cboEndStndYear_OnChanged(obj,strCode,strText,nOldIndex,nNewIndex)
{
	fce_GetRaceTms(strText, cboMbrCd.Value, null, "dsOutEndTms");
}

//처리상태 코드 on load시 
function dsOutPrsStatCd_OnLoadCompleted(obj,nErrorCode,strErrorMsg,nReason)
{
	if(sInpt == "T"){
		fce_AddCodeRow(dsOutPrsStatCd, "전체", "", "");
		cboPrsStatTpe.Value = "";
	}else{
		cboPrsStatTpe.Value = '003';
	}
}

//사고조사 보고서 row 변경시 
function dsOutAcdntReport_OnRowPosChanged(obj,nOldRow,nRow)
{
	if(SAVE_BUTTON_CLICK=='Y')LATEST_ROW_POS = nOldRow;
	fcSetButtonVisible();
	
	cboRaceStndYear.Value = dsOutAcdntReport.GetColumn(dsOutAcdntReport.rowposition, "STND_YEAR");
	cboRaceMbrCd.Value = dsOutAcdntReport.GetColumn(dsOutAcdntReport.rowposition, "MBR_CD");
	cboRaceTms.Value = dsOutAcdntReport.GetColumn(dsOutAcdntReport.rowposition, "TMS");
	cboRaceDayOrd.Value = dsOutAcdntReport.GetColumn(dsOutAcdntReport.rowposition, "DAY_ORD");
	cboRaceNo.Value = dsOutAcdntReport.GetColumn(dsOutAcdntReport.rowposition, "RACE_NO");
	
	
	if(dsOutAcdntReport.GetColumn(dsOutAcdntReport.rowposition, "STND_YEAR") != null){
		fce_GetRaceTms(cboRaceStndYear.Value, cboRaceMbrCd.Value, null, "dsOutRaceTms");
	}else{//Add Row인 경우 
		fce_GetRaceTms(CURR_STNT_YEAR, CURR_USER_MBR_CD, null, "dsOutRaceTms");
	}
	
	
	
	
    
}

//버는 Visible처리 
function fcSetButtonVisible(){
	var currPrsStatTpe = dsOutAcdntReport.GetColumn(dsOutAcdntReport.rowposition, "PRS_STAT");
	if(sInpt == "F"){
		btnAcdntReport.Visible = true;
		btnAcdntReportJudge.Visible = true;
		btnConfirm.Visible = false;
		btnConfirmCancel.Visible = false;
	}else if(currPrsStatTpe=="003"){
		btnAcdntReport.Visible = true;
		btnAcdntReportJudge.Visible = true;
		btnConfirm.Visible = false;
		btnConfirmCancel.Visible = true;
		
	}else{
		btnAcdntReport.Visible = true;
		btnAcdntReportJudge.Visible = false;
		btnConfirm.Visible = true;
		btnConfirmCancel.Visible = false;
	}
}

//사고조사 보고서 DataSet 정상  로드시  (저장후 조회시 저장시점으 Rowposition유지)
function dsOutAcdntReport_OnLoadCompleted(obj,nErrorCode,strErrorMsg,nReason)
{
	fnc_ProgressClose(); //팝업창이 Close안되었으면 Close시킨다.
	if(LATEST_ROW_POS>0 )dsOutAcdntReport.Row =LATEST_ROW_POS;
}

//사고조사 보고서 출력 
function btnAcdntReport_OnClick(obj)
{
	fcAcdntReportPrint();
}

//확정취소 
function btnConfirmCancel_OnClick(obj)
{
	dsOutAcdntReport.SetColumn(dsOutAcdntReport.rowposition, "PRS_STAT", "002");
	fcSetButtonVisible();
}

//확정 
function btnConfirm_OnClick(obj)
{
	dsOutAcdntReport.SetColumn(dsOutAcdntReport.rowposition, "PRS_STAT", "003");
	fcSetButtonVisible();
	
	fcSave();
}

//경정장 코드 정상 로드시 
function dsOutMbrCd_OnLoadCompleted(obj,nErrorCode,strErrorMsg,nReason)
{
	var mbrCd = dsOutMbrCd.GetColumn(dsOutMbrCd.rowposition, "CD");
	cboMbrCd.Value = CURR_USER_MBR_CD;
	fce_GetRaceTms(cboStrStndYear.Value, cboMbrCd.Value, null, "dsOutStrTms");
	fce_GetRaceTms(cboEndStndYear.Value, cboMbrCd.Value, null, "dsOutEndTms");
}

function dsOutEndTms_OnLoadCompleted(obj,nErrorCode,strErrorMsg,nReason)
{
	cboEndTms.Value = CURR_TMS;
}

function dsOutStrTms_OnLoadCompleted(obj,nErrorCode,strErrorMsg,nReason)
{
	cboStrTms.Value = CURR_TMS;
}


//레포트 DataSet으로 Copy
function fnCopyReportDataSet(){
	dsOutReportAcdntReport.ClearData();
	dsOutReportAcdntReport.AddRow();
	for(i=0; i<dsOutReportAcdntReport.GetColCount(); i++){
		var columnID =  dsOutReportAcdntReport.GetColID(i);
		dsOutReportAcdntReport.SetColumn(dsOutReportAcdntReport.rowposition , columnID, dsOutAcdntReport.GetColumn(dsOutAcdntReport.rowposition, columnID));
	}
	dsOutReportAcdntReport.SetColumn(dsOutReportAcdntReport.rowposition , "ACDNT_LOC_CD", cboAcdntLocCd.Text);
	dsOutReportAcdntReport.SetColumn(dsOutReportAcdntReport.rowposition , "CIRCUIT_CNT_CD", cboCircuitCntCd.Text);
}


//확정 통보서 출력 
function fcAcdntReportPrint(reportTpe){
    
    fnCopyReportDataSet();
    
    
	var logImgUrl = GBL_REPORT_URL+"log.jpg";
	var sSubUrl   = "";                     //레포트 파일이 있는 서브디렉토리
	var sRptNm    = "e06019060_race_acdnt_report.jrf";               //레포트 파일명
	if(reportTpe=='Judge')sRptNm = "e06019060_race_acdnt_judge_report.jrf";
	
	var sDataSet  = "acdnt_report=dsOutReportAcdntReport";   //"UBI 쿼리명, MIP Dataset명"
	var sArg      = "IMG_URL="+logImgUrl; 
		
	var sRptDrct  = 1;                               //출력방향(0 : 수직, 1 : 수평)
	
	fnc_RPTPrint(sSubUrl, sRptNm, sDataSet, sArg, sRptDrct);
}



//경주조회 회차 DataSet 로드시 
function dsOutRaceTms_OnLoadCompleted(obj,nErrorCode,strErrorMsg,nReason)
{
	cboRaceTms.Value= dsOutAcdntReport.GetColumn(dsOutAcdntReport.rowposition, "TMS");
	if(cboRaceTms.Value=='')cboRaceTms.Value = CURR_TMS;
	
	fce_GetRaceDayOrd(cboRaceStndYear.Value, cboRaceMbrCd.Value,  cboRaceTms.Value, "dsOutRaceDayOrd");
}

//경주조회 일차  DataSet 로드시 
function dsOutRaceDayOrd_OnLoadCompleted(obj,nErrorCode,strErrorMsg,nReason)
{
	cboRaceDayOrd.Value= dsOutAcdntReport.GetColumn(dsOutAcdntReport.rowposition, "DAY_ORD");
	var raceDay =  dsOutRaceDayOrd.GetColumn(dsOutRaceDayOrd.rowposition, "RACE_DAY");
	dsOutAcdntReport.SetColumn(dsOutAcdntReport.rowposition, "RACE_DAY", raceDay);
	
	fce_GetRace(cboRaceStndYear.Value, cboRaceMbrCd.Value, cboRaceTms.Value, cboRaceDayOrd.Value, "dsOutRaceNo");
}


//경주조회 기준년도 변경시 
function cboRaceStndYear_OnChanged(obj,strCode,strText,nOldIndex,nNewIndex)
{
	fce_GetRaceTms(strText, cboRaceMbrCd.Value, null, "dsOutRaceTms");
}

//경주조회 일차 변경시 
function cboRaceTms_OnChanged(obj,strCode,strText,nOldIndex,nNewIndex)
{
	fce_GetRaceDayOrd(cboRaceStndYear.Value, cboRaceMbrCd.Value,  cboRaceTms.Value, "dsOutRaceDayOrd");
}

//경주조회 경정장 코드 변경시 
function cboRaceMbrCd_OnChanged(obj,strCode,strText,nOldIndex,nNewIndex)
{
	fce_GetRaceTms(cboRaceStndYear.Value, cboRaceMbrCd.Value, null, "dsOutRaceTms");
}


//경주조회 일차 변경시 
function cboRaceDayOrd_OnChanged(obj,strCode,strText,nOldIndex,nNewIndex)
{	
	var raceDay =  dsOutRaceDayOrd.GetColumn(dsOutRaceDayOrd.rowposition, "RACE_DAY");
	dsOutAcdntReport.SetColumn(dsOutAcdntReport.rowposition, "RACE_DAY", raceDay);
	
	fce_GetRace(cboRaceStndYear.Value, cboRaceMbrCd.Value, cboRaceTms.Value, cboRaceDayOrd.Value, "dsOutRaceNo");
	
}




function fcSearchRace() {
    var sServiceName = "e06010060-service:searchRaceInfo";
    var sInDataSet   = "";
    var sOutDataSet  = "dsOutRaceInfo=dsOutRaceInfo";
    
    fce_AddParam("STND_YEAR", cboRaceStndYear.Value);
    fce_AddParam("MBR_CD", cboRaceMbrCd.Value);
	fce_AddParam("TMS", cboRaceTms.Value);
	fce_AddParam("DAY_ORD", cboRaceDayOrd.Value);
    fce_AddParam("RACE_NO", cboRaceNo.Value);
      
    fce_SendTransaction(sServiceName, sInDataSet, sOutDataSet, "fcCallBack", false);       
}


function cboRaceNo_OnChanged(obj,strCode,strText,nOldIndex,nNewIndex)
{
	fcSearchRace();
}

function dsOutRaceNo_OnLoadCompleted(obj,nErrorCode,strErrorMsg,nReason)
{
	fcSearchRace();
}

function btnSearchRace_OnClick(obj)
{
	fcSearchRace();
}

function grdOutRaceOrgan_OnCellDblClick(obj,nRow,nCell,nX,nY,nPivotIndex)
{
	
}
	

function dsOutRaceInfo_OnLoadCompleted(obj,nErrorCode,strErrorMsg,nReason)
{
	cboRaceNo.Value= dsOutAcdntReport.GetColumn(dsOutAcdntReport.rowposition, "RACE_NO");
	var raceRegNos = Split(dsOutAcdntReport.getColumn(dsOutAcdntReport.rowposition, "RACE_REG_NOS"),'/');
	for(i=0; i<raceRegNos.length; i++){
		dsOutRaceInfo.SetColumn(ToInteger(raceRegNos[i])-1, "CHK", 1);
	}
	
	
}

function dsOutRaceInfo_OnColumnChanged(obj,nRow,strColumnID,varOldValue,varNewValue,nPivotIndex)
{
	if(strColumnID=='CHK'){
		bindFilds();
	}
}


//경주정보에 check박스 선택시 
function bindFilds(){
	var arrCheckedList  = array(); 
	for(i=0; i<dsOutRaceInfo.GetRowCount(); i++){
		if(dsOutRaceInfo.getColumn(i, 'CHK')=='1'){
			arrCheckedList[arrCheckedList.length] = i;
		}
	}
	var raceRegNos = "";
	var racerNos = "";
	var racerNms = "";
	var motNos = "";
	var boatNos = "";
	
	
	for(i=0; i<arrCheckedList.length; i++){
		var raceRegNo = dsOutRaceInfo.GetColumn(arrCheckedList[i], "RACE_REG_NO");
		var racerNo = dsOutRaceInfo.GetColumn(arrCheckedList[i], "RACER_NO");
		var racerNm = dsOutRaceInfo.GetColumn(arrCheckedList[i], "RACER_NM");
		var motNo = dsOutRaceInfo.GetColumn(arrCheckedList[i], "MOT_REG_NO");
		var boatNo = dsOutRaceInfo.GetColumn(arrCheckedList[i], "BOAT_REG_NO");
		raceRegNos += raceRegNo;
		racerNos += racerNo;
		racerNms += racerNm;
		motNos += motNo;
		boatNos += boatNo;
			
		if(i < arrCheckedList.length-1){
			raceRegNos += "/";
			racerNos += "/";
			racerNms += "/";
			motNos += "/";
			boatNos += "/";
		}
	}
	
	dsOutAcdntReport.SetColumn(dsOutAcdntReport.rowposition, "RACE_REG_NOS", raceRegNos);
	dsOutAcdntReport.SetColumn(dsOutAcdntReport.rowposition, "RACER_NOS", racerNos);
	dsOutAcdntReport.SetColumn(dsOutAcdntReport.rowposition, "RACER_NMS", racerNms);
	dsOutAcdntReport.SetColumn(dsOutAcdntReport.rowposition, "MOT_NOS", motNos);
	dsOutAcdntReport.SetColumn(dsOutAcdntReport.rowposition, "BOAT_NOS", boatNos);
	
	
}

function dsOutRaceDayOrd_OnRowPosChanged(obj,nOldRow,nRow)
{
	var raceDay =  dsOutRaceDayOrd.GetColumn(dsOutRaceDayOrd.rowposition, "RACE_DAY");
	dsOutAcdntReport.SetColumn(dsOutAcdntReport.rowposition, "RACE_DAY", raceDay);
}

function dsOutEquipTpeCd_OnLoadCompleted(obj,nErrorCode,strErrorMsg,nReason)
{
	
}

function btnAcdntReportJudge_OnClick(obj)
{
	fcAcdntReportPrint('Judge');
}
]]></Script>
</Window>