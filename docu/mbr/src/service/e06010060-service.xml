<?xml version="1.0" encoding="EUC-KR"?>
<!-- 
사고조사보고서 관리  
 -->
<service name="e06010060" initial="SetResultKeys">
  <activity name="SetResultKeys" class="com.posdata.glue.miplatform.biz.activity.PosSetResultKeyList">  
    <property name="staticResultKeyFile" value="resultkey.properties" />
    <property name="resultKeyList" value="dsOutAcdntReport|dsOutRaceInfo" />
    <transition name="success" value="EventRouter" />
  </activity>
  
  <activity name="EventRouter" class="com.posdata.glue.biz.activity.PosDefaultRouter">
    <transition name="searchAcdntReport"      value="searchAcdntReport" />
    <transition name="searchRaceInfo"      value="searchRaceInfo" />
    <transition name="saveAcdntReport"    value="saveAcdntReport" />
    <transition name="success" value="end" />
  </activity>

  <!-- 사고조사보고서 조회   -->
  <activity name="searchAcdntReport" class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" value="end" />
    <property name="resultkey" value="dsOutAcdntReport" />
    <property name="sqlkey" value="tbef_acdnt_report_ff001" />
    <property name="param-count" value="7" />
    <property name="dao" value="boadao" />
    <property name="param0" value="STR_STND_YEAR"/>
    <property name="param1" value="STR_TMS"/>
    <property name="param2" value="END_STND_YEAR"/>
    <property name="param3" value="END_TMS"/>
    <property name="param4" value="MBR_CD"/>
    <property name="param5" value="RACER_NM"/>
    <property name="param6" value="PRS_STAT_TPE"/>
  </activity>
  
  
  
  <!-- 사고조사보고서 조회(경주조회)   -->
  <activity name="searchRaceInfo" class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" value="end" />
    <property name="resultkey" value="dsOutRaceInfo" />
    <property name="sqlkey" value="tbef_acdnt_report_ff002" />
    <property name="param-count" value="5" />
    <property name="dao" value="boadao" />
    <property name="param0" value="STND_YEAR"/>
    <property name="param1" value="MBR_CD"/>
    <property name="param2" value="TMS"/>
    <property name="param3" value="DAY_ORD"/>
    <property name="param4" value="RACE_NO"/>
  </activity>
 
  <!-- 사고조사 보고서 저장 -->
  <activity name="saveAcdntReport" class="snis.boa.equipment.e06010060.activity.SaveAcdntReport">
    <transition name="success" value="searchAcdntReport" />
  </activity>

  <transaction-manager id="tx_boa" commit="true" />
</service>

