<?xml version="1.0" encoding="EUC-KR"?>
<service name="e02050010" initial="SetResultKeys">
  <activity name="SetResultKeys" class="com.posdata.glue.miplatform.biz.activity.PosSetResultKeyList">  
    <property name="staticResultKeyFile" value="resultkey.properties" />
    <property name="resultKeyList" value="dsOutRace|dsOutOrgan|dsOutRaceEAllotRate|dsOutDivRate|dsOutRaceTypeMoney|dsOutMoneyCnt" />
    <transition name="success" value="EventRouter" />
  </activity>

  <activity name="EventRouter" class="com.posdata.glue.biz.activity.PosDefaultRouter">
    <transition name="searchRace"       		value="searchRace" />
    <transition name="searchRaceNoDetail"  		value="searchRaceNoDetail" />
    <transition name="searchRaceRateE" 	     	value="searchRaceRateE" />
    <transition name="searchRaceRateT"          value="searchRaceRateT" />
    <transition name="searchRaceMoney"     	    value="searchRaceMoney" />
    <transition name="searchRaceMoneyCnt"       value="searchRaceMoneyCnt" />        
    <transition name="saveRacerRankResult"      value="saveRacerRankResult" />    
    <transition name="success" value="end" />
  </activity>

  <!-- 경주 정보 조회 -->
  <activity name="searchRace" class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" value="end" />
    <property name="resultkey" value="dsOutRace" />
    <property name="sqlkey" value="tbes_sdl_fb001" />
    <property name="param-count" value="22" />
    <property name="dao" value="boadao" />
    
    <property name="param0" value="STND_YEAR" />
    <property name="param1" value="MEET_CD" />
    <property name="param2" value="TMS" />
    <property name="param3" value="DAY_ORD" />
    <property name="param4" value="RACE_NO" />
    
    <property name="param5" value="STND_YEAR" />
    <property name="param6" value="MEET_CD" />
    <property name="param7" value="TMS" />
    <property name="param8" value="DAY_ORD" />
    <property name="param9" value="RACE_NO" />

    <property name="param10" value="STND_YEAR" />
    <property name="param11" value="MEET_CD" />
    <property name="param12" value="TMS" />
    <property name="param13" value="DAY_ORD" />
    <property name="param14" value="RACE_NO" />

    <property name="param15" value="STND_YEAR" />
    <property name="param16" value="MBR_CD" />
    <property name="param17" value="TMS" />
    <property name="param18" value="DAY_ORD" />
    <property name="param19" value="RACE_NO" />
    
    <property name="param20"  value="ST_MTHD_CD" />
    <property name="param21"  value="ST_MTHD_CD" />
    
  </activity>
  
  <!-- 해당경주 상세 조회 -->
  <activity name="searchRaceNoDetail" class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" value="searchRaceRateE" />
    <property name="resultkey" value="dsOutOrgan" />
    <property name="sqlkey" value="tbeb_racer_recd_accu_sum_fb001" />
    <property name="param-count" value="14" />
    <property name="dao" value="boadao" />
    <property name="param0" value="STND_YEAR"/>
    <property name="param1" value="MBR_CD"/>
    <property name="param2" value="TMS"/>
    
    <property name="param3" value="STND_YEAR"/>
    <property name="param4" value="MBR_CD"/>
    <property name="param5" value="TMS"/>

    <property name="param6" value="STND_YEAR"/>
    <property name="param7" value="MBR_CD"/>
    <property name="param8" value="TMS"/>

    <property name="param9" value="STND_YEAR"/>
    <property name="param10" value="MBR_CD"/>
    <property name="param11" value="TMS"/>
    <property name="param12" value="DAY_ORD"/>
    <property name="param13" value="RACE_NO"/>
  </activity>

  <!-- 배당율(쌍승) 조회 -->
  <activity name="searchRaceRateE" class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" value="searchRaceRateT" />
    <property name="resultkey" value="dsOutRaceEAllotRate" />
    <property name="sqlkey" value="tbes_sdl_fb002" />
    <property name="param-count" value="5" />
    <property name="dao" value="boadao" />
    <property       name="param0"      value="STND_YEAR"   />
    <property       name="param1"      value="MEET_CD"      />
    <property       name="param2"      value="TMS"         />
    <property       name="param3"      value="DAY_ORD"     />
    <property       name="param4"      value="RACE_NO"     />
  </activity>
  
  <!-- 배당율(삼복승) 조회 -->
  <activity name="searchRaceRateT" class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" value="searchRaceMoney" />
    <property name="resultkey" value="dsOutDivRate" />
    <property name="sqlkey" value="tbes_sdl_pb_fe001" />
    <property name="param-count" value="5" />
    <property name="dao" value="boadao" />
    <property name="param0" value="STND_YEAR"/>
    <property name="param1" value="MEET_CD"/>
    <property name="param2" value="TMS"/>
    <property name="param3" value="DAY_ORD"/>
    <property name="param4" value="RACE_NO"/>
    
    
    <!-- 2013-12-20 backup
    <property name="param-count" value="25" />
    <property name="dao" value="boadao" />
    <property       name="param0"      value="STND_YEAR"   />
    <property       name="param1"      value="MEET_CD"      />
    <property       name="param2"      value="TMS"         />
    <property       name="param3"      value="DAY_ORD"     />
    <property       name="param4"      value="RACE_NO"     />

    <property       name="param5"      value="STND_YEAR"   />
    <property       name="param6"      value="MEET_CD"      />
    <property       name="param7"      value="TMS"         />
    <property       name="param8"      value="DAY_ORD"     />
    <property       name="param9"      value="RACE_NO"     />

    <property       name="param10"      value="STND_YEAR"   />
    <property       name="param11"      value="MEET_CD"      />
    <property       name="param12"      value="TMS"         />
    <property       name="param13"      value="DAY_ORD"     />
    <property       name="param14"      value="RACE_NO"     />

    <property       name="param15"      value="STND_YEAR"   />
    <property       name="param16"      value="MEET_CD"      />
    <property       name="param17"      value="TMS"         />
    <property       name="param18"      value="DAY_ORD"     />
    <property       name="param19"      value="RACE_NO"     />

    <property       name="param20"      value="STND_YEAR"   />
    <property       name="param21"      value="MEET_CD"      />
    <property       name="param22"      value="TMS"         />
    <property       name="param23"      value="DAY_ORD"     />
    <property       name="param24"      value="RACE_NO"     />
     -->
  </activity>
    
    
  <!-- 매출액 조회 -->
  <activity name="searchRaceMoney" class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" value="searchRaceMoneyCnt" />
    <property name="resultkey" value="dsOutRaceTypeMoney" />
    <property name="sqlkey" value="tbes_sdl_fb004" />
    <property name="param-count" value="10" />
    <property name="dao" value="boadao" />
    <property       name="param0"     value="STND_YEAR"   /> 
    <property       name="param1"     value="MEET_CD"      /> 
    <property       name="param2"     value="TMS"         /> 
    <property       name="param3"     value="DAY_ORD"     /> 
    <property       name="param4"     value="RACE_NO"     />
    
    <property       name="param5"     value="STND_YEAR"   /> 
    <property       name="param6"     value="MEET_CD"      /> 
    <property       name="param7"     value="TMS"         /> 
    <property       name="param8"     value="DAY_ORD"     /> 
    <property       name="param9"     value="RACE_NO"     />
  </activity>    
  

  <!-- 금액별 매출액 조회 -->
  <activity name="searchRaceMoneyCnt" class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" value="end" />
    <property name="resultkey" value="dsOutMoneyCnt" />
    <property name="sqlkey" value="tbes_sdl_fb005" />
    <property name="param-count" value="11" />
    <property name="dao" value="boadao" />
    <property       name="param0"     value="STND_YEAR"  /> 
    <property       name="param1"     value="TMS"  /> 
    <property       name="param2"     value="DAY_ORD"  />     

    <property       name="param3"     value="STND_YEAR"  /> 
    <property       name="param4"     value="TMS"  /> 
    <property       name="param5"     value="DAY_ORD"  />     
    <property       name="param6"     value="RACE_NO"  />     

    <property       name="param7"     value="STND_YEAR"  /> 
    <property       name="param8"     value="TMS"  /> 
    <property       name="param9"     value="DAY_ORD"  />     
    <property       name="param10"    value="RACE_NO"  />     
  </activity>
    
  <!-- 예상등수 Update -->
  <activity name="saveRacerRankResult" class="snis.boa.organization.e02050010.activity.SaveRacerRankResult">
    <transition name="success" value="end" />
  </activity>

  
  <transaction-manager id="tx_boa" commit="true" />
</service>

