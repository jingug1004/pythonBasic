<?xml version="1.0" encoding="EUC-KR"?>
<!-- 
상금대장
 -->
<service name="e07030020" initial="SetResultKeys">
  <activity name="SetResultKeys" class="com.posdata.glue.miplatform.biz.activity.PosSetResultKeyList">  
    <property name="staticResultKeyFile" value="resultkey.properties" />
    <property name="resultKeyList" value="dsOutMonthPayList|dsOutMonthPayFncList|dsOutMonthPayTotList" />
    <transition name="success" value="EventRouter" />
  </activity>
  
  <activity name="EventRouter" class="com.posdata.glue.biz.activity.PosDefaultRouter">
    <transition name="searchMonthPayList"      value="searchMonthPayList" />
    <transition name="searchMonthPayFncList"    value="searchMonthPayFncList" />
    <transition name="searchMonthPayTotList"    value="searchMonthPayTotList" />
    <transition name="success" value="end" />
  </activity>

  <!--상금대장  대장   -->
  <activity name="searchMonthPayList" class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" value="searchMonthPayFncList" />
    <property name="resultkey" value="dsOutMonthPayList" />
    <property name="sqlkey" value="tbeg_month_pay_list_ff001" />
    <property name="param-count" value="3" />
    <property name="param0" value="STND_YEAR"/>
    <property name="param1" value="PAY_MONTH"/>
    <property name="param2" value="RACER_NM"/>
    <property name="dao" value="boadao" />
  </activity>
  
  
  <!--기타 지급 대장    -->
  <activity name="searchMonthPayFncList" class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" value="searchMonthPayTotList" />
    <property name="resultkey" value="dsOutMonthPayFncList" />
    <property name="sqlkey" value="tbeg_month_pay_list_ff002" />
    <property name="param-count" value="3" />
    <property name="param0" value="STND_YEAR"/>
    <property name="param1" value="PAY_MONTH"/>
    <property name="param2" value="RACER_NM"/>
    <property name="dao" value="boadao" />
  </activity>
  
  
  <!--상금 대장 + 기타 지급 대장    -->
  <activity name="searchMonthPayTotList" class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" value="searchMonthPayStat" />
    <property name="resultkey" value="dsOutMonthPayTotList" />
    <property name="sqlkey" value="tbeg_month_pay_list_ff003" />
    <property name="param-count" value="3" />
    <property name="param0" value="STND_YEAR"/>
    <property name="param1" value="PAY_MONTH"/>
    <property name="param2" value="RACER_NM"/>
    <property name="dao" value="boadao" />
  </activity>
  
    
  <!-- 해당월의  월별지 지급기준 상금, 회계 마감 여부 조회   -->
  <activity name="searchMonthPayStat" class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" value="end" />
    <property name="resultkey" value="dsOutMonthPayStat" />
    <property name="sqlkey" value="tbeg_month_pay_bac_ff010" />
    <property name="param-count" value="6" />
    <property name="param0" value="STND_YEAR"/>
    <property name="param1" value="STND_YEAR"/>
    <property name="param2" value="STND_YEAR"/>
    <property name="param3" value="STND_YEAR"/>
    <property name="param4" value="STND_YEAR"/>
    <property name="param5" value="PAY_MONTH"/>
    <property name="dao" value="boadao" />
  </activity>

  
  <transaction-manager id="tx_boa" commit="true" />
</service>

