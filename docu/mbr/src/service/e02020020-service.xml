<?xml version="1.0" encoding="EUC-KR"?>
<service name="e02020020" initial="SetResultKeys">
  <activity name="SetResultKeys" class="com.posdata.glue.miplatform.biz.activity.PosSetResultKeyList">  
    <property name="staticResultKeyFile" value="resultkey.properties" />
    <property name="resultKeyList" value="dsOutRacerGrdRaceCnt|dsOutRacerDegree|dsOutPerio" />
    <transition name="success" value="EventRouter" />
  </activity>
  
  <activity name="EventRouter" class="com.posdata.glue.biz.activity.PosDefaultRouter">
    <transition name="searchRacerGrdRaceCnt" value="searchRacerGrdRaceCnt" />
    <transition name="searchPerio"           value="searchPerio" />
    <transition name="searchRacerDegree"     value="searchRacerDegree" />    
    <transition name="saveRacerDegree"       value="saveRacerDegree" />    
    <transition name="success" value="end" />
  </activity>

  <!-- 선수등급 저장 -->
  <activity name="searchRacerDegree" class="snis.boa.organization.e02020020.activity.SearchRacerDegree">
    <transition name="success" value="end" />
  </activity>

  <!-- 등급별 출주횟수 조회 -->
  <activity name="searchRacerGrdRaceCnt" class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" value="searchPerio" />
    <property name="resultkey" value="dsOutRacerGrdRaceCnt" />
    <property name="sqlkey" value="tbec_racer_master_fb010" />
    <property name="param-count" value="5" />
    <property name="param0" value="RACER_GRD_END_DT" />
    <property name="param1" value="STR_DT" />
    <property name="param2" value="END_DT" />
    <property name="param3" value="STR_DT" />
    <property name="param4" value="END_DT" />
    <property name="dao" value="boadao" />
  </activity>
  
  <!-- 기수별 선수수 조회 -->
  <activity name="searchPerio" class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" value="end" />
    <property name="resultkey" value="dsOutPerio" />
    <property name="sqlkey" value="tbec_racer_master_fb000" />
    <property name="param-count" value="1" />
    <property name="param0" value="RACER_GRD_END_DT" />
    <property name="dao" value="boadao" />
  </activity>
  
  <!-- 선수등급 저장 -->
  <activity name="saveRacerDegree" class="snis.boa.organization.e02020020.activity.SaveRacerDegree">
    <transition name="success" value="end" />
  </activity>
  
  <transaction-manager id="tx_boa" commit="true" />
</service>

