<?xml version="1.0" encoding='EUC-KR'?>
<queryMap desc="tbed_race_result_being(심판담당자)">
      
     <query id="tbed_refe_fd001" desc="심판담당자 목록 조회" fetchSize="10">
        <![CDATA[
			SELECT 
			      rownum row_id
			    , REFERERE_SEQ
			    , (SELECT DISTINCT USER_NM FROM VWEA_USER WHERE USER_ID = A.MNG) MNG_NAME
			    , (SELECT DISTINCT USER_NM FROM VWEA_USER WHERE USER_ID = A.REFE_HEAD) REFE_NAME
			    , (SELECT DISTINCT USER_NM FROM VWEA_USER WHERE USER_ID = A.INSP_CMAN) INSP_NAME
			    , MNG
			    , MNG_FILE_NAME
			    , MNG_FILE_URL
			    , MNG_FILE_SIZE
			    , REFE_HEAD
			    , REFE_HEAD_FILE_NAME
			    , REFE_HEAD_FILE_URL
			    , REFE_HEAD_FILE_SIZE
			    , INSP_CMAN
			    , INSP_CMAN_FILE_NAME
			    , INSP_CMAN_FILE_URL
			    , INSP_CMAN_FILE_SIZE	    
			FROM  TBED_REFERERE_USER A    
			ORDER BY REFERERE_SEQ DESC
	    ]]>
    </query>
    
     <query id="tbed_refe_id001" desc="심판담당자 입력" fetchSize="10">
        <![CDATA[
			INSERT INTO TBED_REFERERE_USER (
			      REFERERE_SEQ
			    , MNG
			    , MNG_FILE_NAME
			    , MNG_FILE_URL
			    , MNG_FILE_SIZE
			    , REFE_HEAD
			    , REFE_HEAD_FILE_NAME
			    , REFE_HEAD_FILE_URL
			    , REFE_HEAD_FILE_SIZE
			    , INSP_CMAN
			    , INSP_CMAN_FILE_NAME
			    , INSP_CMAN_FILE_URL
			    , INSP_CMAN_FILE_SIZE
			    , INST_ID
			    , INST_DTM
			    , UPDT_ID
			    , UPDT_DTM
			) VALUES (
			      (SELECT NVL(MAX(REFERERE_SEQ),0) + 1 FROM TBED_REFERERE_USER) -- REFERERE_SEQ
			    , ?                                                             -- MNG
			    , ?                                                             -- MNG_FILE_NAME
			    , ?                                                             -- MNG_FILE_URL
			    , ?                                                             -- MNG_FILE_SIZE
			    , ?                                                             -- REFE_HEAD
			    , ?                                                             -- REFE_HEAD_FILE_NAME
			    , ?                                                             -- REFE_HEAD_FILE_URL
			    , ?                                                             -- REFE_HEAD_FILE_SIZE
			    , ?                                                             -- INSP_CMAN
			    , ?                                                             -- INSP_CMAN_FILE_NAME
			    , ?                                                             -- INSP_CMAN_FILE_URL
			    , ?                                                             -- INSP_CMAN_FILE_SIZE
			    , ?                                                             -- INST_ID
			    , SYSDATE                                                       -- INST_DTM
			    , ?                                                             -- UPDT_ID
			    , SYSDATE                                                       -- UPDT_DTM
			)
	    ]]>
    </query>    


     <query id="tbed_refe_ud001" desc="심판담당자 수정" fetchSize="10">
        <![CDATA[
			UPDATE TBED_REFERERE_USER SET
			      MNG                    =   ?
			    , MNG_FILE_NAME          =   ?
			    , MNG_FILE_URL           =   ?
			    , MNG_FILE_SIZE          =   ?
			    , REFE_HEAD              =   ?
			    , REFE_HEAD_FILE_NAME    =   ?
			    , REFE_HEAD_FILE_URL     =   ?
			    , REFE_HEAD_FILE_SIZE    =   ?
			    , INSP_CMAN              =   ?
			    , INSP_CMAN_FILE_NAME    =   ?
			    , INSP_CMAN_FILE_URL     =   ?
			    , INSP_CMAN_FILE_SIZE    =   ?
			    , UPDT_ID                =   ?
			    , UPDT_DTM               =   SYSDATE
			WHERE REFERERE_SEQ = ?
	    ]]>
    </query>    


     <query id="tbed_refe_dd001" desc="심판담당자 삭제" fetchSize="10">
        <![CDATA[
			DELETE FROM TBED_REFERERE_USER
			WHERE REFERERE_SEQ = ?
	    ]]>
    </query>    
    
</queryMap>