<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- 
  * @파일명 : newReportE01006.xml
  * @메뉴명 : 참가신청서
  * @최초작성일 : 2015/02/10            
  * @author : Jung.Jin.Muk(pc123pc@irush.co.kr)                  
  * @수정내역 :	
-->
<mapper namespace="newReportE01006">

	<select id="participationDetail" parameterType="string" resultType="com.hanaph.gw.ea.newReport.vo.ParticipationVO">
		SELECT APPROVAL_SEQ, KIND, CONTENT, TO_CHAR(TO_DATE(START_YMD,'yyyymmdd'),'yyyy-mm-dd') START_YMD, TO_CHAR(TO_DATE(END_YMD,'yyyymmdd'),'yyyy-mm-dd') END_YMD, CONTACT_NUMBER
	  	  FROM GW_EA_PARTICIPATION
	  	 WHERE APPROVAL_SEQ = #{approval_seq}
	</select>
	
	<insert id="insertParticipation" parameterType="com.hanaph.gw.ea.newReport.vo.ParticipationVO" >
		INSERT INTO GW_EA_PARTICIPATION
        (
        	APPROVAL_SEQ, KIND, CONTENT, START_YMD, END_YMD, CONTACT_NUMBER
        )
     	VALUES
     	(
     		#{approval_seq}, #{kind}, #{content}, TO_CHAR(TO_DATE(#{start_ymd},'yyyy-mm-dd'),'yyyymmdd'), TO_CHAR(TO_DATE(#{end_ymd},'yyyy-mm-dd'),'yyyymmdd'), #{contact_number}
        )
	</insert>
	
	<update id="updateParticipation" parameterType="com.hanaph.gw.ea.newReport.vo.ParticipationVO">
		UPDATE GW_EA_PARTICIPATION 
		   SET KIND = #{kind}, CONTENT = #{content}, START_YMD = TO_CHAR(TO_DATE(#{start_ymd},'yyyy-mm-dd'),'yyyymmdd'), END_YMD = TO_CHAR(TO_DATE(#{end_ymd},'yyyy-mm-dd'),'yyyymmdd'), 
			   CONTACT_NUMBER = #{contact_number}
	  	 WHERE APPROVAL_SEQ = #{approval_seq}	
	</update>
	
	
</mapper>