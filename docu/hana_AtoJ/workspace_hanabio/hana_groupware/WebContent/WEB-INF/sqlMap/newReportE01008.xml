<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- 
  * @파일명 : newReportE01008.xml
  * @메뉴명 : 구매신청서
  * @최초작성일 : 2015/01/28            
  * @author : CHOIILJI                  
  * @수정내역 :	
-->
<mapper namespace="newReportE01008"> 
	<!-- 구매신청서 -->
	<insert id="insertPurchase" parameterType="com.hanaph.gw.ea.newReport.vo.PurchaseVO" >
		INSERT INTO GW_EA_PURCHASE
        (
        	SEQ, APPROVAL_SEQ, PRODUCT_NM, STANDARD, QTY, DELIVER_REQ_YMD, PURPOSE, BIGO
        )
     	VALUES
     	(
     		SEQ_GW_EA_PURCHASE.nextval, #{approval_seq}, #{product_nm}, #{standard}, #{qty},
     		#{deliver_req_ymd}, #{purpose}, #{bigo}
        )
	</insert>
	
	<select id="purchaseDetailList" parameterType="string" resultType="com.hanaph.gw.ea.newReport.vo.PurchaseVO">
		SELECT SEQ, APPROVAL_SEQ, PRODUCT_NM, STANDARD, QTY, 
			   TO_CHAR (TO_DATE (DELIVER_REQ_YMD, 'yyyymmdd'),'yyyy-mm-dd') DELIVER_REQ_YMD, PURPOSE, BIGO
	  	  FROM GW_EA_PURCHASE
	  	 WHERE APPROVAL_SEQ = #{approval_seq}
	  	 
	</select>
	
	
	<delete id="deletePurchase" parameterType="com.hanaph.gw.ea.newReport.vo.PurchaseVO">
		DELETE FROM GW_EA_PURCHASE WHERE APPROVAL_SEQ = #{approval_seq}
	</delete>
</mapper>