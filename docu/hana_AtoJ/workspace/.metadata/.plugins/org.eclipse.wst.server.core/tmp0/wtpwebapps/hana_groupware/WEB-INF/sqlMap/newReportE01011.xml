<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- 
  * @파일명 : newReportE01011.xml
  * @메뉴명 : 사고보고서
  * @최초작성일 : 2015/02/10            
  * @author : Jung.Jin.Muk(pc123pc@irush.co.kr)                  
  * @수정내역 :	
-->
<mapper namespace="newReportE01011">
	
	<insert id="insertAccident" parameterType="com.hanaph.gw.ea.newReport.vo.AccidentVO" >
		INSERT INTO GW_EA_ACCIDENT
        (
			APPROVAL_SEQ, CUST_NM, CUST_CD, BRANCH_OFFICE, INCHARGE, ACCIDENT_KIND,
			TOTAL_SALE, TOTAL_COLLECT, OCCURRENCE_YMD, LAST_TRADE_YMD, CUST1, CUST2,
			CUST3, CEO1, CEO2, CEO3, SURETY11, SURETY12, 
			SURETY13, SURETY21, SURETY22, SURETY23, CREDIT_AMT, NOTCOME_BILL,
			BANKRUPT_AMT, PROPERTY1, PROPERTY2, PROPERTY3, PROPERTY4, SUPYO1,
			SUPYO2, SUPYO3, SUPYO4, BOHEOM1, BOHEOM2, BOHEOM3,
			BOHEOM4, BOJEUNG1, BOJEUNG2, BOJEUNG3, BOJEUNG4, ETC1,
			ETC2, ETC3, ETC4, RETURN_COLLECTION_AMT, MONEY_COLLECTION_AMT, BOGO_CONTENT,
			BOGO_YEAR, BOGO_MONTH, BOGO_DAY
        )
     	VALUES
     	(
			#{approval_seq}, #{cust_nm}, #{cust_cd}, #{branch_office}, #{incharge}, #{accident_kind},
			#{total_sale}, #{total_collect}, TO_CHAR(TO_DATE(#{occurrence_ymd},'yyyy-mm-dd'),'yyyymmdd'),
			TO_CHAR(TO_DATE(#{last_trade_ymd},'yyyy-mm-dd'),'yyyymmdd'), #{cust1}, #{cust2},
			#{cust3}, #{ceo1}, #{ceo2}, #{ceo3}, #{surety11}, #{surety12},
			#{surety13}, #{surety21}, #{surety22}, #{surety23}, #{credit_amt}, #{notcome_bill},
			#{bankrupt_amt}, #{property1}, #{property2}, #{property3}, #{property4}, #{supyo1},
			#{supyo2}, #{supyo3}, #{supyo4}, #{boheom1}, #{boheom2}, #{boheom3},
			#{boheom4}, #{bojeung1}, #{bojeung2}, #{bojeung3}, #{bojeung4}, #{etc1},
			#{etc2}, #{etc3}, #{etc4}, #{return_collection_amt}, #{money_collection_amt}, #{bogo_content},
			#{bogo_year}, #{bogo_month}, #{bogo_day}
        )
	</insert>
	
	<select id="accidentDetail" parameterType="string" resultType="com.hanaph.gw.ea.newReport.vo.AccidentVO">
		SELECT APPROVAL_SEQ, CUST_NM, CUST_CD, BRANCH_OFFICE, INCHARGE, ACCIDENT_KIND,
		       TOTAL_SALE, TOTAL_COLLECT, TO_CHAR(TO_DATE(OCCURRENCE_YMD,'yyyymmdd'),'yyyy-mm-dd') OCCURRENCE_YMD, TO_CHAR(TO_DATE(LAST_TRADE_YMD,'yyyymmdd'),'yyyy-mm-dd') LAST_TRADE_YMD, CUST1,
		       CUST2, CUST3, CEO1, CEO2, CEO3, SURETY11, SURETY12, SURETY13, SURETY21,
		       SURETY22, SURETY23, CREDIT_AMT, NOTCOME_BILL, BANKRUPT_AMT, PROPERTY1,
		       PROPERTY2, PROPERTY3, PROPERTY4, SUPYO1, SUPYO2, SUPYO3, SUPYO4,
		       BOHEOM1, BOHEOM2, BOHEOM3, BOHEOM4, BOJEUNG1, BOJEUNG2, BOJEUNG3,
		       BOJEUNG4, ETC1, ETC2, ETC3, ETC4, RETURN_COLLECTION_AMT,
		       MONEY_COLLECTION_AMT, BOGO_CONTENT, BOGO_YEAR, BOGO_MONTH, BOGO_DAY
		  FROM GW_EA_ACCIDENT
		 WHERE APPROVAL_SEQ = #{approval_seq}
	</select>
	
	<update id="updateAccident" parameterType="com.hanaph.gw.ea.newReport.vo.AccidentVO">
		UPDATE GW_EA_ACCIDENT 
		   SET CUST_NM = #{cust_nm}, CUST_CD = #{cust_cd}, BRANCH_OFFICE = #{branch_office}, INCHARGE = #{incharge}, ACCIDENT_KIND = #{accident_kind},
		       TOTAL_SALE = #{total_sale}, TOTAL_COLLECT = #{total_collect}, OCCURRENCE_YMD = TO_CHAR(TO_DATE(#{occurrence_ymd},'yyyy-mm-dd'),'yyyymmdd'), LAST_TRADE_YMD = TO_CHAR(TO_DATE(#{last_trade_ymd},'yyyy-mm-dd'),'yyyymmdd'), 
		       CUST1 = #{cust1}, CUST2 = #{cust2}, CUST3 = #{cust3}, CEO1 = #{ceo1}, CEO2 = #{ceo2}, CEO3 = #{ceo3}, SURETY11 = #{surety11}, SURETY12 = #{surety12}, SURETY13 = #{surety13}, SURETY21 = #{surety21},
		       SURETY22 = #{surety22}, SURETY23 = #{surety23}, CREDIT_AMT = #{credit_amt}, NOTCOME_BILL = #{notcome_bill}, BANKRUPT_AMT = #{bankrupt_amt}, PROPERTY1 = #{property1},
		       PROPERTY2 = #{property2}, PROPERTY3 = #{property3}, PROPERTY4 = #{property4}, SUPYO1 = #{supyo1}, SUPYO2 = #{supyo2}, SUPYO3 = #{supyo3}, SUPYO4 = #{supyo4},
		       BOHEOM1 = #{boheom1}, BOHEOM2 = #{boheom2}, BOHEOM3 = #{boheom3}, BOHEOM4 = #{boheom4}, BOJEUNG1 = #{bojeung1}, BOJEUNG2 = #{bojeung2}, BOJEUNG3 = #{bojeung3},
		       BOJEUNG4 = #{bojeung4}, ETC1 = #{etc1}, ETC2 = #{etc2}, ETC3 = #{etc3}, ETC4 = #{etc4}, RETURN_COLLECTION_AMT = #{return_collection_amt},
		       MONEY_COLLECTION_AMT = #{money_collection_amt}, BOGO_CONTENT = #{bogo_content}, BOGO_YEAR = #{bogo_year}, BOGO_MONTH = #{bogo_month}, BOGO_DAY = #{bogo_day}
		 WHERE APPROVAL_SEQ = #{approval_seq}
	</update>
	
</mapper>