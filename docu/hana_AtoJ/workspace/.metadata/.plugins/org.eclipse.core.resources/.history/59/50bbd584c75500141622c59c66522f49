
package com.hanaph.gw.common.utils;

import java.net.URL;

import org.apache.commons.configuration.ConfigurationException;
import org.apache.commons.configuration.PropertiesConfiguration;
import org.apache.commons.configuration.reloading.FileChangedReloadingStrategy;

/**
 * <pre>
 * Class Name : Environment.java
 * 설명 : com.hanaph.saleon.common.utils.Environment.java 환경변수 가져오는 Class
 * 
 * Modification Information
 *    수정일      수정자              수정 내용
 *  ------------ -------------- --------------------------------
 *  2013. 4. 22.          생성
 * </pre>
 * 
 * @version 1.0
 * @author JaeKap Kim
 * @since 2014. 10. 17.
 */
public class Environment {

	private static PropertiesConfiguration config = null;

	/**
	 * Environment.java 생성자
	 */
	public Environment() {
		
		try {
			ClassLoader cl = this.getClass().getClassLoader();
			URL url = cl.getResource("/com/hanaph/gw/properties/config.properties");

			config = new PropertiesConfiguration(url);
			
			FileChangedReloadingStrategy strategy = new FileChangedReloadingStrategy();
			strategy.setRefreshDelay(500);
			config.setReloadingStrategy(strategy);
			
		} catch (ConfigurationException e) {
			e.printStackTrace();
		}
	}
	
	/**
	 * properties 파일에서 key 값에 대한 value 값을 리턴한다.
	 * @param strKey
	 * @return String
	 */
	public String getValue(String strKey) {
		if(null == config) {
			new Environment();
		}
		return config.getString(strKey, "");
	}

}
