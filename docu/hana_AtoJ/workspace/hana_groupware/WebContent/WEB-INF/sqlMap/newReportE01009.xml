<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- 
  * @파일명 : newReportE01009.xml
  * @메뉴명 : 시간외근무신청서
  * @최초작성일 : 2015/01/28            
  * @author : CHOIILJI                  
  * @수정내역 :	
-->
<mapper namespace="newReportE01009"> 
	<!-- 시간외근무신청서 -->
	<insert id="insertOvertime" parameterType="com.hanaph.gw.ea.newReport.vo.OvertimeVO" >
		INSERT INTO GW_EA_OVERTIME
        (
        	SEQ, APPROVAL_SEQ, DEPT_CD, DEPT_NM, EMP_NO, EMP_NM, BIZ_CONTENT, WORK_DUE_YMD, WORK_START_HH, WORK_START_MI, 
        	WORK_END_HH, WORK_END_MI, WORK_DUE_HH, WORK_DUE_MI, BIGO
        )
     	VALUES
     	(
     		SEQ_GW_EA_OVERTIME.nextval, #{approval_seq}, #{dept_cd}, #{dept_nm}, #{emp_no}, #{emp_nm}, #{biz_content}, #{work_due_ymd}, #{work_start_hh}, #{work_start_mi},
     		#{work_end_hh}, #{work_end_mi}, #{work_due_hh}, #{work_due_mi}, #{bigo}
        )
	</insert>
	
	<select id="overtimeDetailList" parameterType="string" resultType="com.hanaph.gw.ea.newReport.vo.OvertimeVO">
		-- 시간외근무신청서 상세정보리스트를 가져온다 / overtimeDetailList / @ newReportE01009.xml / 시행문서조회 - 결재완료 - 문서 상세 페이지
		SELECT SEQ, APPROVAL_SEQ, DEPT_CD, DEPT_NM, EMP_NO, EMP_NM, BIZ_CONTENT,
		       TO_CHAR (TO_DATE (WORK_DUE_YMD, 'yyyymmdd'),'yyyy-mm-dd') WORK_DUE_YMD, 
		       WORK_START_HH, WORK_START_MI, WORK_END_HH, WORK_END_MI,
		       WORK_DUE_HH, WORK_DUE_MI, BIGO, F_GW_GET_CD_NM(BIGO) BIGO_NM
		  FROM GW_EA_OVERTIME
		 WHERE APPROVAL_SEQ = #{approval_seq}
	</select>
	
	<delete id="deleteOvertime" parameterType="com.hanaph.gw.ea.newReport.vo.OvertimeVO">
		DELETE FROM GW_EA_OVERTIME WHERE APPROVAL_SEQ = #{approval_seq}
	</delete>
</mapper>