<?xml version="1.0" encoding="EUC-KR"?>

<service name="rem5010" initial="SetResultKeys">

  <activity name="SetResultKeys"            class="com.posdata.glue.miplatform.biz.activity.PosSetResultKeyList">  

    <property name="staticResultKeyFile"    value="resultkey.properties" />
    <property name="resultKeyList"          value="dsStayStatByTerm|dsStayStatByDaily|dsSolbi" />
    <transition name="success"              value="EventRouter" />
  </activity>

  <activity name="EventRouter"                 class="com.posdata.glue.biz.activity.PosDefaultRouter">
    <transition name="searchFixedSeatByTerm"   value="searchFixedSeatByTerm" />         <!--  기간별 지점별 입장현황 조회 -->
    <transition name="searchFixedSeatByDaily"  value="searchFixedSeatByDaily" />         <!--  기간별 지점별 입장현황 조회 -->
    <transition name="searchSolbi"   		   value="searchSolbi" />         <!--  기간별 지점별 입장현황 조회 -->
    <transition name="saveFixedSeatEntrCnt"    value="saveFixedSeatEntrCnt" />         <!--  기간별 지점별 입장현황 조회 -->
    <transition name="importFixedSeatData"     value="importFixedSeatData" />         <!--  기간별 지점별 입장현황 조회 -->
    <transition name="success"                 value="end" />
  </activity>


  <!--  기간별 지점별 입장현황 조회 -->  
  <activity name="searchFixedSeatByTerm"       class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success"              value="end" />
    <property name="resultkey"              value="dsStayStatByTerm" />
    <property name="sqlkey"                 value="rem5010_s01" />    
    <property name="param-count"            value="4" />    
    <property name="param0"                 value="STR_DT" />  		<!--  시작일자  -->
    <property name="param1"                 value="END_DT" />  		<!--  종료일자  -->   
    <property name="param2"                 value="BRNC_CD" />      <!--  지점 -->
    <property name="param3"                 value="EXCEPT_KM" />	<!--  광명본장 제외 여부  -->
    <property name="dao"                    value="rbmdao" />
  </activity>  
  

  <!--  날짜별 지점별 입장현황 조회 -->  
  <activity name="searchFixedSeatByDaily"       class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success"              value="end" />
    <property name="resultkey"              value="dsStayStatByDaily" />
    <property name="sqlkey"                 value="rem5010_s02" />    
    <property name="param-count"            value="4" />    
    <property name="param0"                 value="STR_DT" />  		<!--  시작일자  -->
    <property name="param1"                 value="END_DT" />  		<!--  종료일자  -->   
    <property name="param2"                 value="BRNC_CD" />      <!--  지점 -->
    <property name="param3"                 value="EXCEPT_KM" />	<!--  광명본장 제외 여부  -->
    <property name="dao"                    value="rbmdao" />
  </activity>  
  
  <!--  경륜본장 지정좌석실 입장인원 조회 -->  
  <activity name="searchSolbi"       class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success"              value="end" />
    <property name="resultkey"              value="dsSolbi" />
    <property name="sqlkey"                 value="rem5010_s03" />    
    <property name="param-count"            value="0" />    
    <property name="dao"                    value="msrbmdao" />
  </activity>  
  
  <!-- 지점별 상품분류 저장 -->
  <activity name="saveFixedSeatEntrCnt"      class="snis.rbm.business.rem5010.activity.SaveFixedSeatEntrCnt">
    <transition name="success"               value="searchFixedSeatByDaily" />
  </activity>
  
  <!-- 연계DB에서 지점별 입장인원 가져오기 -->
  <activity name="importFixedSeatData"       class="snis.rbm.business.rem5010.activity.ImportFixedSeatData">
    <transition name="success"               value="end" />
  </activity>
  
  <transaction-manager id="tx_rbm" commit="true" />

</service>



