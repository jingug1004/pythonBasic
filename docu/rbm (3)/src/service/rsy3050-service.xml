<?xml version="1.0" encoding="EUC-KR"?>

<service name="rsy3050" initial="SetResultKeys">
  <activity name="SetResultKeys"            class="com.posdata.glue.miplatform.biz.activity.PosSetResultKeyList">  
    <property name="staticResultKeyFile"    value="resultkey.properties" />
    <property name="resultKeyList"          value="dsUser|dsTempUser|dsEstmUser" />
    <transition name="success"              value="EventRouter" />
  </activity>

  <activity name="EventRouter"              class="com.posdata.glue.biz.activity.PosDefaultRouter">
    <transition name="searchUser"           value="searchUser" />       <!-- 사용자 조회 -->
    <transition name="searchTempUser"       value="searchTempUser" />   <!-- 임시사용자 조회 -->
    <transition name="searchEstmUser"       value="searchEstmUser" />   <!-- 평가사용자  조회 -->
    <transition name="importUser"           value="importUser" />         <!-- 사용자 저장 -->        
    <transition name="saveUser"             value="saveUser" />         <!-- 사용자 저장 -->        
    <transition name="success"              value="end" />
  </activity>


  <!-- 사용자 조회(일반사용자) -->
  <activity name="searchUser"       class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success"              value="end" />
    <property name="resultkey"              value="dsUser" />
    <property name="sqlkey"                 value="rsy3050_s01" />
    <property name="param-count"            value="3" />    
    <property name="param0"                 value="USER_NM" />
    <property name="param1"                 value="GBN" />
    <property name="param2"                 value="USER_ID" />    
    <property name="dao"                    value="rbmdao" />    
  </activity>


  <!-- 사용자 조회(임시사용자) -->
  <activity name="searchTempUser"       class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success"              value="end" />
    <property name="resultkey"              value="dsTempUser" />
    <property name="sqlkey"                 value="rsy3050_s01" />    
    <property name="param-count"            value="3" />     
    <property name="param0"                 value="USER_NM" />
    <property name="param1"                 value="GBN" />
    <property name="param2"                 value="USER_ID" />
    <property name="dao"                    value="rbmdao" /> 
  </activity>


  <!-- 사용자 조회(평가사용자) -->
  <activity name="searchEstmUser"       class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success"              value="end" />
    <property name="resultkey"              value="dsEstmUser" />
    <property name="sqlkey"                 value="rsy3050_s01" />    
    <property name="param-count"            value="3" />     
    <property name="param0"                 value="USER_NM" />
    <property name="param1"                 value="GBN" />
    <property name="param2"                 value="USER_ID" />   
    <property name="dao"                    value="rbmdao" />    
  </activity>
  
  <!-- 사용자 저장  -->
  <activity name="saveUser"                 class="snis.rbm.system.rsy3050.activity.SaveUser">
    <transition name="success"              value="end" />
    <transition name="failure"              value="end" />
  </activity>    

  <!-- 사용자 가져오기  -->
  <activity name="importUser"                 class="snis.rbm.system.rsy3050.activity.ImportUser">
    <transition name="success"              value="end" />
  </activity>    

  <transaction-manager id="tx_rbm" commit="true" />

</service>
