<?xml version="1.0" encoding="EUC-KR"?>

<service name="rsm6030" initial="SetResultKeys">

  <activity name="SetResultKeys"            class="com.posdata.glue.miplatform.biz.activity.PosSetResultKeyList">  
    <property name="staticResultKeyFile"    value="resultkey.properties" />
    <property name="resultKeyList"          value="dsTsnResult|dsTsnResultDas" />
    <transition name="success"              value="EventRouter" />
  </activity>

  <activity name="EventRouter"             	class="com.posdata.glue.biz.activity.PosDefaultRouter">    
    <transition name="searchTsn"           	value="searchTsn" />    <!-- 지불정지만존재 조회 		-->
    <transition name="searchTsnDas"         value="searchTsnDas" /> <!-- DAS와 지불정지 존재 조회 	-->
    <transition name="deleteTsn"        	value="deleteTsn" />    <!-- 분실신고서 지불정지 삭 		-->    
  </activity>
  
  <!-- 지불정지만존재 조회  -->
  <activity name="searchTsn"       			class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success"       		value="end" />   
    <property name="resultkey"        		value="dsTsnResult" />
    <property name="sqlkey"           		value="rsm6030_s01" /> 
    
    <property name="param-count"      		value="6" />    
    <property name="param0"          		value="tsnno" />
    <property name="param1"          		value="fromdate" />
    <property name="param2"          		value="todate" />
    <property name="param3"          		value="brnccd" />
    <property name="param4"          		value="brnccd" />
    <property name="param5"          		value="brnccd" />         
    <property name="dao"              		value="rbmdao" />   
  </activity> 
  
   <!-- DAS와 지불정지 존재 조회  -->
  <activity name="searchTsnDas"       		class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success"       		value="end" />   
    <property name="resultkey"        		value="dsTsnResultDas" />
    <property name="sqlkey"           		value="rsm6030_s02" /> 
    
    <property name="param-count"      		value="7" />
    <property name="param0"          		value="vericd" />    
    <property name="param1"          		value="tsnno" />
    <property name="param2"          		value="fromdate" />
    <property name="param3"          		value="todate" />
    
    <property name="param4"          		value="brnccd" />
    <property name="param5"          		value="brnccd" />
    <property name="param6"          		value="brnccd" />
       
    <property name="dao"              		value="rbmdao" />   
  </activity>
 	<!-- 분실신고서 지불정지 대상 삭제   -->
  <activity name="deleteTsn"         	 	class="snis.rbm.business.rsm6030.activity.DeleteTsn">
    <transition name="success"             	value="end" />
  </activity>
   <transaction-manager id="tx_rbm" commit="true" />
</service>