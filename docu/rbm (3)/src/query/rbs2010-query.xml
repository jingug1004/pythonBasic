<?xml version="1.0" encoding='EUC-KR'?>

<queryMap desc="RBS2010">
    
    
    <query id="rbs2010_s_heal" desc="건전레저사업 조회" fetchSize="10">
        <![CDATA[
                
	        SELECT   /* rbs2010_s_heal */
	                 A.BUSI_CNTNT_CD,    -- 사업내역코드
			         A.HEAL_LEISU_YEAR,  -- 건전레저년도
			         A.HEAL_LEISU_CD,    -- 건전레저코드
			         A.BUSI_NM,          -- 사업명
			         A.DPRT_CD,          -- 부서코드			         
			         A.MNG_ID,           -- 담당자ID
			         A.BUSI_YM_STR,      -- 사업시작년월
			         A.BUSI_YM_END,      -- 사업종료년월
			         A.BUSI_STAT_CD,     -- 사업상태코드	
			         A.ORD,              -- 정렬순서		         
			         A.INST_ID,          -- 작성자
			         A.INST_DT,          -- 작성일시
			         A.UPDT_ID,          -- 수정자
			         A.UPDT_DT,          -- 수정일시			         			         
			         (
			          SELECT   GROUP_NAME
			          FROM     V_GROUP DEPT
			          WHERE    GROUP_ID = A.DPRT_CD
			         )  AS DPRT_NAME,    -- 부서명			         
			         (
			          SELECT   USER_NM
			          FROM     TBRK_USER
			          WHERE    USER_ID = A.MNG_ID 
			         ) AS MNG_NAME,      -- 담당자 이름			         
			         '0' CHK             -- CHECKBOX 0, 1			         
			FROM     TBRE_HEAL_CNTNT A			
			WHERE    1=1
			AND      A.BUSI_STAT_CD     LIKE ?   -- 2. 사업상태 
			ORDER BY A.BUSI_CNTNT_CD
			
        ]]>
    </query>       

	
	<query id="rbs2010_ins" desc="건전레저사업 등록" fetchSize="10">
        <![CDATA[
        
			INSERT   /* rbs2010_ins */
			INTO     TBRE_HEAL_CNTNT A
			          (           
			           A.BUSI_CNTNT_CD,   -- 사업내역코드
			           A.HEAL_LEISU_YEAR, -- 건전레저년도
			           A.HEAL_LEISU_CD,   -- 건전레저코드
			           A.BUSI_NM,         -- 사업명
			           A.DPRT_CD,         -- 부서코드
			         
			           A.MNG_ID,          -- 담당자ID
			           A.BUSI_YM_STR,     -- 사업시작년월
			           A.BUSI_YM_END,     -- 사업종료년월
			           A.BUSI_STAT_CD,    -- 사업상태코드
			           A.ORD,              -- 정렬순서
			                                 
			           A.INST_ID,         -- 작성자  
			           A.INST_DT          -- 작성일시 
			          ) 
			          
			          VALUES 
			          (
			           (
			             SELECT   NVL(LPAD(MAX(TO_NUMBER(A.BUSI_CNTNT_CD)) + 1, 8, '0'), '00000001')  
			             FROM     TBRE_HEAL_CNTNT A
			           ),             
			           ?,     -- 1. 건전레저년도
					   ?,     -- 2. 건전레저코드 
			           ?,     -- 3. 사업명
			           ?,     -- 4. 부서코드			           
			           ?,     -- 5. 담당자ID
			           ?,     -- 6. 사업시작년월
			           ?,     -- 7. 사업종료년월			           
			           ?,     -- 8. 사업상태코드
			           ?,     -- 9. 정렬순서	                
					   ?,     -- 10. 사용자 ID
					   SYSDATE
					  )

        ]]>
    </query>      
    
    <query id="rbs2010_upt" desc="건전레저사업 수정" fetchSize="10">
        <![CDATA[
			UPDATE   /* rbs2010_upt */
			         TBRE_HEAL_CNTNT A
			
			SET      A.HEAL_LEISU_CD = ?,         -- 1. 건전레저코드 		  
			         A.BUSI_NM       = ?,         -- 2. 사업명
					 A.DPRT_CD       = ?,         -- 3. 부서코드		
					 A.MNG_ID        = ?,         -- 4. 담당자ID	
					 A.BUSI_YM_STR   = ?,         -- 5. 사업시작년월	
			         A.BUSI_YM_END   = ?,         -- 6. 사업종료년월
			         A.BUSI_STAT_CD  = ?,    	  -- 7. 사업상태코드
			         A.ORD           = ?,         -- 8. 정렬순서
				     A.UPDT_ID       = ?,         -- 9. 사용자 ID		
					 A.UPDT_DT       = SYSDATE
						
			WHERE    A.BUSI_CNTNT_CD = ?          -- 10. 사업내역코드

        ]]>
    </query>
    

    <query id="rbs2010_del" desc="건전레저사업 삭제" fetchSize="10">
        <![CDATA[
			DELETE   /* rbs2010_del */
			         TBRE_HEAL_CNTNT A			
			WHERE    A.BUSI_CNTNT_CD = ?  -- 1. 사업내역코드    
        ]]>
    </query>    
        
</queryMap>