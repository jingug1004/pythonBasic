<?xml version="1.0" encoding="EUC-KR"?>

<service name="rsm6070" initial="SetResultKeys">

  <activity name="SetResultKeys"            class="com.posdata.glue.miplatform.biz.activity.PosSetResultKeyList">  
    <property name="staticResultKeyFile"    value="resultkey.properties" />
    <property name="resultKeyList"          value="dsTsnRcptResult" />
    <transition name="success"              value="EventRouter" />
  </activity>

  <activity name="EventRouter"             	class="com.posdata.glue.biz.activity.PosDefaultRouter">    
    <transition name="searchReturns"      	value="searchReturns" />   	<!-- 환급대상  조회 -->   
    <transition name="saveRefund"      		value="saveRefund" />   	<!-- 환급처리  -->        
    <transition name="saveRefundCancel"    	value="saveRefundCancel" /> <!-- 환급취소 -->
  </activity>
  
  <!-- 환급대상 조회  -->
  <activity name="searchReturns"       		class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success"       		value="end" />   
    <property name="resultkey"        		value="dsTsnRcptResult" />
    <property name="sqlkey"           		value="rsm6070_s01" />
    <property name="param-count"      		value="12" />
    <property name="param0"          		value="ticstas" />
    <property name="param1"          		value="ticstas" />
    <property name="param2"          		value="ticstas" />    
    <property name="param3"          		value="tsnno" />  
    <property name="param4"          		value="brnccd" />
    <property name="param5"                 value="brnccd" />
    <property name="param6"                 value="brnccd" />
    <property name="param7"          		value="custnm" />
    <property name="param8"                 value="custnm" />
    <property name="param9"                 value="custnm" />        
    <property name="param10"          		value="fromdate" />
    <property name="param11"          		value="todate" />
     
    <property name="dao"              		value="rbmdao" />   
  </activity>
  
  <!-- 환급처리 저장   -->
  <activity name="saveRefund"    			class="snis.rbm.business.rsm6070.activity.SaveReturns">
    <transition name="success"             	value="end" />
  </activity>
  
  <!-- 환급처리 취소   -->
  <activity name="saveRefundCancel"    		class="snis.rbm.business.rsm6070.activity.SaveCancelReturns">
    <transition name="success"             	value="end" />
  </activity>
  <transaction-manager id="tx_rbm" commit="true" />
</service>