<?xml version="1.0" encoding="EUC-KR"?>

<service name="rbo4040" initial="SetResultKeys">

    <activity name="SetResultKeys"   class="com.posdata.glue.miplatform.biz.activity.PosSetResultKeyList">  
	    <property name="staticResultKeyFile"  value="resultkey.properties" />
	    <property name="resultKeyList" 		  value="dsSchP|dsParts|dsStkCnt|dsList|dsAprvList" />
	    <transition name="success" 			  value="EventRouter" />
	</activity>
  
    <activity name="EventRouter" 	 class="com.posdata.glue.biz.activity.PosDefaultRouter">    		
	    <transition name="searchSchParts"     value="searchSchParts" />
	    <transition name="searchParts"        value="searchParts" />
	    <transition name="searchStkCnt"       value="searchStkCnt" />
	    <transition name="searchList"         value="searchList" />
	    <transition name="searchAprvList"     value="searchAprvList" />
	    <transition name="SavePartsOutReq"    value="SavePartsOutReq" />	
		<transition name="success" 			  value="end" />
	</activity>

  	<!-- 모델별 부품 콤보 조회(검색조건) -->
  <activity name="searchSchParts"	  class="com.posdata.glue.miplatform.biz.activity.PosSearch">  
	
	<transition name="success" 		  value="end" />
	
	<property name="resultkey" 		  value="dsSchP" />
	<property name="sqlkey" 		  value="rbo4040_s02" />
	<property name="param-count" 	  value="0" />
	<property name="dao" 			  value="rbmdao" />

  </activity>
  
    <!-- 모델별 부품 콤보 조회(등록) -->
  <activity name="searchParts"	  class="com.posdata.glue.miplatform.biz.activity.PosSearch">  
	
	<transition name="success" 		  value="end" />
	
	<property name="resultkey" 		  value="dsParts" />
	<property name="sqlkey" 		  value="rbo4040_s02" />
	<property name="param-count" 	  value="0" />
	<property name="dao" 			  value="rbmdao" />

  </activity>
  
      <!-- 사용가능 수량  조회  -->
  <activity name="searchStkCnt"	  class="com.posdata.glue.miplatform.biz.activity.PosSearch">  
	
	<transition name="success" 		  value="end" />
	
	<property name="resultkey" 		  value="dsStkCnt" />
	<property name="sqlkey" 		  value="rbo4040_s03" />
	<property name="param-count" 	  value="3" />
	<property name="param0"			  value="PARTS_LCD"/>
	<property name="param1"			  value="PARTS_MCD"/>
	<property name="param2"			  value="PARTS_CD"/>
	<property name="dao" 			  value="rbmdao" />

  </activity>
	
	<!-- 출고신청 조회 -->
<!--  <activity name="searchList"		  class="com.posdata.glue.miplatform.biz.activity.PosSearch">  -->
<!--	-->
<!--	<transition name="success" 		  value="end" />-->
<!--	-->
<!--	<property name="resultkey" 		  value="dsList" />-->
<!--	<property name="sqlkey" 		  value="rbo4040_s01" />-->
<!--	<property name="param-count" 	  value="10" />  -->
<!--	<property name="param0" 		  value="BRNC_CD" />-->
<!--	<property name="param1" 		  value="BRNC_CD" />-->
<!--	<property name="param2" 		  value="BRNC_CD" />-->
<!--	<property name="param3" 		  value="BRNC_CD" />-->
<!--	<property name="param4" 		  value="REQ_DT_FROM" />  -->
<!--	<property name="param5" 		  value="REQ_DT_TO" /> -->
<!--	<property name="param6" 		  value="BRNC_CD" />-->
<!--	<property name="param7" 		  value="PARTS_LCD" />-->
<!--	<property name="param8" 		  value="PARTS_MCD" />-->
<!--	<property name="param9" 		  value="PARTS_CD" />-->
<!--	<property name="dao" 			  value="rbmdao" />-->
<!---->
<!--  </activity>-->
  
  	<!-- 출고신청 상단  조회(new) -->
  <activity name="searchList"		  class="com.posdata.glue.miplatform.biz.activity.PosSearch">  
	
	<transition name="success" 		  value="end" />
	
	<property name="resultkey" 		  value="dsList" />
	<property name="sqlkey" 		  value="rbo4040_s01_newTop" />
	<property name="param-count" 	  value="3" />
	<property name="param0" 		  value="PARTS_LCD" />
	<property name="param1" 		  value="PARTS_MCD" />
	<property name="param2" 		  value="PARTS_CD" />  
	<property name="dao" 			  value="rbmdao" />

  </activity>
  
    <!-- 출고신청 하단  조회(new) -->
  <activity name="searchAprvList"	  class="com.posdata.glue.miplatform.biz.activity.PosSearch">  
	
	<transition name="success" 		  value="end" />
	
	<property name="resultkey" 		  value="dsAprvList" />
	<property name="sqlkey" 		  value="rbo4040_s01_newBottom" />
	<property name="param-count" 	  value="7" />
	<property name="param0" 		  value="BRNC_CD" />
	<property name="param1" 		  value="REQ_DT_FROM" />  
	<property name="param2" 		  value="REQ_DT_TO" /> 
	<property name="param3" 		  value="PARTS_LCD" />
	<property name="param4" 		  value="PARTS_MCD" />
	<property name="param5" 		  value="PARTS_CD" />
	<property name="param6"           value="APRV_STAS" />
	<property name="dao" 			  value="rbmdao" />

  </activity>
  
  	<!-- 출고신청  정보 저장 -->
  <activity name="SavePartsOutReq" 	  class="snis.rbm.business.rbo4040.activity.SavePartsOutReq">
    	<transition name="success" 	  value="end" />
  </activity>
  
  <transaction-manager id="tx_rbm" commit="true" />

</service>