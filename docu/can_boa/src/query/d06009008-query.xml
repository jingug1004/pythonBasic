<?xml version="1.0" encoding='EUC-KR'?>
<queryMap desc="tbdn_cmpt_edu_outl(인적자원조회)">

	<query id="tbdn_cmpt_edu_outlr_fb001" desc="재원,졸업 및 이수자 조회" fetchSize="10">
        <![CDATA[
		
			SELECT  A.CAND_NO,
				   	A.NM_KOR,
				   	B.EDU_STR_DT,
				   	C.CD_NM AS STAT,
				   	B.EDU_END_DT 
			FROM	TBDN_CAND_IDENT A, 
                 	(
                 	SELECT	MAX(DT) EDU_END_DT
                 			, MIN(DT) EDU_STR_DT
                 	FROM	TBDN_DETL_EDU_ASSIGN
                 	WHERE	RACER_PERIO_NO = ?
                 	) B,
				 	(SELECT * FROM TBDM_SPEC_CD WHERE GRP_CD='D10031') C
			WHERE A.RACER_PERIO_NO 	= ?
            AND NVL(A.DEL_YN, 'N') 	= 'N'
			AND A.TH_STAT 			= C.CD(+)
			AND A.TH_STAT IN('001','002','003')
			ORDER BY CAND_NO		
		]]>
    </query>     
   
    <query id="tbdn_cmpt_edu_outlr_fb002" desc="휴학,퇴소자 조회" fetchSize="10">
        <![CDATA[
			SELECT /* tbdn_cmpt_edu_outlr_fb002 */
			       A.CAND_NO,
				   A.NM_KOR,
				   B.EDU_STR_DT,
				   C.GEN_DT,
				   C.RMK 
			FROM TBDN_CAND_IDENT A, 
                 	(
                 	SELECT	MAX(DT) EDU_END_DT
                 			, MIN(DT) EDU_STR_DT
                 	FROM	TBDN_DETL_EDU_ASSIGN
                 	WHERE	RACER_PERIO_NO = ?
                 	) B,
				 TBDN_TEMP_ABS C	 
			WHERE A.RACER_PERIO_NO 	= ?
            AND NVL(A.DEL_YN, 'N') 	= 'N'
			AND A.RACER_PERIO_NO 	= C.RACER_PERIO_NO(+)
			AND A.CAND_NO 			= C.CAND_NO(+)
			--AND A.TH_STAT 			= C.GBN(+)   /*재선이가 막음(2013.11.08)*/
			AND A.TH_STAT 			IN ('004','005')
			ORDER BY CAND_NO	
        ]]>
    </query> 
    
</queryMap>