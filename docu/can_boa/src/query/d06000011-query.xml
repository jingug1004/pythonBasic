<?xml version="1.0" encoding='EUC-KR'?>
<queryMap desc="tbdn_gud_lectr_mngr(지도교사)">

    <query id="tbdn_gud_lectr_d06000011_fn001" desc="기수 조회" fetchSize="10">
        <![CDATA[
			   
			   SELECT  CD  RACER_PERIO_NO
				 FROM  TBDM_SPEC_CD
				 WHERE GRP_CD  = 'D10000'
				 ORDER BY CD DESC		
		]]>
    </query>
    
    <query id="tbdn_gud_lectr_d06000011_fn002" desc="지도교사 조회" fetchSize="10">
        <![CDATA[
			SELECT  '0' CHK
					,RACER_PERIO_NO
					,GUD_LECTR_ID
					,NM_KOR
					,CHA_FLD
					,BLNG
					,USE_YN
					,RMK
			FROM   TBDN_GUD_LECTR
			WHERE  RACER_PERIO_NO = ?
			AND    NM_KOR LIKE '%' || NVL(?, NM_KOR) || '%'	
			
	        ]]>
    </query>     
                     
    <query id="tbdn_gud_lectr_d06000011_in001" desc="지도교사  입력" fetchSize="10">
        <![CDATA[
			INSERT INTO TBDN_GUD_LECTR (
			     RACER_PERIO_NO
			    ,GUD_LECTR_ID 
			    ,NM_KOR 
			    ,CHA_FLD 
			    ,BLNG 
			    ,USE_YN 
			    ,RMK 
			    ,INST_ID
			    ,INST_DTM
			)VALUES (
				 ?
				,(SELECT NVL(MAX(TO_NUMBER(NVL(GUD_LECTR_ID,0)))+1,1) FROM TBDN_GUD_LECTR)
				,?
				,?
				,?
				,?
				,?
				,?
				,SYSDATE
			)    
		]]>
    </query>
    
    <query id="tbdn_gud_lectr_d06000011_un001" desc="지도교사 갱신" fetchSize="10">
        <![CDATA[
			UPDATE TBDN_GUD_LECTR 
			SET   NM_KOR               = ?
			     ,CHA_FLD              = ?
			     ,BLNG                 = ?
			     ,USE_YN               = ?
			     ,RMK                  = ?
			     ,UPDT_ID              = ?
			     ,UPDT_DTM             = SYSDATE
			WHERE RACER_PERIO_NO      = ?
			AND   GUD_LECTR_ID        = ?		   
				       
		]]>
    </query>
              
    <query id="tbdn_gud_lectr_d06000011_dn001" desc="지도교사 삭제" fetchSize="10">
        <![CDATA[
			DELETE FROM TBDN_GUD_LECTR
			WHERE  RACER_PERIO_NO      = ?
			AND    GUD_LECTR_ID        = ?		   
			   
		]]>
    </query>     
    
</queryMap>