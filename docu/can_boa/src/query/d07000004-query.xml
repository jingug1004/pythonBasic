<?xml version="1.0" encoding='EUC-KR'?>
<queryMap desc="(선수훈련일지)"> 
	<query id="racer_code_d07000004_fn001" desc="선수콤보 조회" fetchSize="10">
		<![CDATA[
			SELECT /* racer_code_d07000004_fn001 */
			         TRM.RACER_NO
			       , TRM.NM_KOR
			FROM     MRASYS.TBEB_TRNG_ASK       TTA
			       , MRASYS.TBEB_TRNG_ASK_RACER TTAR
			       , MRASYS.TBEC_RACER_MASTER   TRM
			WHERE  TTA.TRNG_ASK_SEQ = TTAR.TRNG_ASK_SEQ
			AND    TRM.RACER_NO     = TTAR.RACER_NO
			AND    ? BETWEEN TTA.TRNG_ASK_STR_DT
			             AND TTA.TRNG_ASK_END_DT
            AND    TTA.TRNG_ASK_SEQ = ?
			GROUP BY 
			         TRM.RACER_NO
			       , TRM.NM_KOR
			ORDER BY TRM.NM_KOR
		]]>
    </query>
    <query id="tbdo_racer_trng_mst_fb001" desc="선수훈련일지마스터 조회" fetchSize="10">
		<![CDATA[
			SELECT  /* tbdo_racer_trng_mst_fb001 */
			         TRNG_ASK_SEQ
			       , DT             -- 일자    
			       , WEATHER1       -- 날씨1   
			       , WEATHER2       -- 날씨2   
			       , WIND_DIRC1     -- 풍향1   
			       , WIND_DIRC2     -- 풍향2   
			       , WIND_SPD1      -- 풍속1   
			       , WIND_SPD2      -- 풍속2   
			       , TEMPT1         -- 기온1   
			       , TEMPT2         -- 기온2   
			       , HUMID1         -- 습도1   
			       , HUMID2         -- 습도2   
			       , WAT_TEMP1      -- 수온1   
			       , WAT_TEMP2      -- 수온    
			       , WAT_LEV        -- 수위    
			       , TOT_PERS_NO    -- 총원    
			       , CURR_PERS_NO   -- 현재원  
				   , EXC_PERS_NO    -- 제외인원 
			       , ABS_PERS_NO    -- 불참인원     
			       , INSTR          -- 참여교관
			       , EDU_PLC        -- 교육장소
			       , IND_DESC       -- 지시내용
			       , ETC_DESC       -- 기타사항
			       ,'' AS ABS
			       ,'' AS AM
			       ,'' AS PM
			FROM   TBDO_RACER_TRNG_MST
            WHERE  DT = ? 
              AND  TRNG_ASK_SEQ = ?
	    ]]>
    </query>
    <query id="tbdo_racer_trng_acdnt_fb001" desc="선수훈련일지사고 조회" fetchSize="10">
		<![CDATA[
            SELECT  /* tbdo_racer_trng_acdnt_fb001 */
                     TRTA.DT
                   , TRTA.SEQ
                   , TRTA.GBN
                   , TRTA.RACER_NO
                   , TRM .NM_KOR
                   , TRTA.VIOL_CNTNT
                   , TRTA.RACE_CNTNT
                   , TRTA.REPAIT_DESC   
                   , TRTA.TRNG_ASK_SEQ         
            FROM     TBDO_RACER_TRNG_ACDNT TRTA
                   , MRASYS.TBEC_RACER_MASTER     TRM
            WHERE  TRTA.RACER_NO = TRM.RACER_NO
              AND  TRTA.DT       = ?
              AND  TRNG_ASK_SEQ = ?
            ORDER BY  TRTA.SEQ
	    ]]>
    </query>
    <query id="tbdo_racer_trng_detl_fb001" desc="선수훈련상세 조회" fetchSize="10">
		<![CDATA[
            SELECT  /* tbdo_racer_trng_detl_fb001 */
                     TRNG_ASK_SEQ
                   , DT
                   , SEQ
                   , STR_END_TIME
                   , EDU_TIME
                   , EDU_DETL
            FROM   TBDO_RACER_TRNG_DETL
            WHERE  DT       = ?
              AND  TRNG_ASK_SEQ = ?
            ORDER BY SEQ
	    ]]>
    </query>  
    <query id="tbdo_racer_trng_abs_fb001" desc="선수훈련결원 조회" fetchSize="10">
		<![CDATA[
            SELECT  /* tbdo_racer_trng_abs_fb001 */
                     TRTA.DT
                   , TRTA.SEQ
                   , TRTA.RACER_NO
                   , TRM .NM_KOR
                   , TRTA.STR_END_TIME
                   , TRTA.EDU_TIME
                   , TRTA.RMK
   				   , TRTA.ABS_EXC_CD AS ABS_EXC_GBN
            FROM            TBDO_RACER_TRNG_ABS TRTA
                   , MRASYS.TBEC_RACER_MASTER   TRM
            WHERE  TRTA.RACER_NO = TRM.RACER_NO
            AND    TRTA.DT       = ?
            ORDER BY  TRTA.SEQ
	    ]]>
    </query>
    <query id="tbdo_racer_trng_mst_ib001" desc="선수훈련일지마스터 입력" fetchSize="10">
        <![CDATA[
			INSERT /* tbdo_racer_trng_mst_ib001 */
			       INTO TBDO_RACER_TRNG_MST
			(
			         TRNG_ASK_SEQ
			       , DT             -- 일자    
			       , WEATHER1       -- 날씨1   
			       , WEATHER2       -- 날씨2   
			       , WIND_DIRC1     -- 풍향1   
			       , WIND_DIRC2     -- 풍향2   
			       , WIND_SPD1      -- 풍속1   
			       , WIND_SPD2      -- 풍속2   
			       , TEMPT1         -- 기온1   
			       , TEMPT2         -- 기온2   
			       , HUMID1         -- 습도1   
			       , HUMID2         -- 습도2   
			       , WAT_TEMP1      -- 수온1   
			       , WAT_TEMP2      -- 수온    
			       , WAT_LEV        -- 수위    
			       , TOT_PERS_NO    -- 총원    
			       , CURR_PERS_NO   -- 현재원  
			       , ABS_PERS_NO    -- 불참인원  
			       , EXC_PERS_NO    -- 제외인원  
			       , INSTR          -- 참여교관
			       , EDU_PLC        -- 교육장소
			       , IND_DESC       -- 지시내용
			       , ETC_DESC       -- 기타사항
			       , INST_ID        -- 작성자ID
			       , INST_DTM       -- 작성일자
			       , UPDT_ID        -- 수정자ID
			       , UPDT_DTM       -- 수정일자
			) VALUES (
			         ?              --     
			       , ?              -- 일자   
			       , ?              -- 날씨1   
			       , ?              -- 날씨2   
			       , ?              -- 풍향1   
			       , ?              -- 풍향2   
			       , ?              -- 풍속1   
			       , ?              -- 풍속2   
			       , ?              -- 기온1   
			       , ?              -- 기온2   
			       , ?              -- 습도1   
			       , ?              -- 습도2   
			       , ?              -- 수온1   
			       , ?              -- 수온    
			       , ?              -- 수위    
			       , ?              -- 총원    
			       , ?              -- 현재원  
			       , ?              -- 불참인원 
			       , ?              -- 제외인원  
			       , ?              -- 참여교관
			       , ?              -- 교육장소
			       , ?              -- 지시내용
			       , ?              -- 기타사항
			       , ?              -- 작성자ID
			       , SYSDATE        -- 작성일자
			       , ?              -- 수정자ID
			       , SYSDATE        -- 수정일자
			)
		]]>
    </query>
    <query id="tbdo_racer_trng_mst_ub001" desc="선수훈련일지마스터 수정" fetchSize="10">
        <![CDATA[
			UPDATE /* tbdo_racer_trng_mst_ub001 */
			       TBDO_RACER_TRNG_MST SET
			         WEATHER1     = ?       -- 날씨1   
			       , WEATHER2     = ?       -- 날씨2   
			       , WIND_DIRC1   = ?       -- 풍향1   
			       , WIND_DIRC2   = ?       -- 풍향2   
			       , WIND_SPD1    = ?       -- 풍속1   
			       , WIND_SPD2    = ?       -- 풍속2   
			       , TEMPT1       = ?       -- 기온1   
			       , TEMPT2       = ?       -- 기온2   
			       , HUMID1       = ?       -- 습도1   
			       , HUMID2       = ?       -- 습도2   
			       , WAT_TEMP1    = ?       -- 수온1   
			       , WAT_TEMP2    = ?       -- 수온    
			       , WAT_LEV      = ?       -- 수위    
			       , TOT_PERS_NO  = ?       -- 총원    
			       , CURR_PERS_NO = ?       -- 현재원  
			       , ABS_PERS_NO  = ?       -- 불참인원  
			       , EXC_PERS_NO  = ?       -- 제외인원    
			       , INSTR        = ?       -- 참여교관
			       , EDU_PLC      = ?       -- 교육장소
			       , IND_DESC     = ?       -- 지시내용
			       , ETC_DESC     = ?       -- 기타사항
			       , UPDT_ID      = ?       -- 수정자ID
			       , UPDT_DTM     = SYSDATE -- 수정일자
			WHERE  TRNG_ASK_SEQ   = ?
			  AND  DT             = ?       -- 일자    
		]]>
    </query>
    <query id="tbdo_racer_trng_acdnt_ib001" desc="선수훈련일지사고 입력" fetchSize="10">
        <![CDATA[
			INSERT /* tbdo_racer_trng_acdnt_ib001 */
			       INTO TBDO_RACER_TRNG_ACDNT
			(
			         DT             -- 일자    
			       , SEQ            -- 일련번호
			       , GBN            -- 구분    
			       , RACER_NO       -- 선수번호
			       , VIOL_CNTNT     -- 위반코드
			       , RACE_CNTNT     -- 사고내용
			       , REPAIT_DESC    -- 조치사항
			       , TRNG_ASK_SEQ
			       , INST_ID        -- 작성자ID
			       , INST_DTM       -- 작성일자
			       , UPDT_ID        -- 수정자ID
			       , UPDT_DTM       -- 수정일자
			) VALUES (
			         ?              -- 일자    
			       , ?              -- 일련번호
			       , ?              -- 구분    
			       , ?              -- 선수번호
			       , ?              -- 위반코드
			       , ?              -- 사고내용
			       , ?              -- 조치사항
			       , ?				-- 훈련번호
			       , ?              -- 작성자ID
			       , SYSDATE        -- 작성일자
			       , ?              -- 수정자ID
			       , SYSDATE        -- 수정일자
			)
		]]>
    </query>
    <query id="tbdo_racer_trng_acdnt_ub001" desc="선수훈련일지사고 수정" fetchSize="10">  
        <![CDATA[
			UPDATE /* tbdo_racer_trng_acdnt_ub001 */
			       TBDO_RACER_TRNG_ACDNT SET
			         GBN         = ?       -- 구분    
			       , RACER_NO    = ?       -- 선수번호
			       , VIOL_CNTNT  = ?       -- 위반코드
			       , RACE_CNTNT  = ?       -- 사고내용
			       , REPAIT_DESC = ?       -- 조치사항
			       , UPDT_ID     = ?       -- 수정자ID
			       , UPDT_DTM    = SYSDATE -- 수정일자
			WHERE  DT            = ?       -- 일자    
			AND    TRNG_ASK_SEQ  = ?	   -- 훈련번호
			AND    SEQ           = ?       -- 일련번호			
		]]>
    </query>
    <query id="tbdo_racer_trng_acdnt_db001" desc="선수훈련일지사고 수정" fetchSize="10">  
        <![CDATA[
			DELETE /* tbdo_racer_trng_acdnt_db001 */
			FROM TBDO_RACER_TRNG_ACDNT
			WHERE  DT             = ?       -- 일자        
			AND    TRNG_ASK_SEQ   = ?       -- 훈련번호
			AND    SEQ            = ?       -- 일련번호    
		]]>
    </query>
    <query id="tbdo_racer_trng_detl_ib001" desc="선수훈련일지상세 입력" fetchSize="10">
        <![CDATA[
			INSERT /* tbdo_racer_trng_detl_ib001 */
			       INTO TBDO_RACER_TRNG_DETL
			(
			         TRNG_ASK_SEQ  
			       , DT            -- 일자        
			       , SEQ           -- 일련번호    
			       , STR_END_TIME  -- 시작종료시간
			       , EDU_TIME      -- 교육시간    
			       , EDU_DETL      -- 교육상세    
			       , INST_ID       -- 작성자ID    
			       , INST_DTM      -- 작성일자    
			       , UPDT_ID       -- 수정자ID    
			       , UPDT_DTM      -- 수정일자    
			) VALUES (
			         ?
			       , ?             -- 일자        
			       , ?             -- 일련번호    
			       , ?             -- 시작종료시간
			       , ?             -- 교육시간    
			       , ?             -- 교육상세    
			       , ?             -- 작성자ID    
			       , SYSDATE       -- 작성일자    
			       , ?             -- 수정자ID    
			       , SYSDATE       -- 수정일자    
			)
		]]>
    </query>
    <query id="tbdo_racer_trng_detl_ub001" desc="선수훈련일지상세 수정" fetchSize="10">
        <![CDATA[
			UPDATE /* tbdo_racer_trng_detl_ub001 */
			       TBDO_RACER_TRNG_DETL SET
			         STR_END_TIME = ?       -- 시작종료시간
			       , EDU_TIME     = ?       -- 교육시간    
			       , EDU_DETL     = ?       -- 교육상세    
			       , UPDT_ID      = ?       -- 수정자ID    
			       , UPDT_DTM     = SYSDATE -- 수정일자    
			WHERE  TRNG_ASK_SEQ   = ?
			AND    DT             = ?       -- 일자        
			AND    SEQ            = ?       -- 일련번호    
		]]>
    </query>
    <query id="tbdo_racer_trng_detl_db001" desc="선수훈련일지상세 수정" fetchSize="10">
        <![CDATA[
			DELETE /* tbdo_racer_trng_detl_db001 */
			FROM TBDO_RACER_TRNG_DETL
			WHERE  DT             = ?       -- 일자        
			AND    SEQ            = ?       -- 일련번호    
		]]>
    </query>
    <query id="tbdo_racer_trng_abs_ib001" desc="선수훈련일지결원 입력" fetchSize="10">
        <![CDATA[
			INSERT /* tbdo_racer_trng_abs_ib001 */
			       INTO TBDO_RACER_TRNG_ABS
			(
			         DT            -- 일자        
			       , SEQ           -- 일련번호    
			       , RACER_NO      -- 선수번호    
			       , STR_END_TIME  -- 시작종료시간
			       , EDU_TIME      -- 교육시간   
			       , ABS_EXC_CD    -- 불참/제외 구분 코드 
			       , RMK           -- 비고        
			       , INST_ID       -- 작성자ID    
			       , INST_DTM      -- 작성일자    
			       , UPDT_ID       -- 수정자ID    
			       , UPDT_DTM      -- 수정일자    
			) VALUES (
			         ?             -- 일자        
			       , ?             -- 일련번호    
			       , ?             -- 선수번호    
			       , ?             -- 시작종료시간
			       , ?             -- 교육시간   
			       , ?             -- 불참/제외 구분 코드  
			       , ?             -- 비고        
			       , ?             -- 작성자ID    
			       , SYSDATE       -- 작성일자    
			       , ?             -- 수정자ID    
			       , SYSDATE       -- 수정일자    
			)
		]]>
    </query>
    <query id="tbdo_racer_trng_abs_ub001" desc="선수훈련일지결원 수정" fetchSize="10">
        <![CDATA[
			UPDATE /* tbdo_racer_trng_abs_ub001 */
			       TBDO_RACER_TRNG_ABS SET
			         RACER_NO     = ?       -- 선수번호    
			       , STR_END_TIME = ?       -- 시작종료시간
			       , EDU_TIME     = ?       -- 교육시간 
			       , ABS_EXC_CD   = ?       -- 불참/제외 구분 코드   
			       , RMK          = ?       -- 비고        
			       , UPDT_ID      = ?       -- 수정자ID    
			       , UPDT_DTM     = SYSDATE -- 수정일자    
			WHERE  DT             = ?       -- 일자        
			AND    SEQ            = ?       -- 일련번호    
		]]>
    </query>
    <query id="tbdo_racer_trng_abs_db001" desc="선수훈련일지결원 수정" fetchSize="10">
        <![CDATA[
			DELETE /* tbdo_racer_trng_abs_db001 */
			FROM TBDO_RACER_TRNG_ABS
			WHERE  DT             = ?       -- 일자        
			AND    SEQ            = ?       -- 일련번호    
		]]>
    </query>
</queryMap>
