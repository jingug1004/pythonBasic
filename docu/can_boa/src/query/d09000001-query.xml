<?xml version="1.0" encoding='EUC-KR'?>
<queryMap desc="(경정건강기록)">
  	<query id="tbdq_health_fb001" desc="개인건강상태 조회" fetchSize="10">
        <![CDATA[
			SELECT  
					'0' AS CHK
					,A.RACER_PERIO_NO
					,A.CAND_NO
					,A.DT
					,A.SEQ
					,A.IJRY_DETL
					,A.CURE_GBN
					,A.CUR_CNTNT
					,A.DIAG_FILE_PATH
					,A.DIAG_FILE_REAL_NM
					,A.DIAG_FILE_DISP_NM
			FROM	TBDQ_HEALTH A, TBDN_CAND_IDENT B 
			WHERE	A.RACER_PERIO_NO 	= B.RACER_PERIO_NO
			AND		A.CAND_NO 			= B.CAND_NO
			AND     NVL(B.DEL_YN,'N')   = 'N' 
			AND		A.RACER_PERIO_NO	= NVL(?, A.RACER_PERIO_NO)
			AND		A.CAND_NO			= NVL(?, A.CAND_NO)		
			ORDER BY A.RACER_PERIO_NO, A.CAND_NO
		]]>
    </query> 
 	      
    <query id="tbdq_health_fb002" desc="기수조회" fetchSize="10">
        <![CDATA[
			   
			   SELECT  CD  RACER_PERIO_NO
				 FROM  TBDM_SPEC_CD
				 WHERE GRP_CD  = 'D10000'
				 ORDER BY CD DESC			
		]]>
    </query> 
    
    <query id="tbdq_health_fb003" desc="경정후보생신상 조회" fetchSize="10">
        <![CDATA[
			SELECT  RACER_PERIO_NO
					,CAND_NO
					,NM_KOR
			FROM	TBDN_CAND_IDENT
			WHERE	RACER_PERIO_NO    = NVL(?, RACER_PERIO_NO)
			AND     NVL(DEL_YN,'N')   = 'N' 
			AND		(NM_KOR LIKE '%' || ? || '%' OR ? IS NULL)		
			ORDER BY RACER_PERIO_NO, CAND_NO
		]]>
    </query>     
    
 	<query id="tbdq_wound_fb001_1" desc="신체부위 조회1" fetchSize="10">
        <![CDATA[
			SELECT	A.RACER_PERIO_NO
					,A.DT
					,A.CAND_NO
					,COUNT(CASE WHEN A.BODY_PART = 1  AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN1  
					,COUNT(CASE WHEN A.BODY_PART = 2  AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN2  
					,COUNT(CASE WHEN A.BODY_PART = 3  AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN3  
					,COUNT(CASE WHEN A.BODY_PART = 4  AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN4  
					,COUNT(CASE WHEN A.BODY_PART = 5  AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN5  
					,COUNT(CASE WHEN A.BODY_PART = 6  AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN6  
					,COUNT(CASE WHEN A.BODY_PART = 7  AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN7  
					,COUNT(CASE WHEN A.BODY_PART = 8  AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN8  
					,COUNT(CASE WHEN A.BODY_PART = 9  AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN9  
					,COUNT(CASE WHEN A.BODY_PART = 10 AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN10 
					,COUNT(CASE WHEN A.BODY_PART = 11 AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN11 
					,COUNT(CASE WHEN A.BODY_PART = 12 AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN12 
					,COUNT(CASE WHEN A.BODY_PART = 13 AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN13 
					,COUNT(CASE WHEN A.BODY_PART = 14 AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN14 
					,COUNT(CASE WHEN A.BODY_PART = 15 AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN15 
					,COUNT(CASE WHEN A.BODY_PART = 16 AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN16 
					,COUNT(CASE WHEN A.BODY_PART = 17 AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN17 
					,COUNT(CASE WHEN A.BODY_PART = 18 AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN18 
					,COUNT(CASE WHEN A.BODY_PART = 19 AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN19 
					,COUNT(CASE WHEN A.BODY_PART = 20 AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN20 
					,COUNT(CASE WHEN A.BODY_PART = 21 AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN21 
					,COUNT(CASE WHEN A.BODY_PART = 22 AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN22 
					,COUNT(CASE WHEN A.BODY_PART = 23 AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN23 
					,COUNT(CASE WHEN A.BODY_PART = 24 AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN24 
					,COUNT(CASE WHEN A.BODY_PART = 25 AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN25 
					,COUNT(CASE WHEN A.BODY_PART = 26 AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN26 
					,COUNT(CASE WHEN A.BODY_PART = 27 AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN27 
					,COUNT(CASE WHEN A.BODY_PART = 28 AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN28 
					,COUNT(CASE WHEN A.BODY_PART = 29 AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN29 
					,COUNT(CASE WHEN A.BODY_PART = 30 AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN30 
			FROM	TBDQ_WOUND A, TBDN_CAND_IDENT B
			WHERE	A.RACER_PERIO_NO	= B.RACER_PERIO_NO
			AND		A.CAND_NO			= B.CAND_NO
			AND		A.RACER_PERIO_NO	= NVL(?, A.RACER_PERIO_NO)	
			AND		A.CAND_NO			= NVL(?, A.CAND_NO)
			AND		A.DT 				= (
										   	SELECT MAX(DT)
											FROM   TBDQ_WOUND
											WHERE  RACER_PERIO_NO = NVL(?, RACER_PERIO_NO)	
											AND	   CAND_NO		  = NVL(?, CAND_NO)
											GROUP BY RACER_PERIO_NO, CAND_NO
										   )			
			GROUP BY  A.RACER_PERIO_NO, A.DT, A.CAND_NO
		]]>
	</query> 
 
  	<query id="tbdq_wound_fb002_1" desc="신체부위 조회2" fetchSize="10">
        <![CDATA[
			SELECT	
					C.BODY_PART_NM
					,C.BODY_PART
					,A.RACER_PERIO_NO
					,A.CAND_NO
					,A.DT
					,A.IJRY_DETL
			FROM	(
						SELECT	'A01'  AS BODY_PART_NM
								,1 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A02'  AS BODY_PART_NM
								,2 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A03'  AS BODY_PART_NM
								,3 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A04'  AS BODY_PART_NM
								,4 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A05'  AS BODY_PART_NM
								,5 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A06'  AS BODY_PART_NM
								,6 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A07'  AS BODY_PART_NM
								,7 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A08'  AS BODY_PART_NM
								,8 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A09'  AS BODY_PART_NM
								,9 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A10'  AS BODY_PART_NM
								,10 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A11'  AS BODY_PART_NM
								,11 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A12'  AS BODY_PART_NM
								,12 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A13'  AS BODY_PART_NM
								,13 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A14'  AS BODY_PART_NM
								,14 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A15'  AS BODY_PART_NM
								,15 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A16'  AS BODY_PART_NM
								,16 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A17'  AS BODY_PART_NM
								,17 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A18'  AS BODY_PART_NM
								,18 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A19'  AS BODY_PART_NM
								,19 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A20'  AS BODY_PART_NM
								,20 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A21'  AS BODY_PART_NM
								,21 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A22'  AS BODY_PART_NM
								,22 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A23'  AS BODY_PART_NM
								,23 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A24'  AS BODY_PART_NM
								,24 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A25'  AS BODY_PART_NM
								,25 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A26'  AS BODY_PART_NM
								,26 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A27'  AS BODY_PART_NM
								,27 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A28'  AS BODY_PART_NM
								,28 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A29'  AS BODY_PART_NM
								,29 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A30'  AS BODY_PART_NM
								,30 AS BODY_PART
						FROM   DUAL
					) C
			LEFT OUTER JOIN
				 	 TBDQ_WOUND	A
			ON		 C.BODY_PART 		= A.BODY_PART
			AND		 A.RACER_PERIO_NO 	= NVL(?, A.RACER_PERIO_NO)		
			AND	     A.CAND_NO 			= NVL(?, A.CAND_NO)
			WHERE	 A.DT 				= (
										   	SELECT MAX(B.DT)
											FROM   TBDQ_WOUND B
											WHERE  B.RACER_PERIO_NO = NVL(?, B.RACER_PERIO_NO)	
											AND	   B.CAND_NO		= NVL(?, B.CAND_NO)
											GROUP BY B.RACER_PERIO_NO, B.CAND_NO
										   )			
			ORDER BY C.BODY_PART		
		]]>
    </query> 
    
 	<query id="tbdq_wound_fb001_2" desc="신체부위 조회1_2" fetchSize="10">
        <![CDATA[
			SELECT	A.RACER_PERIO_NO
					,A.DT
					,A.CAND_NO
					,COUNT(CASE WHEN A.BODY_PART = 1  AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN1  
					,COUNT(CASE WHEN A.BODY_PART = 2  AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN2  
					,COUNT(CASE WHEN A.BODY_PART = 3  AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN3  
					,COUNT(CASE WHEN A.BODY_PART = 4  AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN4  
					,COUNT(CASE WHEN A.BODY_PART = 5  AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN5  
					,COUNT(CASE WHEN A.BODY_PART = 6  AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN6  
					,COUNT(CASE WHEN A.BODY_PART = 7  AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN7  
					,COUNT(CASE WHEN A.BODY_PART = 8  AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN8  
					,COUNT(CASE WHEN A.BODY_PART = 9  AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN9  
					,COUNT(CASE WHEN A.BODY_PART = 10 AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN10 
					,COUNT(CASE WHEN A.BODY_PART = 11 AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN11 
					,COUNT(CASE WHEN A.BODY_PART = 12 AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN12 
					,COUNT(CASE WHEN A.BODY_PART = 13 AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN13 
					,COUNT(CASE WHEN A.BODY_PART = 14 AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN14 
					,COUNT(CASE WHEN A.BODY_PART = 15 AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN15 
					,COUNT(CASE WHEN A.BODY_PART = 16 AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN16 
					,COUNT(CASE WHEN A.BODY_PART = 17 AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN17 
					,COUNT(CASE WHEN A.BODY_PART = 18 AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN18 
					,COUNT(CASE WHEN A.BODY_PART = 19 AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN19 
					,COUNT(CASE WHEN A.BODY_PART = 20 AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN20 
					,COUNT(CASE WHEN A.BODY_PART = 21 AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN21 
					,COUNT(CASE WHEN A.BODY_PART = 22 AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN22 
					,COUNT(CASE WHEN A.BODY_PART = 23 AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN23 
					,COUNT(CASE WHEN A.BODY_PART = 24 AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN24 
					,COUNT(CASE WHEN A.BODY_PART = 25 AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN25 
					,COUNT(CASE WHEN A.BODY_PART = 26 AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN26 
					,COUNT(CASE WHEN A.BODY_PART = 27 AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN27 
					,COUNT(CASE WHEN A.BODY_PART = 28 AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN28 
					,COUNT(CASE WHEN A.BODY_PART = 29 AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN29 
					,COUNT(CASE WHEN A.BODY_PART = 30 AND A.BODY_YN = '1' THEN 1 END) AS BODY_YN30 
			FROM	TBDQ_WOUND A, TBDN_CAND_IDENT B
			WHERE	A.RACER_PERIO_NO	= B.RACER_PERIO_NO
			AND		A.CAND_NO			= B.CAND_NO
			AND		A.RACER_PERIO_NO	= NVL(?, A.RACER_PERIO_NO)	
			AND		A.CAND_NO			= NVL(?, A.CAND_NO)
			AND		(A.DT = ? OR ? IS NULL)
			AND		NVL(DEL_YN,'N')   = 'N' 
			GROUP BY  A.RACER_PERIO_NO, A.DT, A.CAND_NO
		]]>
	</query> 
 
  	<query id="tbdq_wound_fb002_2" desc="신체부위 조회2_2" fetchSize="10">
        <![CDATA[
			SELECT	
					C.BODY_PART_NM
					,C.BODY_PART
					,A.RACER_PERIO_NO
					,A.CAND_NO
					,A.DT
					,A.IJRY_DETL
			FROM	(
						SELECT	'A01'  AS BODY_PART_NM
								,1 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A02'  AS BODY_PART_NM
								,2 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A03'  AS BODY_PART_NM
								,3 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A04'  AS BODY_PART_NM
								,4 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A05'  AS BODY_PART_NM
								,5 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A06'  AS BODY_PART_NM
								,6 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A07'  AS BODY_PART_NM
								,7 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A08'  AS BODY_PART_NM
								,8 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A09'  AS BODY_PART_NM
								,9 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A10'  AS BODY_PART_NM
								,10 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A11'  AS BODY_PART_NM
								,11 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A12'  AS BODY_PART_NM
								,12 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A13'  AS BODY_PART_NM
								,13 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A14'  AS BODY_PART_NM
								,14 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A15'  AS BODY_PART_NM
								,15 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A16'  AS BODY_PART_NM
								,16 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A17'  AS BODY_PART_NM
								,17 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A18'  AS BODY_PART_NM
								,18 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A19'  AS BODY_PART_NM
								,19 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A20'  AS BODY_PART_NM
								,20 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A21'  AS BODY_PART_NM
								,21 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A22'  AS BODY_PART_NM
								,22 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A23'  AS BODY_PART_NM
								,23 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A24'  AS BODY_PART_NM
								,24 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A25'  AS BODY_PART_NM
								,25 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A26'  AS BODY_PART_NM
								,26 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A27'  AS BODY_PART_NM
								,27 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A28'  AS BODY_PART_NM
								,28 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A29'  AS BODY_PART_NM
								,29 AS BODY_PART
						FROM   DUAL
						UNION
						SELECT	'A30'  AS BODY_PART_NM
								,30 AS BODY_PART
						FROM   DUAL
					) C
			LEFT OUTER JOIN
				 	 TBDQ_WOUND	A
			ON		 C.BODY_PART 		= A.BODY_PART
			AND		 A.RACER_PERIO_NO 	= NVL(?, A.RACER_PERIO_NO)		
			AND	     A.CAND_NO 			= NVL(?, A.CAND_NO)
			AND		(A.DT = ? OR ? IS NULL)		
			ORDER BY C.BODY_PART		
		]]>
    </query>     
       
    <query id="tbdq_ext_exam_fb001" desc="외진기록(부상내역)" fetchSize="10">
        <![CDATA[
			SELECT 
					'0' AS CHK
					,A.RACER_PERIO_NO
					,A.DT            
					,A.CAND_NO       
					,A.SEQ
					,A.DIAG_FILE_PATH
					,A.DIAG_FILE_REAL_NM
					,A.DIAG_FILE_DISP_NM
					,A.ETC_IDEA
					,'' AS FILE_CLICK
			FROM	TBDQ_EXT_EXAM A, TBDN_CAND_IDENT B 
			WHERE	A.RACER_PERIO_NO 	= B.RACER_PERIO_NO
			AND		A.CAND_NO 			= B.CAND_NO
			AND		A.RACER_PERIO_NO	= NVL(?, A.RACER_PERIO_NO)	
			AND		A.CAND_NO			= NVL(?, A.CAND_NO)			
			ORDER BY A.RACER_PERIO_NO, A.CAND_NO	
		]]>
    </query>     
            
    <query id="tbdq_health_ib001" desc="개인건강상태 입력" fetchSize="10">
        <![CDATA[
			INSERT INTO TBDQ_HEALTH (
				RACER_PERIO_NO
				,DT				
				,CAND_NO
				,SEQ
				,IJRY_DETL
				,CURE_GBN
				,CUR_CNTNT
				,DIAG_FILE_PATH
				,DIAG_FILE_REAL_NM
				,DIAG_FILE_DISP_NM
				,INST_ID
				,INST_DTM    
			)
			SELECT
				 ?
				,?
				,?						
				,NVL(MAX(SEQ), 0) + 1
				,?
				,?
				,?
				,?,?,?
				,?
				,SYSDATE
			FROM 	TBDQ_HEALTH
			WHERE 	RACER_PERIO_NO	= ?
			AND 	CAND_NO			= ?
		]]>
    </query>
    
    <query id="tbdq_health_ub001" desc="개인건강상태 수정" fetchSize="10">
        <![CDATA[
			UPDATE TBDQ_HEALTH 
			SET
					IJRY_DETL			= ?
					,DT					= ?
					,CURE_GBN           = ?
					,CUR_CNTNT			= ?
					,DIAG_FILE_PATH		= ?
					,DIAG_FILE_REAL_NM	= ?
					,DIAG_FILE_DISP_NM	= ?
					,UPDT_ID        	= ?
					,UPDT_DTM       	= SYSDATE
			WHERE	RACER_PERIO_NO		= ?
			AND		CAND_NO				= ?
			AND		SEQ					= ?
		]]>
    </query>
          
    <query id="tbdq_health_db001" desc="개인건강상태 삭제" fetchSize="10">
        <![CDATA[
			DELETE 
			FROM   	TBDQ_HEALTH 
			WHERE	RACER_PERIO_NO		= ?
			AND		DT					= ?
			AND		CAND_NO				= ?
			AND		SEQ					= ?
		]]>
    </query>
    
    <query id="tbdq_wound_ib001" desc="신체부위(부상내역)1 입력" fetchSize="10">
        <![CDATA[
			INSERT INTO TBDQ_WOUND (
				RACER_PERIO_NO
				,DT				
				,CAND_NO
				,BODY_PART
				,BODY_YN
				,INST_ID
				,INST_DTM    
			)VALUES
			(			
				 ?
				,?
				,?
				,?
				,?
				,?
				,SYSDATE
			)
		]]>
    </query>
				    
    <query id="tbdq_wound_ub001" desc="신체부위(부상내역)1 수정" fetchSize="10">
        <![CDATA[
			UPDATE TBDQ_WOUND 
			SET
					BODY_YN				= ?
					,UPDT_ID        	= ?
					,UPDT_DTM       	= SYSDATE
			WHERE	RACER_PERIO_NO		= ?
			AND		DT					= ?
			AND		CAND_NO				= ?
			AND		BODY_PART			= ?
		]]>
    </query>
    
    <query id="tbdq_wound_ib002" desc="신체부위(부상내역)2 입력" fetchSize="10">
        <![CDATA[
			INSERT INTO TBDQ_WOUND (
				RACER_PERIO_NO
				,DT				
				,CAND_NO
				,BODY_PART
				,IJRY_DETL
				,INST_ID
				,INST_DTM    
			)VALUES
			(			
				 ?
				,?
				,?
				,?
				,?
				,?
				,SYSDATE
			)
		]]>
    </query>
				    
    <query id="tbdq_wound_ub002" desc="신체부위(부상내역)2 수정" fetchSize="10">
        <![CDATA[
			UPDATE TBDQ_WOUND 
			SET
					IJRY_DETL			= ?					
					,UPDT_ID        	= ?
					,UPDT_DTM       	= SYSDATE
			WHERE	RACER_PERIO_NO		= ?
			AND		DT					= ?
			AND		CAND_NO				= ?
			AND		BODY_PART			= ?
		]]>
    </query>    
    
    
          
    <query id="tbdq_wound_db001" desc="신체부위(부상내역) 삭제" fetchSize="10">
        <![CDATA[
			DELETE 
			FROM   	TBDQ_WOUND 
			WHERE	RACER_PERIO_NO		= ?
			AND		DT					= ?
			AND		CAND_NO				= ?
			AND		BODY_PART			= ?			
		]]>
    </query>   
    
    
    <query id="tbdq_ext_exam_ib001" desc="외진기록(외래진료) 입력" fetchSize="10">
        <![CDATA[
			INSERT INTO TBDQ_EXT_EXAM (
				RACER_PERIO_NO
				,SEQ					
				,DT				
				,CAND_NO			
				,DIAG_FILE_PATH
				,DIAG_FILE_REAL_NM
				,DIAG_FILE_DISP_NM
				,ETC_IDEA
				,INST_ID
				,INST_DTM    
			)
			SELECT
				 ?
				,NVL(MAX(SEQ), 0) + 1				 
				,?
				,?						
				,?
				,?
				,?
				,?
				,?
				,SYSDATE
			FROM 	TBDQ_EXT_EXAM
			WHERE 	RACER_PERIO_NO	= ?
			AND 	DT				= ?
			AND 	CAND_NO			= ?
		]]>
    </query>
				    
    <query id="tbdq_ext_exam_ub001" desc="외진기록(외래진료) 수정" fetchSize="10">
        <![CDATA[
			UPDATE TBDQ_EXT_EXAM 
			SET
					DIAG_FILE_PATH		= ?
					,DIAG_FILE_REAL_NM	= ?
					,DIAG_FILE_DISP_NM	= ?
					,ETC_IDEA			= ?					
					,UPDT_ID        	= ?
					,UPDT_DTM       	= SYSDATE
			WHERE	RACER_PERIO_NO		= ?
			AND		DT					= ?
			AND		CAND_NO				= ?
			AND		SEQ					= ?			
		]]>
    </query>
          
    <query id="tbdq_ext_exam_db001" desc="외진기록(외래진료) 삭제" fetchSize="10">
        <![CDATA[
			DELETE 
			FROM   	TBDQ_EXT_EXAM 
			WHERE	RACER_PERIO_NO		= ?
			AND		DT					= ?
			AND		CAND_NO				= ?
			AND		SEQ					= ?			
		]]>
    </query>      

    
</queryMap>