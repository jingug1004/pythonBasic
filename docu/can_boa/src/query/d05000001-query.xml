<?xml version="1.0" encoding='EUC-KR'?>
<queryMap desc="tbdm_grp_cd(그룹코드)">
    <query id="tbdm_grp_cd_fm001" desc="그룹코드체크" fetchSize="10">
        <![CDATA[
			SELECT GRP_CD 
			FROM TBDM_GRP_CD
			WHERE GRP_CD = ?
        ]]>
    </query>

    <query id="tbdm_grp_cd_fm002" desc="그룹코드조회" fetchSize="10">
        <![CDATA[
			SELECT
			    '0' AS CHK
			    ,GRP_CD
			    , GRP_NM
			    , RMK
			    , DEL_YN
			    , INST_ID
			    , INST_DTM
			    , UPDT_ID
			    , UPDT_DTM
			FROM TBDM_GRP_CD
			WHERE DEL_YN = ?
			AND GRP_NM LIKE '%' || NVL(?, GRP_NM) || '%'
			ORDER BY GRP_CD
        ]]>
    </query>       
        
    <query id="tbdm_spec_cd_fm001" desc="상세코드체크" fetchSize="10">
        <![CDATA[
			SELECT CD FROM TBDM_SPEC_CD
			WHERE  GRP_CD = ?
			AND    CD = ?
        ]]>
    </query> 
    
    
    <query id="tbdm_spec_cd_fm002" desc="상세코드조회" fetchSize="10">
        <![CDATA[
			SELECT      /* tbdm_spec_cd_fm002 */
					    '0' AS CHK
					    ,A.GRP_CD
					    , A.CD
					    , A.CD_NM
					    , A.RMK
					    , A.DEL_YN
					    , A.INST_ID
					    , A.INST_DTM
					    , A.UPDT_ID
					    , A.UPDT_DTM 
					    , B.GRP_NM
					    , A.ORDR
			FROM 		TBDM_SPEC_CD A, TBDM_GRP_CD B
			WHERE 		A.GRP_CD = B.GRP_CD
			AND 		A.GRP_CD = ?
			ORDER BY 	A.GRP_CD,A.CD
        ]]>
    </query> 
    
    <query id="tbdm_grp_cd_im001" desc="그룹코드입력" fetchSize="10">
        <![CDATA[
			INSERT /* tbdm_grp_cd_im001 */
			       INTO TBDM_GRP_CD (
			      GRP_CD
			    , GRP_NM
			    , DEL_YN
			    , INST_ID
			    , INST_DTM
			    , UPDT_ID
			    , UPDT_DTM
				, RMK
			) VALUES (
			      ?             -- GRP_CD
			    , ?             -- GRP_NM
			    , ?             -- DEL_YN
			    , ?             -- INST_ID
			    , SYSDATE       -- INST_DTM
			    , ?             -- UPDT_ID
			    , SYSDATE		-- UPDT_DTM
				, ?				-- RMK
			)
        ]]>
    </query> 
    
    <query id="tbdm_grp_cd_um001" desc="그룹코드수정" fetchSize="10">
        <![CDATA[
			UPDATE /* tbdm_grp_cd_um001 */
			      TBDM_GRP_CD SET 
				  GRP_NM 	= ?
				, DEL_YN	= ? 
				, UPDT_ID 	= ?
				, UPDT_DTM	= SYSDATE
				, RMK		= ?
			WHERE GRP_CD = ?
        ]]>
    </query>    

    <query id="tbdm_grp_cd_dm001" desc="그룹코드삭제" fetchSize="10">
        <![CDATA[
			UPDATE TBDM_GRP_CD SET 
				  DEL_YN = ? 
				, UPDT_ID 	= ?
				, UPDT_DTM	= SYSDATE		
			WHERE GRP_CD = ?
        ]]>
    </query>  
    
    <query id="tbdm_spec_cd_im001" desc="상세코드입력" fetchSize="10">
        <![CDATA[
			INSERT INTO TBDM_SPEC_CD (
			      GRP_CD
			    , CD
			    , CD_NM
			    , DEL_YN
			    , INST_ID
			    , INST_DTM
			    , UPDT_ID
			    , UPDT_DTM
				, RMK
				, ORDR
			) VALUES (
			      ?             -- GRP_CD
			    , ?             -- CD
			    , ?             -- CD_NM
			    , ?             -- DEL_YN
			    , ?             -- INST_ID
			    , SYSDATE       -- INST_DTM
			    , ?             -- UPDT_ID
			    , SYSDATE       -- UPDT_DTM
				, ?             -- RMK
				, ?				-- ORDR
			)
        ]]>
    </query>        

    <query id="tbdm_spec_cd_um001" desc="상세코드수정" fetchSize="10">
        <![CDATA[
			UPDATE TBDM_SPEC_CD SET 
				  CD_NM 	= ?
				, DEL_YN	= ?
				, UPDT_ID 	= ?
				, UPDT_DTM	= SYSDATE
				, RMK		= ?
				, ORDR      = ?
			WHERE GRP_CD = ?
			AND   CD     = ?
        ]]>
    </query>       

    <query id="tbdm_spec_cd_dm001" desc="상세코드삭제" fetchSize="10">
        <![CDATA[
			DELETE FROM TBDM_SPEC_CD
			WHERE GRP_CD = ?
			AND   CD     = NVL(?, CD)
        ]]>
    </query>       
</queryMap>