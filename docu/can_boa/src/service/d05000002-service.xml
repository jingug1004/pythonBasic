<?xml version="1.0" encoding="EUC-KR"?>
<service name="d05000002" initial="SetResultKeys">
  <activity name="SetResultKeys" class="com.posdata.glue.miplatform.biz.activity.PosSetResultKeyList">  
    <property name="staticResultKeyFile" value="resultkey.properties" />
    <property name="resultKeyList" value="dsUserListValue|dsIdCheckValue|dsCountValue" />
    <transition name="success" value="EventRouter" />
  </activity>
  
  <activity name="EventRouter" 					class="com.posdata.glue.biz.activity.PosDefaultRouter">
    <transition name="searchUser"				value="searchUser" />
    <transition name="searchNewUser"			value="searchNewUser" />
    <transition name="saveUser"					value="saveUser" />           
    <transition name="success" 					value="end" />
  </activity>
 
  <!-- 사용자 조회 -->
  <activity name="searchUser" 					class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" 					value="end" />
    <property name="resultkey" 					value="dsUserListValue" />
    <property name="sqlkey" 					value="tbdm_user_fm001" />    
    <property name="param-count" 				value="2"    />
    <property name="param0"  					value="USER_NM"  />      
    <property name="param1"  					value="DEPT_NM"  />      
    <property name="dao"     					value="candao"   />
  </activity>
  
  <!--추가 사용자 ID 조회 -->
  <activity name="searchNewUser" 				class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" 					value="end" />
    <property name="resultkey" 					value="dsUserList" />
    <property name="sqlkey" 					value="tbdm_user_im002" />    
    <property name="dao"     					value="candao"   />
  </activity>
  
  <!-- 사용자 저장 -->
  <activity name="saveUser" class="snis.can_boa.system.d05000002.activity.SaveUser">
    <transition name="success" value="end" />      
  </activity>        
  
  <transaction-manager id="tx_can" commit="true" />
</service>