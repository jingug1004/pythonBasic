<?xml version="1.0" encoding="EUC-KR"?>
<service name="common" initial="SetResultKeys">
  <activity name="SetResultKeys" class="com.posdata.glue.miplatform.biz.activity.PosSetResultKeyList">  
    <property name="staticResultKeyFile" value="resultkey.properties" />
    <property name="resultKeyList" value="dsOutSysdate|dsEmp|dsPerioNo|dsPersonalMn|dsPersonalIdChk" />
    <transition name="success" value="EventRouter" />
  </activity>
  
  <activity name="EventRouter" class="com.posdata.glue.biz.activity.PosDefaultRouter">
    <transition name="searchCode"    		value="searchCode" />
    <transition name="searchSysdate" 		value="searchSysdate" />
    <transition name="SearchEmp"     		value="SearchEmp" />
    <transition name="searchPerioNo"     	value="searchPerioNo" />
    <transition name="saveAlarmHist"        value="saveAlarmHist" />        <!-- 알림이력 저장 -->
    <transition name="SearchPersonalMn" 	value="SearchPersonalMn" />		<!-- 개인정보처리메뉴 여부 조회 -->
    <transition name="SearchPersonalIdChk"	value="SearchPersonalIdChk" />	<!-- 개인정보처리메뉴 권한 조회 -->
    <transition name="success" value="end" />
  </activity>
  
  <!-- 코드 조회 -->
  <activity name="searchCode" class="snis.can_boa.common.util.SearchCode">
    <transition name="success" value="end" />
  </activity>
  
  <!-- System일시 조회 -->
  <activity name="searchSysdate" class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" value="end" />
    <property name="resultkey" value="dsOutSysdate" />
    <property name="sqlkey" value="common_sysdate" />
    <property name="param-count" value="1" />
    <property name="dao" value="candao" />
    <property name="param0" value="CUSTOM" />
  </activity>

  <!-- 사원 조회 -->
  <activity name="SearchEmp" class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success"   value="end" />
    <property name="resultkey"   value="dsEmp" />
    <property name="sqlkey"      value="common_search_emp" />
    <property name="param-count" value="2" />
    <property name="param0"      value="USER_ID" />
    <property name="param1"      value="USER_NM" />
    <property name="dao"         value="candao" />
  </activity>
  
  
  <!-- 알림이력 저장 -->
  <activity name="saveAlarmHist"            class="snis.can_boa.common.util.SaveAlarmHist">
    <transition name="success"              value="end" />
  </activity>
  
    <!-- 후보생 기수(전체포함) 조회 -->
  <activity name="searchPerioNo" class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success"   value="end" />
    <property name="resultkey"   value="dsPerioNo" />
    <property name="sqlkey"      value="cand_perio_no" />
    <property name="param-count" value="0" />
    <property name="dao"         value="candao" />
  </activity>
  
    <!-- 개인정보처리메뉴 조회 -->
  <activity name="SearchPersonalMn"			class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success"              value="end" />
    <property name="resultkey"              value="dsPersonalMn" />
    <property name="sqlkey"                 value="personal_mn" />
    <property name="param-count"            value="2" />
    <property name="param0"                 value="FORM_ID" />
    <property name="param1"                 value="FORM_ID" />
    <property name="dao"                    value="candao" /> 
  </activity>
  
  <!-- 개인정보처리메뉴 접근권한 조회 -->
  <activity name="SearchPersonalIdChk"		class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success"              value="end" />
    <property name="resultkey"              value="dsPersonalIdChk" />
    <property name="sqlkey"                 value="personal_id_chk" />
    <property name="param-count"            value="2" />
    <property name="param0"                 value="FORM_ID" />
    <property name="param1"                 value="USER_ID" />
    <property name="dao"                    value="candao" /> 
  </activity>
  
  <transaction-manager id="tx_can" commit="true" />
</service>

