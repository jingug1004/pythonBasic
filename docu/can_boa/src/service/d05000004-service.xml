<?xml version="1.0" encoding="EUC-KR"?>
<service name="d05000004" initial="SetResultKeys">
  <activity name="SetResultKeys" 			class="com.posdata.glue.miplatform.biz.activity.PosSetResultKeyList">  
    <property name="staticResultKeyFile" 	value="resultkey.properties" />
    <property name="resultKeyList" 			value="dsUserListValue|dsAuthListValue|dsAuthUser|dsUser" />
    <transition name="success" 				value="EventRouter" />
  </activity>
  
  <activity name="EventRouter" 				class="com.posdata.glue.biz.activity.PosDefaultRouter">
    <transition name="searchUserList"		value="searchUserList" />
    <transition name="searchUserMenu"		value="searchUserMenu" />                     
    <transition name="searchAuthUser"       value="searchAuthUser" /> <!-- 권한대상 목록   -->
    <transition name="searchAuthUserAll"    value="searchAuthUserAll" /> <!-- 권한대상 목록   -->
    <transition name="searchUser"           value="searchUser" />     <!-- 사용자 목록   -->
    <transition name="saveUserMenu"			value="saveUserMenu" />
    <transition name="saveAuthTrans"        value="saveAuthTrans" />  <!-- 권한이양 저장    -->
    <transition name="success" 				value="end" />
  </activity>

  <!-- searchUserList -->
  <activity name="searchUserList" 			class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" 				value="end" />
    <property name="resultkey" 				value="dsUserListValue" />
    <property name="sqlkey" 				value="tbdm_mn_auth_fm001" />
    <property name="param-count" 			value="1" />
    <property name="param0" 				value="USER_NM" />    
    <property name="dao" 					value="candao" />
  </activity>

  <!-- searchUserMenu -->
  <activity name="searchUserMenu" 			class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" 				value="end" />
    <property name="resultkey" 				value="dsAuthListValue" />
    <property name="sqlkey" 				value="d05000004_s01" />    
    <property name="param-count" 			value="3" />
    <property name="param0" 				value="USER_ID" />   
    <property name="param1" 				value="USER_ID" />   
    <property name="param2" 				value="STND_DT" />     
  	<property name="dao" 					value="candao" />
  </activity>  
  
  <!-- 권한대상 목록  -->
  <activity name="searchAuthUser"         	class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success"              value="end" />
    <property name="resultkey"              value="dsAuthUser" />
    <property name="sqlkey"                 value="d05000004_s03" />
    <property name="param-count"            value="1" />
    <property name="param0"                 value="USER_NM" />
    <property name="dao"                    value="candao" />
  </activity>  
 
  <!-- 권한대상 목록  -->
  <activity name="searchAuthUserAll"         	class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success"              value="end" />
    <property name="resultkey"              value="dsAuthUser" />
    <property name="sqlkey"                 value="d05000004_s05" />
    <property name="param-count"            value="1" />
    <property name="param0"                 value="USER_ID" />
    <property name="dao"                    value="candao" />
  </activity>  
 
  <!-- 사용자 목록 -->
  <activity name="searchUser"         		class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success"              value="end" />
    <property name="resultkey"              value="dsUser" />
    <property name="sqlkey"                 value="d05000004_s04" />
    <property name="param-count"            value="1" />
    <property name="param0"                 value="USER_NM" />
    <property name="dao"                    value="candao" />
  </activity>

  <!-- 권한이양 저장 -->
  <activity name="saveAuthTrans"            class="snis.can_boa.system.d05000004.activity.SaveAuthTrans">
    <transition name="success"              value="end" />
  </activity>
  
  <!-- saveUserMenu -->
  <activity name="saveUserMenu" 			class="snis.can_boa.system.d05000004.activity.SaveMenuAuth">
    <transition name="success" 				value="searchUserMenu" />    
  </activity>  
    
  <transaction-manager id="tx_can" commit="true" />
</service>