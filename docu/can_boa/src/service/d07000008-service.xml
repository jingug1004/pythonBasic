<?xml version="1.0" encoding="EUC-KR"?>
<service name="d07000008" initial="SetResultKeys">
  <activity name="SetResultKeys" 			class="com.posdata.glue.miplatform.biz.activity.PosSetResultKeyList">
    <property name="staticResultKeyFile" 	value="resultkey.properties" />
    <property name="resultKeyList" 			value="dsUsage|dsUsageSum" />
    <transition name="success" 				value="EventRouter" />
  </activity>
  
  <activity name="EventRouter" 				class="com.posdata.glue.biz.activity.PosDefaultRouter">
    <transition name="searchUsage"  		value="searchUsage" />
    <transition name="searchUsageSum"  		value="searchUsageSum" />
    <transition name="saveUsage"			value="saveUsage" />
    <transition name="success" 			   	value="end" />
  </activity>
   
  <!-- 조회 -->
  <activity name="searchUsage" 				class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" 				value="searchUsageSum" />
    <property name="resultkey" 				value="dsUsage" />
    <property name="sqlkey" 				value="d07000008_s01" />
    <property name="param-count" 			value="6" />
    <property name="param0" 				value="USE_DT" />
    <property name="param1" 				value="USE_DT" />
    <property name="param2" 				value="MBR_CD" />
    <property name="param3" 				value="EQUIP_TPE_CD" />
    <property name="param4" 				value="USE_DT" />
    <property name="param5" 				value="USE_DT" />
    <property name="dao" 					value="candao" />
  </activity> 
  
  <!-- 일별 합계 조회 -->
  <activity name="searchUsageSum" 				class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" 				value="end" />
    <property name="resultkey" 				value="dsUsageSum" />
    <property name="sqlkey" 				value="d07000008_s02" />
    <property name="param-count" 			value="2" />
    <property name="param0" 				value="EQUIP_TPE_CD" />
    <property name="param1" 				value="USE_DT" />
    <property name="dao" 					value="candao" />
  </activity> 
  
  <!-- 저장 -->
  <activity name="saveUsage" class="snis.can_boa.boatstd.d07000008.activity.SaveUsage">
    <transition name="success" value="searchUsage" />
  </activity>

  <transaction-manager id="tx_can" commit="true" />
</service>