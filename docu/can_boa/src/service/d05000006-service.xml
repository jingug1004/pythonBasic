<?xml version="1.0" encoding="EUC-KR"?>
<service name="d05000006" initial="SetResultKeys">
  <activity name="SetResultKeys" class="com.posdata.glue.miplatform.biz.activity.PosSetResultKeyList">  
    <property name="staticResultKeyFile" value="resultkey.properties" />
    <property name="resultKeyList" value="dsOutNextSeqNo|dsUploadFile|dsCnt" />
    <transition name="success" value="EventRouter" />
  </activity>
  
  <activity name="EventRouter" 			class="com.posdata.glue.biz.activity.PosDefaultRouter">
    <transition name="searchNextNo"		value="searchNextNo" />    
    <transition name="searchFile"       value="searchFile" />
    <transition name="saveBoard"       	value="saveBoard" />    
    <transition name="saveUpdate"       value="saveUpdate" />
    <transition name="saveReply"       	value="saveReply" />
    <transition name="deleteFile"       value="deleteFile" />
	<transition name="addCnt"       	value="addCnt" />
    <transition name="success" 			value="end" />
  </activity>

  
  <!-- 게시판 INSERT -->
  <activity name="saveBoard" class="snis.can_boa.system.d05000006.activity.SaveBoard">
    <transition name="success" value="end" />
  </activity>           

  <!-- 게시판 Update -->
  <activity name="saveUpdate" class="snis.can_boa.system.d05000006.activity.SaveBoard">
    <transition name="success" value="end" />
  </activity>    
  
  <!-- 게시판 Reply -->
  <activity name="saveReply" class="snis.can_boa.system.d05000006.activity.SaveBoard">
    <transition name="success" value="end" />
  </activity>    
  
  <!-- 파일 delete -->
  <activity name="deleteFile" class="snis.can_boa.system.d05000006.activity.SaveBoard">
    <transition name="success" value="end" />
  </activity>    
  
  
  <!-- 게시판 seqno가져오기 -->
  <activity name="searchNextNo" class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" value="end" />
    <property name="resultkey" value="dsOutNextSeqNo" />
    <property name="sqlkey" value="tbdm_bord_fm003" />
    <property name="dao" value="candao" />    
  </activity>
               
               
  <!-- 게시판 파일정보 가져오기  -->
  <activity name="searchFile" class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" value="end" />
    <property name="resultkey" value="dsUploadFile" />
    <property name="sqlkey" value="tbdm_bord_fm004" />
    <property name="dao" value="candao" />    
    <property name="param-count" value="2" />
    <property name="param0" value="CLS_CD" />
    <property name="param1" value="SEQ_NO" />    
  </activity>          
  
  <!-- 게시판 조회수 올리기  -->
  <activity name="addCnt" class="com.posdata.glue.miplatform.biz.activity.PosModify">
    <transition name="success" value="end" />
    <property name="resultkey" value="dsCnt" />
    <property name="sqlkey" value="tbdm_bord_cnt_ua001" />
    <property name="dao" value="candao" />    
    <property name="param-count" value="1" />
    <property name="param0" value="SEQ" />
    <property name="dataset-id" value="input" />
  </activity>
  
       
  <transaction-manager id="tx_can" commit="true" />
</service>