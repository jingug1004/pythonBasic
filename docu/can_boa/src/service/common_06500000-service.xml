<?xml version="1.0" encoding="EUC-KR"?>
<service name="common" initial="SetResultKeys">
  <activity name="SetResultKeys" class="com.posdata.glue.miplatform.biz.activity.PosSetResultKeyList">  
    <property name="staticResultKeyFile" value="resultkey.properties" />
    <property name="resultKeyList" value="dsDayNo|dsRound|dsTeam" />
    <transition name="success" value="EventRouter" />
  </activity>
  
  <activity name="EventRouter" class="com.posdata.glue.biz.activity.PosDefaultRouter">
    <transition name="searchDayNo"    value="searchDayNo" />
    <transition name="searchRound"    value="searchRound" />
    <transition name="searchTeam"     value="searchTeam" />
    <transition name="success" value="end" />
  </activity>
  
  <!-- 경주번호 조회 -->
  <activity name="searchDayNo" class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" value="end" />
    <property name="resultkey" value="dsDayNo" />
    <property name="sqlkey" value="common_06500000_dayno" />
    <property name="param-count" value="1" />
    <property name="dao" value="candao" />
    <property name="param0" value="RACER_PERIO_NO" />
  </activity>
  
  <!-- 라운드 조회 -->
  <activity name="searchRound" class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" value="end" />
    <property name="resultkey" value="dsRound" />
    <property name="sqlkey" value="common_06500000_round" />
    <property name="param-count" value="2" />
    <property name="dao" value="candao" />
    <property name="param0" value="RACER_PERIO_NO" />
    <property name="param1" value="DAY_NO" />
  </activity>
  
  <!-- 조 조회 -->
  <activity name="searchTeam" class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" value="end" />
    <property name="resultkey" value="dsTeam" />
    <property name="sqlkey" value="common_06500000_team" />
    <property name="param-count" value="3" />
    <property name="dao" value="candao" />
    <property name="param0" value="RACER_PERIO_NO" />
    <property name="param1" value="DAY_NO" />
    <property name="param2" value="ROUND" />
  </activity>
  
  <transaction-manager id="tx_can" commit="true" />
</service>

