<?xml version="1.0" encoding='EUC-KR'?>
<queryMap desc="tbee_main_account(계좌 거래내역 관리)">
    <query id="tbee_main_account_fe001" desc="조회" fetchSize="10">
        <![CDATA[
			SELECT	'0' CHK,
					TMA.MJR_BK_ACT,				--주계좌번호
					TMA.MJR_NM,					--성명
					TMA.BK_NM,					--은행명
					TMA.OPEN_DT,				--계좌개설일자
					TMA.FIRST_DT,				--최초거래일자
					TMA.MEMO,					--메모
					TMA.RMK,					--비고
					TMA.INST_ID,				--작성자ID
					TMA.INST_DTM				--작성일시
			FROM    TBEE_MAIN_ACCOUNT	TMA
			WHERE	(EXISTS	(
							SELECT	SEQ
							FROM	TBEE_MONEY_ACCOUNT	TMN
				            WHERE	TMA.MJR_BK_ACT = TMN.MJR_BK_ACT
				            AND		TMN.TR_DT >= ?
							AND		TMN.TR_DT <= ?)
					OR		? IS NULL AND ? IS NULL)
			AND		(TMA.MJR_NM LIKE ? || '%' OR ? IS NULL)
			AND		(TMA.MJR_BK_ACT LIKE ? || '%' OR ? IS NULL)
        ]]>
    </query>
    <query id="tbee_main_account_ie001" desc="저장" fetchSize="10">
        <![CDATA[
        	INSERT
				INTO TBEE_MAIN_ACCOUNT
				(	 
			        MJR_BK_ACT,					--주계좌번호
					MJR_NM,						--성명
					BK_NM,						--은행코드
					MEMO,						--메모
					RMK,						--비고
					INST_ID,					--작성자ID
					INST_DTM					--작성일시
				)
				VALUES
				(
					?,							--주계좌번호
					?,							--성명
					?,							--은행명
					?,							--메모
					?,							--비고
					?,							--작성자ID
					SYSDATE						--작성일시
				)
        ]]>
    </query> 
    <query id="tbee_main_account_ue001" desc="수정" fetchSize="10">
        <![CDATA[
			UPDATE	TBEE_MAIN_ACCOUNT SET
					MJR_NM		= ?,			--성명
					BK_NM		= ?,			--은행명
					MEMO		= ?,			--메모
					RMK			= ?,			--비고
					UPDT_ID		= ?,			--수정자ID
					UPDT_DTM	= SYSDATE		--수정일시
			WHERE	MJR_BK_ACT 	= ?				--주계좌번호
        ]]>
    </query> 
    <query id="tbee_main_account_de001" desc="저장" fetchSize="10">
        <![CDATA[
			DELETE	
			FROM	TBEE_MAIN_ACCOUNT
			WHERE	MJR_BK_ACT	= ?				--주계좌번호
        ]]>
    </query>  
</queryMap>