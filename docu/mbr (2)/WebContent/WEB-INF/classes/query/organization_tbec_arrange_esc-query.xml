<?xml version="1.0" encoding='EUC-KR'?>
<queryMap desc="tbeb_recd_arrange_esc_stnd(성적별주선제외기준)">
    <query id="tbec_arrange_esc_fb001" desc="삭제" fetchSize="10">
        <![CDATA[
			SELECT
			          TAE .RACER_NO
			        , TRT .STND_YEAR
			        , TRT .MBR_CD
			        , TRT .TMS
			        , TRDO.DAY_ORD
			FROM      TBEB_RACE_TMS     TRT
			        , TBEB_RACE_DAY_ORD TRDO
			        , TBEC_ARRANGE_ESC  TAE
			WHERE   TRT.STND_YEAR = TRDO.STND_YEAR
			AND     TRT.MBR_CD    = TRDO.MBR_CD
			AND     TRT.TMS       = TRDO.TMS
			AND     TRT.STR_DT    < TAE.END_DT
			AND     TRT.END_DT    > TAE.STR_DT
			AND     TRT.STND_YEAR = ?
			AND     TRT.MBR_CD    = ?
			AND     TRT.TMS BETWEEN ?
			                    AND ?
			AND     TAE.RSN_CD    = '001'
        ]]>
    </query> 
    <query id="tbec_arrange_esc_fb002" desc="삭제" fetchSize="10">
        <![CDATA[
			SELECT
			          TAE .RACER_NO
			        , TRT .STND_YEAR
			        , TRT .MBR_CD
			        , TRT .TMS
			        , TRDO.DAY_ORD
			FROM      TBEB_RACE_TMS     TRT
			        , TBEB_RACE_DAY_ORD TRDO
			        , TBEC_ARRANGE_ESC  TAE
			WHERE   TRT.STND_YEAR = TRDO.STND_YEAR
			AND     TRT.MBR_CD    = TRDO.MBR_CD
			AND     TRT.TMS       = TRDO.TMS
			AND     TRT.STR_DT    < TAE.END_DT
			AND     TRT.END_DT    > TAE.STR_DT
			AND     TRT.STND_YEAR = ?
			AND     TRT.MBR_CD    = ?
			AND     TRT.TMS BETWEEN ?
			                    AND ?
			AND     TAE.RSN_CD   IN ('002', '003', '004')
        ]]>
    </query> 
    <query id="tbec_arrange_esc_fb003" desc="삭제" fetchSize="10">
        <![CDATA[
			SELECT
			          TAE .RACER_NO
			        , TRT .STND_YEAR
			        , TRT .MBR_CD
			        , TRT .TMS
			        , TRDO.DAY_ORD
			FROM      TBEB_RACE_TMS     TRT
			        , TBEB_RACE_DAY_ORD TRDO
			        , TBEC_ARRANGE_ESC  TAE
			WHERE   TRT.STND_YEAR = TRDO.STND_YEAR
			AND     TRT.MBR_CD    = TRDO.MBR_CD
			AND     TRT.TMS       = TRDO.TMS
			AND     TRT.STR_DT    < TAE.END_DT
			AND     TRT.END_DT    > TAE.STR_DT
			AND     TRT.STND_YEAR = ?
			AND     TRT.MBR_CD    = ?
			AND     TRT.TMS BETWEEN ?
			                    AND ?
			AND     TAE.RSN_CD   IN ('201', '202', '203', '204', '205')

        ]]>
    </query> 
    <query id="tbec_arrange_esc_fb000" desc="삭제" fetchSize="10">
        <![CDATA[
			SELECT
			       NVL(MAX(SEQ), 0) + 1 SEQ 
			FROM   TBEC_ARRANGE_ESC
        ]]>
    </query> 
    <query id="tbec_arrange_esc_ib001" desc="저장" fetchSize="10">
        <![CDATA[
			INSERT INTO TBEC_ARRANGE_ESC
			(
			         RACER_NO    -- 선수등록번호
			       , SEQ         -- 일련번호    
			       , STR_DT      -- 시작일자    
			       , END_DT      -- 종료일자    
			       , RMK         -- 비고        
			       , RSN_CD      -- 사유코드    
			       , INST_ID     -- 작성자ID    
			       , INST_DTM    -- 작성일시    
			       , UPDT_ID     -- 수정자ID    
			       , UPDT_DTM    -- 수정일시    
			) VALUES (
			         ?            -- 선수등록번호
			       , ?            -- 일련번호    
			       , ?            -- 시작일자    
			       , ?            -- 종료일자    
			       , ?            -- 비고        
			       , ?            -- 사유코드    
			       , ?            -- 작성자ID    
			       , SYSDATE     -- 작성일시    
			       , ?           -- 수정자ID    
			       , SYSDATE     -- 수정일시    
			)
        ]]>
    </query> 
</queryMap>