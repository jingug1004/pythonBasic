<?xml version="1.0" encoding="EUC-KR"?>
<service name="e02040012" initial="SetResultKeys">
  <activity name="SetResultKeys" class="com.posdata.glue.miplatform.biz.activity.PosSetResultKeyList">  
    <property name="staticResultKeyFile" value="resultkey.properties" />
    <property name="resultKeyList" value="dsOutEquip|dsOutEquipList" />
    <transition name="success" value="EventRouter" />
  </activity>

  <activity name="EventRouter" class="com.posdata.glue.biz.activity.PosDefaultRouter">
    <transition name="searchMot"       value="searchMot" />
    <transition name="searchMotList"   value="searchMotList" />
    <transition name="searchBoat"      value="searchBoat" />
    <transition name="searchBoatList"  value="searchBoatList" />
    <transition name="success" value="end" />
  </activity>

  <!-- 해당 모터 조회 -->
  <activity name="searchMot" class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" value="end" />
    <property name="resultkey" value="dsOutEquip" />
    <property name="sqlkey" value="tbef_equip_fb001" />
    <property name="param-count" value="7" />
    <property name="dao" value="boadao" />
    <property name="param0" value="RACER_NO" />
    <property name="param1" value="NM_KOR" />

    <property name="param2" value="MBR_CD" />
    <property name="param3" value="STND_YEAR" />
    <property name="param4" value="TMS" />

    <property name="param5" value="MBR_CD" />
    <property name="param6" value="MOT_NO" />
  </activity>
  
  <!-- 해당 보트 조회 -->
  <activity name="searchBoat" class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" value="end" />
    <property name="resultkey" value="dsOutEquip" />
    <property name="sqlkey" value="tbef_equip_fb002" />
    <property name="param-count" value="7" />
    <property name="dao" value="boadao" />
    <property name="param0" value="RACER_NO" />
    <property name="param1" value="NM_KOR" />

    <property name="param2" value="MBR_CD" />
    <property name="param3" value="STND_YEAR" />
    <property name="param4" value="TMS" />

    <property name="param5" value="MBR_CD" />
    <property name="param6" value="BOAT_NO" />
  </activity>
  
  <!-- 예비 모터 조회 -->
  <activity name="searchMotList" class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" value="end" />
    <property name="resultkey" value="dsOutEquipList" />
    <property name="sqlkey" value="tbef_equip_lot_fb001" />
    <property name="param-count" value="9" />
    <property name="dao" value="boadao" />
    <property name="param0" value="AVG_RANK_SCR" />
    <property name="param1" value="MBR_CD" />
    <property name="param2" value="STND_YEAR" />
    <property name="param3" value="TMS" />
    <property name="param4" value="STND_YEAR" />
    <property name="param5" value="MBR_CD" />
    <property name="param6" value="TMS" />
    <property name="param7" value="MOT_NO" />
    <property name="param8" value="AVG_RANK_SCR" />
  </activity>
  
  <!-- 예비 보트 조회 -->
  <activity name="searchBoatList" class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" value="end" />
    <property name="resultkey" value="dsOutEquipList" />
    <property name="sqlkey" value="tbef_equip_lot_fb002" />
    <property name="param-count" value="9" />
    <property name="dao" value="boadao" />
    <property name="param0" value="AVG_RANK_SCR" />
    <property name="param1" value="MBR_CD" />
    <property name="param2" value="STND_YEAR" />
    <property name="param3" value="TMS" />
    <property name="param4" value="STND_YEAR" />
    <property name="param5" value="MBR_CD" />
    <property name="param6" value="TMS" />
    <property name="param7" value="BOAT_NO" />
    <property name="param8" value="AVG_RANK_SCR" />
  </activity>
  
  <transaction-manager id="tx_boa" commit="true" />
</service>

