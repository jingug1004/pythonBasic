<?xml version="1.0" encoding="EUC-KR"?>
<service name="e02050020" initial="SetResultKeys">
  <activity name="SetResultKeys" class="com.posdata.glue.miplatform.biz.activity.PosSetResultKeyList">  
    <property name="staticResultKeyFile" value="resultkey.properties" />
    <property name="resultKeyList" value="dsOutRace|dsOutVoil|dsOutVoilDesc|dsOutPayoff|dsOutRacePayoff|dsOutOrganAnal|dsOutRaceAnal" />
    <transition name="success" value="EventRouter" />
  </activity>

  <activity name="EventRouter" class="com.posdata.glue.biz.activity.PosDefaultRouter">
    <transition name="searchRace"				value="searchRace" />
    <transition name="searchVoil"				value="searchVoil" />
    <transition name="searchVoilDesc"			value="searchVoilDesc" />
    <transition name="searchPayoff"				value="searchPayoff" />
    <transition name="searchRacePayoff"			value="searchRacePayoff" />
    <transition name="searchOrganAnal"			value="searchOrganAnal" />
    <transition name="searchRaceAnal"			value="searchRaceAnal" />
    <transition name="saveOrganAnal"			value="saveOrganAnal" />
    <transition name="success" value="end" />
  </activity>

  <!-- 경주 운영현황 조회 -->
  <activity name="searchRace" class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" value="searchVoil" />
    <property name="resultkey" value="dsOutRace" />
    <property name="sqlkey" value="tbeb_organ_analysis_fb001" />
    <property name="param-count" value="3" />
    <property name="dao" value="boadao" />
    <property name="param0" value="STND_YEAR" />
    <property name="param1" value="MBR_CD" />
    <property name="param2" value="TMS" />
  </activity>
  
  <!-- 위반행위 조회 -->
  <activity name="searchVoil" class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" value="searchVoilDesc" />
    <property name="resultkey" value="dsOutVoil" />
    <property name="sqlkey" value="tbeb_organ_analysis_fb002" />
    <property name="param-count" value="39" />
    <property name="dao" value="boadao" />
    <property name="param0" value="TMS"/>
    <property name="param1" value="TMS"/>
    <property name="param2" value="TMS"/>
    <property name="param3" value="TMS"/>
    <property name="param4" value="TMS"/>
    <property name="param5" value="TMS"/>
    <property name="param6" value="TMS"/>
    <property name="param7" value="TMS"/>
    <property name="param8" value="TMS"/>
    <property name="param9" value="STND_YEAR"/>
    <property name="param10" value="MBR_CD"/>
    <property name="param11" value="TMS"/>
    <property name="param12" value="TMS"/>
    
    <property name="param13" value="TMS"/>
    <property name="param14" value="TMS"/>
    <property name="param15" value="TMS"/>
    <property name="param16" value="TMS"/>
    <property name="param17" value="TMS"/>
    <property name="param18" value="TMS"/>
    <property name="param19" value="TMS"/>
    <property name="param20" value="TMS"/>
    <property name="param21" value="TMS"/>
    <property name="param22" value="STND_YEAR"/>
    <property name="param23" value="MBR_CD"/>
    <property name="param24" value="TMS"/>
    <property name="param25" value="TMS"/>

    <property name="param26" value="TMS"/>
    <property name="param27" value="TMS"/>
    <property name="param28" value="TMS"/>
    <property name="param29" value="TMS"/>
    <property name="param30" value="TMS"/>
    <property name="param31" value="TMS"/>
    <property name="param32" value="TMS"/>
    <property name="param33" value="TMS"/>
    <property name="param34" value="TMS"/>
    <property name="param35" value="STND_YEAR"/>
    <property name="param36" value="MBR_CD"/>
    <property name="param37" value="TMS"/>
    <property name="param38" value="TMS"/>
  </activity>

  <!-- 위반행위 상세 조회 -->
  <activity name="searchVoilDesc" class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" value="searchPayoff" />
    <property name="resultkey" value="dsOutVoilDesc" />
    <property name="sqlkey" value="tbeb_organ_analysis_fb003" />
    <property name="param-count" value="6" />
    <property name="dao" value="boadao" />
    <property name="param0" value="STND_YEAR" />
    <property name="param1" value="MBR_CD" />
    <property name="param2" value="TMS" />
    <property name="param3" value="STND_YEAR" />
    <property name="param4" value="MBR_CD" />
    <property name="param5" value="TMS" />
  </activity>
    
  <!-- 배당율 조회 -->
  <activity name="searchPayoff" class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" value="searchRacePayoff" />
    <property name="resultkey" value="dsOutPayoff" />
    <property name="sqlkey" value="tbeb_organ_analysis_fb004" />
    <property name="param-count" value="4" />
    <property name="dao" value="boadao" />
    <property name="param0" value="STND_YEAR" />
    <property name="param1" value="MEET_CD" />
    <property name="param2" value="TMS" />
    <property name="param3" value="MBR_CD" />
  </activity>
  
  <!-- 경주별 배당율 조회 -->
  <activity name="searchRacePayoff" class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" value="searchOrganAnal" />
    <property name="resultkey" value="dsOutRacePayoff" />
    <property name="sqlkey" value="tbeb_organ_analysis_fb007" />
    <property name="param-count" value="4" />
    <property name="dao" value="boadao" />
    <property name="param0" value="STND_YEAR" />
    <property name="param1" value="MEET_CD" />
    <property name="param2" value="TMS" />
    <property name="param3" value="MBR_CD" />
  </activity>
  
  <!-- 편성결과 분석 조회 -->
  <activity name="searchOrganAnal" class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" value="searchRaceAnal" />
    <property name="resultkey" value="dsOutOrganAnal" />
    <property name="sqlkey" value="tbeb_organ_analysis_fb005" />
    <property name="param-count" value="3" />
    <property name="dao" value="boadao" />
    <property name="param0" value="STND_YEAR" />
    <property name="param1" value="MBR_CD" />
    <property name="param2" value="TMS" />
  </activity>
    
  <!-- 조편성 경주별 분석내용 조회 -->
  <activity name="searchRaceAnal" class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" value="end" />
    <property name="resultkey" value="dsOutRaceAnal" />
    <property name="sqlkey" value="tbeb_organ_analysis_fb006" />
    <property name="param-count" value="3" />
    <property name="dao" value="boadao" />
    <property name="param0" value="STND_YEAR" />
    <property name="param1" value="MBR_CD" />
    <property name="param2" value="TMS" />
  </activity>
    
  <!-- 편성결과 분석 등록 -->
  <activity name="saveOrganAnal" class="snis.boa.organization.e02050020.activity.SaveOrganAnal">
    <transition name="success" value="end" />
  </activity>

  <transaction-manager id="tx_boa" commit="true" />
</service>

