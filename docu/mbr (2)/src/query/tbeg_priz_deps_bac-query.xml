<?xml version="1.0" encoding='EUC-KR'?>
<queryMap desc="tbeg_priz_deps_bac 상금/수당 지급 제한기준  관리">
    <query id="tbeg_priz_deps_bac_ff001" desc="상금/수당 지급 제한기준 조회" fetchSize="50">
        <![CDATA[
            /* 상금/수당 지급 제한기준  조회  */
			SELECT 
			    ROWNUM AS NUM, -- 순번 
			    VC.STND_YEAR,   -- 기준년도 
			    VC.VOIL_CD, -- 위반 판정 코드 
			    PRIZ_AMT_RATE,   -- 성적 감율
			    ALLOW_AMT_RATE, -- 수당감율
			    DECODE(DESQUIL_YN, null, '0', 'N', '0', '1') AS DESQUIL_YN, -- 실격 코드 
			    RMK -- 비고 
			FROM TBEG_PRIZ_DEPS_BAC TPDB, (
			SELECT ? AS STND_YEAR,  CD AS  VOIL_CD   FROM TBEA_SPEC_CD WHERE GRP_CD='E00035'
			) VC
			WHERE VC.STND_YEAR = TPDB.STND_YEAR(+)
			AND VC.VOIL_CD = TPDB.VOIL_CD(+)
        ]]>
    </query> 
    <query id="tbeg_priz_deps_bac_if001" desc="상금/수당 지급 제한기준 등록" fetchSize="10">
        <![CDATA[
            /* 상금/수당 지급 제한기준 등록  */
			INSERT INTO TBEG_PRIZ_DEPS_BAC (
			   STND_YEAR, 	-- 기준년도 
			   VOIL_CD, 	-- 위반 판정 코드 
			   PRIZ_AMT_RATE, 	-- 성적 감율
			   ALLOW_AMT_RATE, 	-- 수당감율
			   DESQUIL_YN, 	-- 실격 여부 
			   RMK, 	-- 비고 
			   INST_ID, 	-- 작성자 
			   INST_DTM	-- 작성일시 
			) 
			VALUES ( 
				?, 	-- 기준년도 
				?, 	-- 위반판정코드 
				?,	-- 성적상금 지급율
			    ?, 	-- 수당 지급율
			    ?, 	-- 실격여부 
			    ?,	-- 비고 
			    ?, 	-- 작성자 
			    SYSDATE
			 )
        ]]>
    </query> 
    <query id="tbeg_priz_deps_bac_uf001" desc="상금/수당 지급 제한기준 수정" fetchSize="10">
        <![CDATA[
            /* 상금/수당 지급 제한기준 수정 */
			UPDATE TBEG_PRIZ_DEPS_BAC
			SET    
			       PRIZ_AMT_RATE   = ?,	-- 성적 감율
			       ALLOW_AMT_RATE = ?,	-- 수당감율
			       DESQUIL_YN     = ?,	-- 실격여부 
			       RMK            = ?,	-- 비고 
			       UPDT_ID        = ?,	-- 수정자  
			       UPDT_DTM       = SYSDATE	-- 수정일시 
			WHERE  STND_YEAR      = ?	-- 기준년도 
			AND    VOIL_CD        = ?	-- 위반 판정 코드 




			       
        ]]>
    </query> 
    
    <query id="tbeg_priz_deps_bac_df001" desc="상금/수당 지급 제한기준  삭제 " fetchSize="10">
        <![CDATA[
            /* 상금/수당 지급 제한기준 수정 */
			DELTE TBEG_RACE_RANK_AMT_BAC
			WHERE  STND_YEAR      = ?	-- 기준년도 
			AND    VOIL_CD        = ?	-- 위반 판정 코드 
        ]]>
    </query> 
   
</queryMap>