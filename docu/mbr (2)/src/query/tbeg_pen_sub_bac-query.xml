<?xml version="1.0" encoding='EUC-KR'?>
<queryMap desc="tbeg_pen_sub 기수별 연금보조금  관리">
    <query id="tbeg_pen_sub_ff001" desc="기수별 연금보조금 조회" fetchSize="50">
        <![CDATA[
            /* 기수별 연금보조금  조회  */
			SELECT 
			    COPY_T.STND_YEAR,   -- 기준년도 
			    COPY_T.RACER_PERIO_NO,  -- 선수기수 
			    PEN_SUB_AMT,    -- 연금보조금액
			    PEN_RMK     -- 비고 
			FROM TBEG_PEN_SUB_BAC TPS,
			(
			    -- 기수 구하기 
			     SELECT ? AS STND_YEAR, ROWNUM AS RACER_PERIO_NO FROM TBEF_EQUIP 
			     WHERE ROWNUM <=(SELECT MAX(RACER_PERIO_NO) FROM TBEC_RACER_MASTER)
			)COPY_T
			WHERE COPY_T.STND_YEAR = TPS.STND_YEAR(+)
			AND COPY_T.RACER_PERIO_NO = TPS.RACER_PERIO_NO(+)

			
        ]]>
    </query> 
    <query id="tbeg_pen_sub_if001" desc="기수별 연금보조금 등록" fetchSize="10">
        <![CDATA[
            /* 기수별 연금보조금 등록  */
			INSERT INTO TBEG_PEN_SUB_BAC (
			   STND_YEAR, 	-- 기준년도 
			   RACER_PERIO_NO, 	-- 선수 기수 
			   PEN_SUB_AMT, 	-- 연금보조금 
			   PEN_RMK, 	-- 비고 
			   INST_ID, 	-- 작성자 
			   INST_DTM		-- 작성일시 
			) 
			VALUES ( 
				?, 	-- 기준년도 
				?, 	-- 선수 기수 
				?,	-- 연금보조금 
			    ?, 	-- 비고 
			    ?, 	-- 작성자 
			    SYSDATE	-- 작성일시 
			)
        ]]>
    </query> 
    <query id="tbeg_pen_sub_uf001" desc="기수별 연금보조금 수정" fetchSize="10">
        <![CDATA[
            /* 기수별 연금보조금 수정 */
			UPDATE TBEG_PEN_SUB_BAC
				SET    PEN_SUB_AMT    = ?,
				       PEN_RMK        = ?,
				       UPDT_ID        = ?,
				       UPDT_DTM       = SYSDATE
				WHERE  STND_YEAR      = ?
				AND    RACER_PERIO_NO = ?
        ]]>
    </query> 
    
   
</queryMap>
