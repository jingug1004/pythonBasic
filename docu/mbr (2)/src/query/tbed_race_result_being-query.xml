<?xml version="1.0" encoding='EUC-KR'?>
<queryMap desc="tbed_race_result_being(경주성립현황조회)">
      
     <query id="tbed_race_result_being_fd001" desc="상세현황조회" fetchSize="10">
        <![CDATA[
			 SELECT    
			     A.TMS          TMS         
			    ,A.DAY_ORD      DAY_ORD     
			    ,DECODE(A.ST_MTHD_CD, '001', '(온)'||A.RACE_NO, A.RACE_NO)      RACE_NO  
			    ,A.RACE_STTS_CD RACE_STTS_CD 
			    ,(SELECT CD_NM FROM TBEA_SPEC_CD WHERE GRP_CD  ='E00036' AND CD = A.RACE_STTS_CD) RACE_STTS_NM  
			FROM TBEB_RACE A
			WHERE  A.STND_YEAR  = ? 
			  AND  A.MBR_CD     = ?    
			  AND  A.TMS BETWEEN 	? 	AND 	?
			ORDER BY   	A.STND_YEAR
				        ,A.MBR_CD
				        ,A.TMS
				        ,A.DAY_ORD
				        ,A.RACE_NO
				        ,A.RACE_STTS_CD
	    ]]>
    </query>
    
   <query id="tbed_race_result_being_fd002" desc="전체현황조회" fetchSize="10">
        <![CDATA[
			SELECT         
			     COUNT(*)       CNT   
			    ,SUM(DECODE(NVL(A.RACE_STTS_CD,'0'), '001', 1, 0))  RACE_STTS_001	--성립
			    ,SUM(DECODE(NVL(A.RACE_STTS_CD,'0'), '002', 1, 0))  RACE_STTS_002	--불성립
			    ,SUM(DECODE(NVL(A.RACE_STTS_CD,'0'), '003', 1, 0))  RACE_STTS_003	--취소
			    ,SUM(DECODE(NVL(A.RACE_STTS_CD,'0'), '004', 1, 0))  RACE_STTS_004	--재출발
			FROM TBEB_RACE A
			WHERE  A.STND_YEAR  = ?
			  AND  A.MBR_CD     = ?   
			  AND  A.TMS  BETWEEN  ? AND ?
	    ]]>
    </query>
    
    <query id="tbed_race_result_being_fd003" desc="회차별현황조회" fetchSize="10">
        <![CDATA[
			 
				 SELECT    
				     A.TMS          TMS         
				    ,COUNT(*)       CNT   
				    ,SUM(DECODE(NVL(A.RACE_STTS_CD,'0'), '001', 1, 0))  RACE_STTS_001	--성립
				    ,SUM(DECODE(NVL(A.RACE_STTS_CD,'0'), '002', 1, 0))  RACE_STTS_002	--불성립
				    ,SUM(DECODE(NVL(A.RACE_STTS_CD,'0'), '003', 1, 0))  RACE_STTS_003	--취소
				    ,SUM(DECODE(NVL(A.RACE_STTS_CD,'0'), '004', 1, 0))  RACE_STTS_004	--재출발
				FROM TBEB_RACE A
				WHERE  A.STND_YEAR  = ? 
				  AND  A.MBR_CD     = ?   
				  AND  A.TMS   BETWEEN 	? AND  ?
				  GROUP BY A.TMS
				 ORDER BY  A.TMS 
	    ]]>
    </query>
    
   <query id="tbed_race_result_being_fd004" desc="일차별현황조회" fetchSize="10">
        <![CDATA[
			 	
			 	 SELECT    
				     A.DAY_ORD      DAY_ORD         
				    ,COUNT(*)       CNT   
				    ,SUM(DECODE(NVL(A.RACE_STTS_CD,'0'), '001', 1, 0))  RACE_STTS_001	--성립
				    ,SUM(DECODE(NVL(A.RACE_STTS_CD,'0'), '002', 1, 0))  RACE_STTS_002	--불성립
				    ,SUM(DECODE(NVL(A.RACE_STTS_CD,'0'), '003', 1, 0))  RACE_STTS_003	--취소
				    ,SUM(DECODE(NVL(A.RACE_STTS_CD,'0'), '004', 1, 0))  RACE_STTS_004	--재출발
				FROM TBEB_RACE A
				WHERE  A.STND_YEAR  = ? 
				  AND  A.MBR_CD     = ?    
				  AND  A.TMS     BETWEEN ? AND ?
				  GROUP BY A.DAY_ORD
				ORDER BY  A.DAY_ORD
	    ]]>
    </query>
    
    <query id="tbed_race_result_being_fd005" desc="경주별현황조회" fetchSize="10">
        <![CDATA[
			 	
			 	SELECT    
				     A.RACE_NO      RACE_NO         
				    ,COUNT(*)       CNT   
				    ,SUM(DECODE(NVL(A.RACE_STTS_CD,'0'), '001', 1, 0))  RACE_STTS_001	--성립
				    ,SUM(DECODE(NVL(A.RACE_STTS_CD,'0'), '002', 1, 0))  RACE_STTS_002	--불성립
				    ,SUM(DECODE(NVL(A.RACE_STTS_CD,'0'), '003', 1, 0))  RACE_STTS_003	--취소
				    ,SUM(DECODE(NVL(A.RACE_STTS_CD,'0'), '004', 1, 0))  RACE_STTS_004	--재출발
				FROM TBEB_RACE A
				WHERE  A.STND_YEAR  = ?
				  AND  A.MBR_CD     = ?   
				  AND  A.TMS      BETWEEN ? AND ?
				  GROUP BY A.RACE_NO
				ORDER BY  A.RACE_NO
	    ]]>
    </query>
    
     <query id="tbed_race_result_being_fd006" desc="회차별현황조회" fetchSize="10">
        <![CDATA[
			 	
			 	 SELECT    
				     A.TMS          TMS         
				    ,COUNT(*)       CNT   
				    ,SUM(DECODE(NVL(A.RACE_STTS2_CD,'0'), '001', 1, 0))  RACE_STTS2_001	--재출발
				    ,SUM(DECODE(NVL(A.RACE_STTS2_CD,'0'), '002', 1, 0))  RACE_STTS2_002	--심의
				    ,SUM(DECODE(NVL(A.RACE_STTS2_CD,'0'), '003', 1, 0))  RACE_STTS2_003	--재출발시 심의
				FROM TBEB_RACE A
				WHERE  A.STND_YEAR  = ?
				  AND  A.MBR_CD     = ?
				  AND  A.TMS   BETWEEN ? AND  ?
				   AND A.RACE_STTS2_CD IS NOT NULL
				  GROUP BY A.TMS
				 ORDER BY  A.TMS
				 
	    ]]>
    </query>
    
     <query id="tbed_race_result_being_fd007" desc="회차별현황상세조회" fetchSize="10">
        <![CDATA[
			 	
			 	   SELECT  STND_YEAR
                        ,TMS
                        ,DAY_ORD
                        ,RACE_NO
                        ,(SELECT CD_NM FROM TBEA_SPEC_CD WHERE GRP_CD  ='E00125' AND CD = RACE_STTS2_CD) RACE_STTS2_NM 
                        ,RACE_STTS_DESC
                 FROM TBEB_RACE 
				WHERE  STND_YEAR  = ?
				  AND  MBR_CD     = ?
				  AND  TMS   BETWEEN ? AND  ?
                  AND  RACE_STTS2_CD IS NOT NULL
				 
	    ]]>
    </query>
</queryMap>