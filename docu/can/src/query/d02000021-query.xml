<?xml version="1.0" encoding='EUC-KR'?>
<queryMap desc="tbdb_grd_assign_mngr(경륜등급별배정)">

    <query id="tbdb_grd_assign_fb001" desc="대진표 코드" fetchSize="10">
        <![CDATA[			
			SELECT DISTINCT MAT_CD 
			FROM TBDB_GRD_ASSIGN
			ORDER BY MAT_CD		
		]]>
    </query> 	
    <query id="tbdb_grd_assign_fb002" desc="선발/진출코드" fetchSize="10">
    <![CDATA[	
		   SELECT ROWNUM AS NUM,MAT_CD
		   ,STLT_RACE_GRD_CD
		   ,ADV_RACE_GRD_CD
		--   ,(   SELECT CD_NM FROM TBDA_SPEC_CD
		--   		WHERE GRP_CD = 'D10042' AND CD = T1.STLT_RACE_GRD_CD 
		--	)AS STLT_RACE_GRD_CD
		--   ,(   SELECT CD_NM FROM TBDA_SPEC_CD
		--   		WHERE GRP_CD = 'D10042' AND CD = T1.ADV_RACE_GRD_CD
		--	)AS ADV_RACE_GRD_CD, 
		   ,STR_RANK, END_RANK, RACE_NO, 
		   EQU_RANK, EQU_RANK_NO, EQU_RANK2, EQU_RANK_NO2,0 AS CHK 
		   FROM TBDB_GRD_ASSIGN T1
		   WHERE
		   MAT_CD = ?
		   ORDER BY STLT_RACE_GRD_CD DESC
	]]>     
    </query> 
    <query id="tbdb_grd_assign_ib001" desc="경주등급별 배정 등록" fetchSize="10">
      <![CDATA[
			INSERT INTO  TBDB_GRD_ASSIGN(
			MAT_CD
			,STLT_RACE_GRD_CD
			,ADV_RACE_GRD_CD
			,STR_RANK
			,END_RANK
			,RACE_NO
			,EQU_RANK
			,EQU_RANK_NO
			,EQU_RANK2
			,EQU_RANK_NO2
			,INST_ID
			,INST_DATE
			)
			VALUES(
			?,?,?,?,?
			,?,?,?,?,?,?
			,SYSDATE
			)
			]]>
    </query> 
    <query id="tbdb_grd_assign_ub001" desc="경주등급별 배정 수정" fetchSize="10">
    	<![CDATA[	
	    	UPDATE  TBDB_GRD_ASSIGN
			SET 
				 STLT_RACE_GRD_CD = ?
				,ADV_RACE_GRD_CD = ?
				,STR_RANK = ?
				,END_RANK = ?
				,RACE_NO = ?
				,EQU_RANK = ?
				,EQU_RANK_NO = ?
				,EQU_RANK2 = ?
				,EQU_RANK_NO2 = ?
				,UPDT_ID = ?
				,UPDT_DATE = SYSDATE
			WHERE
				MAT_CD = ?
				AND STLT_RACE_GRD_CD = ?
				AND ADV_RACE_GRD_CD = ?
    	]]>
    </query> 
    <query id="tbdb_grd_assign_db001" desc="경주등급별 배정 삭제" fetchSize="10">
   	 <![CDATA[
			DELETE FROM TBDB_GRD_ASSIGN
			WHERE 
				MAT_CD = ?
				AND STLT_RACE_GRD_CD = ?
				AND ADV_RACE_GRD_CD = ?
   	 	]]>
    </query> 
</queryMap>