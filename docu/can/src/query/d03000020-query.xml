<?xml version="1.0" encoding='EUC-KR'?>
<queryMap desc="경륜교육훈련일지목록"> 
    			
    <query id="tbdb_trng_diary_list_fb001" desc="교육훈련일지 상태 목록 조회" fetchSize="10">
		<![CDATA[
			SELECT 
	   			DISTINCT(A.DT) AS DT
	   			,(CASE WHEN A.DT IN (SELECT DT FROM TBDB_TRNG_DIARY_MST WHERE RACER_PERIO_NO=? AND CFG_YN='N') THEN '작성' 
	    		WHEN A.DT IN (SELECT DT FROM TBDB_TRNG_DIARY_MST WHERE RACER_PERIO_NO=? AND CFG_YN='Y') THEN '마감'
	   			WHEN A.DT NOT IN (SELECT DT FROM TBDB_TRNG_DIARY_MST WHERE RACER_PERIO_NO=?) THEN '미작성' END) AS STATUS 
			FROM 
	   			TBDB_DETL_EDU_ASSIGN A
			WHERE 
	   			A.RACER_PERIO_NO=? 
			ORDER BY 
	   			A.DT
	    ]]>
    </query>    

    <query id="tbdb_trng_diary_list_fb002" desc="기수쿼리" fetchSize="10">
        <![CDATA[
			SELECT CD_NM AS RACER_PERIO_NO
			FROM TBDA_SPEC_CD	
			WHERE GRP_CD = 'A10001'
			ORDER BY CD DESC
		]]>
    </query> 
    
</queryMap>