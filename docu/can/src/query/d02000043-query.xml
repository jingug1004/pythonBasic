<?xml version="1.0" encoding='EUC-KR'?>
<queryMap desc="tbdb_rec_mesur_mngr(기록측정통계)">

    <query id="tbdb_rec_mesur_fb001" desc="기수 조회" fetchSize="10">
        <![CDATA[
			SELECT CD_NM AS RACER_PERIO_NO
			FROM TBDA_SPEC_CD	
			WHERE GRP_CD = 'A10001'
			ORDER BY CD DESC		 	
		]]>
    </query>
        
    <query id="tbdb_rec_mesur_fb002" desc="기록측정통계 조회" fetchSize="10">
        <![CDATA[
			SELECT 
				A2.*
				,'' AS ITEM_CD
				,'003' AS ITEM_GBN_CD
				,?  AS EXAM_CD
				, RANK() OVER(ORDER BY TOT_SCR DESC ) AS RANK 
			FROM
			(
				SELECT 
					A1.NM_KOR
					,A1.RACER_PERIO_NO
					,A1.CAND_NO
					,A1.REC_200
					,A1.SCR_200
					,A1.REC_333
					,A1.SCR_333
					,A1.REC_500
					,A1.SCR_500
					,A1.REC_1000
					,A1.SCR_1000
					,A1.REC_2000
					,A1.SCR_2000
					,SUM(SCR_200+SCR_333+SCR_500+SCR_1000+SCR_2000) AS TOT_SCR
				FROM
				(	
					SELECT 	
							A.NM_KOR AS NM_KOR
							,A.RACER_PERIO_NO AS RACER_PERIO_NO 
							,A.CAND_NO
							,(	SELECT	MAX(DECODE(C.ITEM_CD,'301', C.REC,''))
								FROM	TBDB_PERIO_EXAM C 
								WHERE 	C.RACER_PERIO_NO = A.RACER_PERIO_NO
								AND		C.CAND_NO = A.CAND_NO 
								AND		C.ITEM_GBN_CD = '003'
								AND	    C.EXAM_CD = NVL(?, C.EXAM_CD)
							) AS REC_200
							,(	SELECT	NVL(MAX(DECODE(C.ITEM_CD,'301', C.SCR,'')),0) 
								FROM	TBDB_PERIO_EXAM C 
								WHERE 	C.RACER_PERIO_NO = A.RACER_PERIO_NO
								AND		C.CAND_NO = A.CAND_NO 
								AND		C.ITEM_GBN_CD = '003'
								AND	    C.EXAM_CD = NVL(?, C.EXAM_CD)
							) AS SCR_200
							,(	SELECT	MAX(DECODE(C.ITEM_CD,'302', C.REC,''))
								FROM	TBDB_PERIO_EXAM C 
								WHERE 	C.RACER_PERIO_NO = A.RACER_PERIO_NO
								AND		C.CAND_NO = A.CAND_NO 
								AND		C.ITEM_GBN_CD = '003'
								AND	    C.EXAM_CD = NVL(?, C.EXAM_CD)
							) AS REC_333
							,(	SELECT	NVL(MAX(DECODE(C.ITEM_CD,'302', C.SCR,'')),0) 
								FROM	TBDB_PERIO_EXAM C 
								WHERE 	C.RACER_PERIO_NO = A.RACER_PERIO_NO
								AND		C.CAND_NO = A.CAND_NO 
								AND		C.ITEM_GBN_CD = '003'
								AND	    C.EXAM_CD = NVL(?, C.EXAM_CD)
							) AS SCR_333
							,(	SELECT	MAX(DECODE(C.ITEM_CD,'303', C.REC,''))
								FROM	TBDB_PERIO_EXAM C 
								WHERE 	C.RACER_PERIO_NO = A.RACER_PERIO_NO
								AND		C.CAND_NO = A.CAND_NO 
								AND		C.ITEM_GBN_CD = '003'
								AND	    C.EXAM_CD = NVL(?, C.EXAM_CD)
							) AS REC_500
							,(	SELECT	NVL(MAX(DECODE(C.ITEM_CD,'303', C.SCR,'')),0) 
								FROM	TBDB_PERIO_EXAM C 
								WHERE 	C.RACER_PERIO_NO = A.RACER_PERIO_NO
								AND		C.CAND_NO = A.CAND_NO 
								AND		C.ITEM_GBN_CD = '003'
								AND	    C.EXAM_CD = NVL(?, C.EXAM_CD)
							) AS SCR_500
							,(	SELECT	MAX(DECODE(C.ITEM_CD,'304', C.REC,''))
								FROM	TBDB_PERIO_EXAM C 
								WHERE 	C.RACER_PERIO_NO = A.RACER_PERIO_NO
								AND		C.CAND_NO = A.CAND_NO 
								AND		C.ITEM_GBN_CD = '003'
								AND	    C.EXAM_CD = NVL(?, C.EXAM_CD)
							) AS REC_1000
							,(	SELECT	NVL(MAX(DECODE(C.ITEM_CD,'304', C.SCR,'')),0) 
								FROM	TBDB_PERIO_EXAM C 
								WHERE 	C.RACER_PERIO_NO = A.RACER_PERIO_NO
								AND		C.CAND_NO = A.CAND_NO 
								AND		C.ITEM_GBN_CD = '003'
								AND	    C.EXAM_CD = NVL(?, C.EXAM_CD)
							) AS SCR_1000
							,(	SELECT	MAX(DECODE(C.ITEM_CD,'305', C.REC,''))
								FROM	TBDB_PERIO_EXAM C 
								WHERE 	C.RACER_PERIO_NO = A.RACER_PERIO_NO
								AND		C.CAND_NO = A.CAND_NO 
								AND		C.ITEM_GBN_CD = '003'
								AND	    C.EXAM_CD = NVL(?, C.EXAM_CD)
							) AS REC_2000
							,(	SELECT	NVL(MAX(DECODE(C.ITEM_CD,'305', C.SCR,'')),0) 
								FROM	TBDB_PERIO_EXAM C 
								WHERE 	C.RACER_PERIO_NO = A.RACER_PERIO_NO
								AND		C.CAND_NO = A.CAND_NO 
								AND		C.ITEM_GBN_CD = '003'
								AND	    C.EXAM_CD = NVL(?, C.EXAM_CD)
							) AS SCR_2000
					FROM	TBDB_CAND_IDENT A, TBDB_PERIO_EXAM B
					WHERE	A.RACER_PERIO_NO = B.RACER_PERIO_NO(+)
					AND		A.CAND_NO = B.CAND_NO(+)
					AND		A.DEL_YN = 'N'
					AND		A.GRDU_GBN NOT IN('004','005')
					AND		A.RACER_PERIO_NO = NVL(?, A.RACER_PERIO_NO)
					GROUP BY A.RACER_PERIO_NO,A.CAND_NO,A.NM_KOR
				)A1
				GROUP BY A1.NM_KOR,A1.RACER_PERIO_NO,A1.CAND_NO
						 ,A1.REC_200,A1.SCR_200,A1.REC_333,A1.SCR_333,A1.REC_500,A1.SCR_500
						 ,A1.REC_1000,A1.SCR_1000,A1.REC_2000,A1.SCR_2000
			)A2
			ORDER BY RANK, CAND_NO				 			 
	    ]]>
    </query>
        
    <query id="tbdb_rec_mesur_fb003" desc="회차별 비교 조회" fetchSize="10">
        <![CDATA[
			SELECT 
				A2.*
				,'' AS ITEM_CD
				,'003' AS ITEM_GBN_CD
			FROM
			(
				SELECT 
					A1.NM_KOR
					,A1.RACER_PERIO_NO
					,A1.CAND_NO
					,A1.BOF_REC_200
					,A1.CUR_REC_200
					,A1.BOF_REC_333
					,A1.CUR_REC_333					
					,A1.BOF_REC_500
					,A1.CUR_REC_500
					,A1.BOF_REC_1000
					,A1.CUR_REC_1000
					,A1.BOF_REC_2000
					,A1.CUR_REC_2000
					,concat((substr( (to_timestamp(A1.CUR_REC_200, 'missff') - to_timestamp(A1.BOF_REC_200, 'missff')), 0,  1 )),
			  				(substr( (to_timestamp(A1.CUR_REC_200, 'missff') - to_timestamp(A1.BOF_REC_200, 'missff')), 15, 8 ))) AS COMP_REC_200
			  		,concat((substr( (to_timestamp(A1.CUR_REC_333, 'missff') - to_timestamp(A1.BOF_REC_333, 'missff')), 0,  1 )),
			  				(substr( (to_timestamp(A1.CUR_REC_333, 'missff') - to_timestamp(A1.BOF_REC_333, 'missff')), 15, 8 ))) AS COMP_REC_333		
			  		,concat((substr( (to_timestamp(A1.CUR_REC_500, 'missff') - to_timestamp(A1.BOF_REC_500, 'missff')), 0,  1 )),
			  				(substr( (to_timestamp(A1.CUR_REC_500, 'missff') - to_timestamp(A1.BOF_REC_500, 'missff')), 15, 8 ))) AS COMP_REC_500		
					,concat((substr( (to_timestamp(A1.CUR_REC_1000, 'missff') - to_timestamp(A1.BOF_REC_1000, 'missff')), 0,  1 )),
			  				(substr( (to_timestamp(A1.CUR_REC_1000, 'missff') - to_timestamp(A1.BOF_REC_1000, 'missff')), 15, 8 ))) AS COMP_REC_1000
			  		,concat((substr( (to_timestamp(A1.CUR_REC_2000, 'missff') - to_timestamp(A1.BOF_REC_2000, 'missff')), 0,  1 )),
			  				(substr( (to_timestamp(A1.CUR_REC_2000, 'missff') - to_timestamp(A1.BOF_REC_2000, 'missff')), 15, 8 ))) AS COMP_REC_2000		
				FROM
				(	
					SELECT 	
							A.NM_KOR AS NM_KOR
							,A.RACER_PERIO_NO AS RACER_PERIO_NO 
							,A.CAND_NO
							,(	SELECT	MAX(DECODE(C.ITEM_CD,'301', C.REC,''))
								FROM	TBDB_PERIO_EXAM C 
								WHERE 	C.RACER_PERIO_NO = A.RACER_PERIO_NO
								AND		C.CAND_NO = A.CAND_NO 
								AND		C.ITEM_GBN_CD = '003'
								AND	    C.EXAM_CD = NVL(?, C.EXAM_CD)
							) AS BOF_REC_200
							,(	SELECT	MAX(DECODE(C.ITEM_CD,'301', C.REC,'')) 
								FROM	TBDB_PERIO_EXAM C 
								WHERE 	C.RACER_PERIO_NO = A.RACER_PERIO_NO
								AND		C.CAND_NO = A.CAND_NO 
								AND		C.ITEM_GBN_CD = '003'
								AND	    C.EXAM_CD = NVL(?, C.EXAM_CD)
							) AS CUR_REC_200
							,(	SELECT	MAX(DECODE(C.ITEM_CD,'302', C.REC,''))
								FROM	TBDB_PERIO_EXAM C 
								WHERE 	C.RACER_PERIO_NO = A.RACER_PERIO_NO
								AND		C.CAND_NO = A.CAND_NO 
								AND		C.ITEM_GBN_CD = '003'
								AND	    C.EXAM_CD = NVL(?, C.EXAM_CD)
							) AS BOF_REC_333
							,(	SELECT	MAX(DECODE(C.ITEM_CD,'302', C.REC,'')) 
								FROM	TBDB_PERIO_EXAM C 
								WHERE 	C.RACER_PERIO_NO = A.RACER_PERIO_NO
								AND		C.CAND_NO = A.CAND_NO 
								AND		C.ITEM_GBN_CD = '003'
								AND	    C.EXAM_CD = NVL(?, C.EXAM_CD)
							) AS CUR_REC_333
							,(	SELECT	MAX(DECODE(C.ITEM_CD,'303', C.REC,''))
								FROM	TBDB_PERIO_EXAM C 
								WHERE 	C.RACER_PERIO_NO = A.RACER_PERIO_NO
								AND		C.CAND_NO = A.CAND_NO 
								AND		C.ITEM_GBN_CD = '003'
								AND	    C.EXAM_CD = NVL(?, C.EXAM_CD)
							) AS BOF_REC_500
							,(	SELECT	MAX(DECODE(C.ITEM_CD,'303', C.REC,'')) 
								FROM	TBDB_PERIO_EXAM C 
								WHERE 	C.RACER_PERIO_NO = A.RACER_PERIO_NO
								AND		C.CAND_NO = A.CAND_NO 
								AND		C.ITEM_GBN_CD = '003'
								AND	    C.EXAM_CD = NVL(?, C.EXAM_CD)
							) AS CUR_REC_500
							,(	SELECT	MAX(DECODE(C.ITEM_CD,'304', C.REC,''))
								FROM	TBDB_PERIO_EXAM C 
								WHERE 	C.RACER_PERIO_NO = A.RACER_PERIO_NO
								AND		C.CAND_NO = A.CAND_NO 
								AND		C.ITEM_GBN_CD = '003'
								AND	    C.EXAM_CD = NVL(?, C.EXAM_CD)
							) AS BOF_REC_1000
							,(	SELECT	MAX(DECODE(C.ITEM_CD,'304', C.REC,'')) 
								FROM	TBDB_PERIO_EXAM C 
								WHERE 	C.RACER_PERIO_NO = A.RACER_PERIO_NO
								AND		C.CAND_NO = A.CAND_NO 
								AND		C.ITEM_GBN_CD = '003'
								AND	    C.EXAM_CD = NVL(?, C.EXAM_CD)
							) AS CUR_REC_1000
							,(	SELECT	MAX(DECODE(C.ITEM_CD,'305', C.REC,''))
								FROM	TBDB_PERIO_EXAM C 
								WHERE 	C.RACER_PERIO_NO = A.RACER_PERIO_NO
								AND		C.CAND_NO = A.CAND_NO 
								AND		C.ITEM_GBN_CD = '003'
								AND	    C.EXAM_CD = NVL(?, C.EXAM_CD)
							) AS BOF_REC_2000
							,(	SELECT	MAX(DECODE(C.ITEM_CD,'305', C.REC,'')) 
								FROM	TBDB_PERIO_EXAM C 
								WHERE 	C.RACER_PERIO_NO = A.RACER_PERIO_NO
								AND		C.CAND_NO = A.CAND_NO 
								AND		C.ITEM_GBN_CD = '003'
								AND	    C.EXAM_CD = NVL(?, C.EXAM_CD)
							) AS CUR_REC_2000
					FROM	TBDB_CAND_IDENT A, TBDB_PERIO_EXAM B
					WHERE	A.RACER_PERIO_NO = B.RACER_PERIO_NO(+)
					AND		A.CAND_NO = B.CAND_NO(+)
					AND		A.DEL_YN = 'N'
					AND		A.GRDU_GBN NOT IN('004','005')
					AND		A.RACER_PERIO_NO = NVL(?, A.RACER_PERIO_NO)
					GROUP BY A.RACER_PERIO_NO,A.CAND_NO,A.NM_KOR
				)A1
				GROUP BY A1.NM_KOR,A1.RACER_PERIO_NO,A1.CAND_NO
						 , A1.BOF_REC_200, A1.CUR_REC_200, A1.BOF_REC_333, A1.CUR_REC_333, A1.BOF_REC_500, A1.CUR_REC_500
						 , A1.BOF_REC_1000, A1.CUR_REC_1000, A1.BOF_REC_2000, A1.CUR_REC_2000
			)A2
			ORDER BY CAND_NO								 
	    ]]>
    </query>S
    
    <query id="tbdb_rec_mesur_fb004" desc="종합 비교 조회" fetchSize="10">
        <![CDATA[
			SELECT 
					A1.RACER_PERIO_NO
					,A1.CAND_NO
					,A1.NM_KOR	
					,A1.ENT_REC_200
					,A1.FST_REC_200
					,A1.SND_REC_200
					,A1.TRD_REC_200
					,A1.END_REC_200
					,A1.ENT_REC_333
					,A1.FST_REC_333
					,A1.SND_REC_333
					,A1.TRD_REC_333
					,A1.END_REC_333
					,A1.ENT_REC_500
					,A1.FST_REC_500
					,A1.SND_REC_500
					,A1.TRD_REC_500
					,A1.END_REC_500
					,A1.ENT_REC_1000
					,A1.FST_REC_1000
					,A1.SND_REC_1000
					,A1.TRD_REC_1000
					,A1.END_REC_1000
					,A1.ENT_REC_2000
					,A1.FST_REC_2000
					,A1.SND_REC_2000
					,A1.TRD_REC_2000
					,A1.END_REC_2000
					,'' AS ITEM_CD
					,'' AS ITEM_GBN_CD
					,'' AS AVG_REC_200
					,'' AS AVG_REC_333
					,'' AS AVG_REC_500
					,'' AS AVG_REC_1000
					,'' AS AVG_REC_2000
			FROM
				(	
					SELECT 	
							A.RACER_PERIO_NO AS RACER_PERIO_NO 
							,A.CAND_NO
							,A.NM_KOR
							,(	SELECT	MAX(DECODE(C.ITEM_CD,'301', C.REC,''))
								FROM	TBDB_PERIO_EXAM C 
								WHERE 	C.RACER_PERIO_NO = A.RACER_PERIO_NO
								AND		C.CAND_NO = A.CAND_NO 
								AND		C.ITEM_GBN_CD = '003'
								AND	    C.EXAM_CD ='004'
							) AS ENT_REC_200
							,(	SELECT	MAX(DECODE(C.ITEM_CD,'301', C.REC,''))
								FROM	TBDB_PERIO_EXAM C 
								WHERE 	C.RACER_PERIO_NO = A.RACER_PERIO_NO
								AND		C.CAND_NO = A.CAND_NO 
								AND		C.ITEM_GBN_CD = '003'
								AND	    C.EXAM_CD = '013'
							) AS FST_REC_200
							,(	SELECT	MAX(DECODE(C.ITEM_CD,'301', C.REC,''))
								FROM	TBDB_PERIO_EXAM C 
								WHERE 	C.RACER_PERIO_NO = A.RACER_PERIO_NO
								AND		C.CAND_NO = A.CAND_NO 
								AND		C.ITEM_GBN_CD = '003'
								AND	    C.EXAM_CD = '014'
							) AS SND_REC_200
							,(	SELECT	MAX(DECODE(C.ITEM_CD,'301', C.REC,''))
								FROM	TBDB_PERIO_EXAM C 
								WHERE 	C.RACER_PERIO_NO = A.RACER_PERIO_NO
								AND		C.CAND_NO = A.CAND_NO 
								AND		C.ITEM_GBN_CD = '003'
								AND	    C.EXAM_CD = '015'
							) AS TRD_REC_200
							,(	SELECT	MAX(DECODE(C.ITEM_CD,'301', C.REC,''))
								FROM	TBDB_PERIO_EXAM C 
								WHERE 	C.RACER_PERIO_NO = A.RACER_PERIO_NO
								AND		C.CAND_NO = A.CAND_NO 
								AND		C.ITEM_GBN_CD = '003'
								AND	    C.EXAM_CD = '016'
							) AS END_REC_200
							,(	SELECT	MAX(DECODE(C.ITEM_CD,'302', C.REC,''))
								FROM	TBDB_PERIO_EXAM C 
								WHERE 	C.RACER_PERIO_NO = A.RACER_PERIO_NO
								AND		C.CAND_NO = A.CAND_NO 
								AND		C.ITEM_GBN_CD = '003'
								AND	    C.EXAM_CD ='004'
							) AS ENT_REC_333
							,(	SELECT	MAX(DECODE(C.ITEM_CD,'302', C.REC,''))
								FROM	TBDB_PERIO_EXAM C 
								WHERE 	C.RACER_PERIO_NO = A.RACER_PERIO_NO
								AND		C.CAND_NO = A.CAND_NO 
								AND		C.ITEM_GBN_CD = '003'
								AND	    C.EXAM_CD = '013'
							) AS FST_REC_333
							,(	SELECT	MAX(DECODE(C.ITEM_CD,'302', C.REC,''))
								FROM	TBDB_PERIO_EXAM C 
								WHERE 	C.RACER_PERIO_NO = A.RACER_PERIO_NO
								AND		C.CAND_NO = A.CAND_NO 
								AND		C.ITEM_GBN_CD = '003'
								AND	    C.EXAM_CD = '014'
							) AS SND_REC_333
							,(	SELECT	MAX(DECODE(C.ITEM_CD,'302', C.REC,''))
								FROM	TBDB_PERIO_EXAM C 
								WHERE 	C.RACER_PERIO_NO = A.RACER_PERIO_NO
								AND		C.CAND_NO = A.CAND_NO 
								AND		C.ITEM_GBN_CD = '003'
								AND	    C.EXAM_CD = '015'
							) AS TRD_REC_333
							,(	SELECT	MAX(DECODE(C.ITEM_CD,'302', C.REC,''))
								FROM	TBDB_PERIO_EXAM C 
								WHERE 	C.RACER_PERIO_NO = A.RACER_PERIO_NO
								AND		C.CAND_NO = A.CAND_NO 
								AND		C.ITEM_GBN_CD = '003'
								AND	    C.EXAM_CD ='016'
							) AS END_REC_333
							,(	SELECT	MAX(DECODE(C.ITEM_CD,'303', C.REC,''))
								FROM	TBDB_PERIO_EXAM C 
								WHERE 	C.RACER_PERIO_NO = A.RACER_PERIO_NO
								AND		C.CAND_NO = A.CAND_NO 
								AND		C.ITEM_GBN_CD = '003'
								AND	    C.EXAM_CD ='004'
							) AS ENT_REC_500
							,(	SELECT	MAX(DECODE(C.ITEM_CD,'303', C.REC,''))
								FROM	TBDB_PERIO_EXAM C 
								WHERE 	C.RACER_PERIO_NO = A.RACER_PERIO_NO
								AND		C.CAND_NO = A.CAND_NO 
								AND		C.ITEM_GBN_CD = '003'
								AND	    C.EXAM_CD = '013'
							) AS FST_REC_500
							,(	SELECT	MAX(DECODE(C.ITEM_CD,'303', C.REC,''))
								FROM	TBDB_PERIO_EXAM C 
								WHERE 	C.RACER_PERIO_NO = A.RACER_PERIO_NO
								AND		C.CAND_NO = A.CAND_NO 
								AND		C.ITEM_GBN_CD = '003'
								AND	    C.EXAM_CD = '014'
							) AS SND_REC_500
							,(	SELECT	MAX(DECODE(C.ITEM_CD,'303', C.REC,''))
								FROM	TBDB_PERIO_EXAM C 
								WHERE 	C.RACER_PERIO_NO = A.RACER_PERIO_NO
								AND		C.CAND_NO = A.CAND_NO 
								AND		C.ITEM_GBN_CD = '003'
								AND	    C.EXAM_CD = '015'
							) AS TRD_REC_500
							,(	SELECT	MAX(DECODE(C.ITEM_CD,'303', C.REC,''))
								FROM	TBDB_PERIO_EXAM C 
								WHERE 	C.RACER_PERIO_NO = A.RACER_PERIO_NO
								AND		C.CAND_NO = A.CAND_NO 
								AND		C.ITEM_GBN_CD = '003'
								AND	    C.EXAM_CD = '016'
							) AS END_REC_500
							,(	SELECT	MAX(DECODE(C.ITEM_CD,'304', C.REC,''))
								FROM	TBDB_PERIO_EXAM C 
								WHERE 	C.RACER_PERIO_NO = A.RACER_PERIO_NO
								AND		C.CAND_NO = A.CAND_NO 
								AND		C.ITEM_GBN_CD = '003'
								AND	    C.EXAM_CD = '004'
							) AS ENT_REC_1000
							,(	SELECT	MAX(DECODE(C.ITEM_CD,'304', C.REC,''))
								FROM	TBDB_PERIO_EXAM C 
								WHERE 	C.RACER_PERIO_NO = A.RACER_PERIO_NO
								AND		C.CAND_NO = A.CAND_NO 
								AND		C.ITEM_GBN_CD = '003'
								AND	    C.EXAM_CD = '013'
							) AS FST_REC_1000
							,(	SELECT	MAX(DECODE(C.ITEM_CD,'304', C.REC,''))
								FROM	TBDB_PERIO_EXAM C 
								WHERE 	C.RACER_PERIO_NO = A.RACER_PERIO_NO
								AND		C.CAND_NO = A.CAND_NO 
								AND		C.ITEM_GBN_CD = '003'
								AND	    C.EXAM_CD = '014'
							) AS SND_REC_1000
							,(	SELECT	MAX(DECODE(C.ITEM_CD,'304', C.REC,''))
								FROM	TBDB_PERIO_EXAM C 
								WHERE 	C.RACER_PERIO_NO = A.RACER_PERIO_NO
								AND		C.CAND_NO = A.CAND_NO 
								AND		C.ITEM_GBN_CD = '003'
								AND	    C.EXAM_CD = '015'
							) AS TRD_REC_1000
							,(	SELECT	MAX(DECODE(C.ITEM_CD,'304', C.REC,''))
								FROM	TBDB_PERIO_EXAM C 
								WHERE 	C.RACER_PERIO_NO = A.RACER_PERIO_NO
								AND		C.CAND_NO = A.CAND_NO 
								AND		C.ITEM_GBN_CD = '003'
								AND	    C.EXAM_CD = '016'
							) AS END_REC_1000
							,(	SELECT	MAX(DECODE(C.ITEM_CD,'305', C.REC,''))
								FROM	TBDB_PERIO_EXAM C 
								WHERE 	C.RACER_PERIO_NO = A.RACER_PERIO_NO
								AND		C.CAND_NO = A.CAND_NO 
								AND		C.ITEM_GBN_CD = '003'
								AND	    C.EXAM_CD = '004'
							) AS ENT_REC_2000
							,(	SELECT	MAX(DECODE(C.ITEM_CD,'305', C.REC,''))
								FROM	TBDB_PERIO_EXAM C 
								WHERE 	C.RACER_PERIO_NO = A.RACER_PERIO_NO
								AND		C.CAND_NO = A.CAND_NO 
								AND		C.ITEM_GBN_CD = '003'
								AND	    C.EXAM_CD = '013'
							) AS FST_REC_2000
							,(	SELECT	MAX(DECODE(C.ITEM_CD,'305', C.REC,''))
								FROM	TBDB_PERIO_EXAM C 
								WHERE 	C.RACER_PERIO_NO = A.RACER_PERIO_NO
								AND		C.CAND_NO = A.CAND_NO 
								AND		C.ITEM_GBN_CD = '003'
								AND	    C.EXAM_CD = '014'
							) AS SND_REC_2000
							,(	SELECT	MAX(DECODE(C.ITEM_CD,'305', C.REC,''))
								FROM	TBDB_PERIO_EXAM C 
								WHERE 	C.RACER_PERIO_NO = A.RACER_PERIO_NO
								AND		C.CAND_NO = A.CAND_NO 
								AND		C.ITEM_GBN_CD = '003'
								AND	    C.EXAM_CD = '015'
							) AS TRD_REC_2000
							,(	SELECT	MAX(DECODE(C.ITEM_CD,'305', C.REC,''))
								FROM	TBDB_PERIO_EXAM C 
								WHERE 	C.RACER_PERIO_NO = A.RACER_PERIO_NO
								AND		C.CAND_NO = A.CAND_NO 
								AND		C.ITEM_GBN_CD = '003'
								AND	    C.EXAM_CD = '016'
							) AS END_REC_2000
					FROM	TBDB_CAND_IDENT A, TBDB_PERIO_EXAM B
					WHERE	A.RACER_PERIO_NO = B.RACER_PERIO_NO(+)
					AND		A.DEL_YN = 'N'
					AND		A.GRDU_GBN NOT IN('004','005')
					AND		A.CAND_NO = B.CAND_NO(+)
					AND		A.RACER_PERIO_NO = NVL(?, A.RACER_PERIO_NO)
					GROUP BY A.RACER_PERIO_NO,A.CAND_NO,A.NM_KOR
			)A1
			GROUP BY A1.NM_KOR, A1.RACER_PERIO_NO, A1.CAND_NO
			 		 ,A1.ENT_REC_200 ,A1.FST_REC_200 ,A1.SND_REC_200 ,A1.TRD_REC_200 ,A1.END_REC_200
   		 		     ,A1.ENT_REC_333 ,A1.FST_REC_333 ,A1.SND_REC_333 ,A1.TRD_REC_333 ,A1.END_REC_333
					 ,A1.ENT_REC_500 ,A1.FST_REC_500 ,A1.SND_REC_500 ,A1.TRD_REC_500 ,A1.END_REC_500
					 ,A1.ENT_REC_1000 ,A1.FST_REC_1000 ,A1.SND_REC_1000 ,A1.TRD_REC_1000 ,A1.END_REC_1000
					 ,A1.ENT_REC_2000 ,A1.FST_REC_2000 ,A1.SND_REC_2000 ,A1.TRD_REC_2000 ,A1.END_REC_2000 
			ORDER BY CAND_NO								 
	    ]]>
    </query>
    
    <query id="tbdb_rec_mesur_fb005" desc="기록측정통계 회차콤보 조회" fetchSize="10">
        <![CDATA[
			SELECT 
			        TGC.GRP_CD      	-- 그룹코드
			      , TGC.GRP_NM      	-- 그룹명
			      , TSC.CD              -- 코드
			      , TSC.CD_NM       	-- 코드명
			      , TSC.RMK         	-- 비고
			FROM    TBDA_GRP_CD  TGC
			      , TBDA_SPEC_CD TSC
			WHERE TGC.GRP_CD = TSC.GRP_CD
			AND   TSC.DEL_YN = 'N'
			AND   TGC.GRP_CD = 'D10007'
			AND   TSC.CD IN ('004','005','006','007','008')		
		]]>
    </query>        
      
</queryMap>