<?xml version="1.0" encoding="EUC-KR"?>
<service name="d02000019" initial="SetResultKeys">
  <activity name="SetResultKeys" class="com.posdata.glue.miplatform.biz.activity.PosSetResultKeyList">  
    <property name="staticResultKeyFile" value="resultkey.properties" />
    <property name="resultKeyList" value="dsSearchPerioNo|dsPerioNoCount|dsAbsCount|dsDiaryMst|dsDiaryDetl|dsDiaryAbs|dsDiaryAbsReport|dsCfm" />
    <transition name="success" value="EventRouter" />
  </activity>
  
  <activity name="EventRouter" 				class="com.posdata.glue.biz.activity.PosDefaultRouter">
    <transition name="searchDiaryMst"      	value="searchDiaryMst" />  
    <transition name="searchDiaryMst1"      value="searchDiaryMst1" />  
    <transition name="searchDiaryDetl"     	value="searchDiaryDetl" />  
    <transition name="searchDiaryAbs"      	value="searchDiaryAbs" />          
    <transition name="searchPerioNo"        value="searchPerioNo" /> 
    <transition name="searchPerioNoCount"   value="searchPerioNoCount" />       
    <transition name="searchAbsCount"   	value="searchAbsCount" />   
    <transition name="searchAbsPrint"   	value="searchAbsPrint" />      
    <transition name="saveDiaryMst"    		value="saveDiaryMst" />
    <transition name="saveDiaryDetl"    	value="saveDiaryDetl" />
    <transition name="saveDiaryAbs"    		value="saveDiaryAbs" /> 
    <transition name="searchCfm"  		    value="searchCfm" />    
    <transition name="saveCfm"      		value="saveCfm" />           
    <transition name="success" 				value="end" />
  </activity>
  
  <!-- 교육훈련일지마스터 조회 -->
  <activity name="searchDiaryMst" 		    class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" 				value="end" />
    <property name="resultkey" 				value="dsDiaryMst" />
    <property name="sqlkey" 				value="tbdb_trng_diary_mst_fb001" />
    <property name="param-count" 			value="2" />
    <property name="param0" 				value="racerPerioNo" />
    <property name="param1" 				value="dt" /> 
    <property name="dao" 					value="candao" />    
  </activity> 
   <!-- 교육훈련일지마스터 조회new -->
  <activity name="searchDiaryMst1" 		    class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" 				value="searchDiaryDetl" />
    <property name="resultkey" 				value="dsDiaryMst" />
    <property name="sqlkey" 				value="tbdb_trng_diary_mst_fb000" />
    <property name="param-count" 			value="7" />
    <property name="param0" 				value="racerPerioNo" />
    <property name="param1" 				value="racerPerioNo" />
    <property name="param2" 				value="dt" /> 
    <property name="param3" 				value="racerPerioNo" />
    <property name="param4" 				value="dt" />
    <property name="param5" 				value="racerPerioNo" />
    <property name="param6" 				value="dt" />
    <property name="dao" 					value="candao" />    
  </activity>  
  <!-- 기수카운터 조회 설정 --> 
  <activity name="searchPerioNoCount"	    class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" 				value="searchAbsCount" />
    <property name="resultkey" 				value="dsPerioNoCount" />
    <property name="sqlkey" 				value="tbdb_trng_diary_mst_fb003" />
    <property name="param-count" 			value="1" />
    <property name="param0" 				value="racerPerioNo" />    
    <property name="dao" 					value="candao" />
  </activity> 
  
  <!-- 결원조회 설정 --> 
  <activity name="searchAbsCount"	    	class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" 				value="searchDiaryDetl" />
    <property name="resultkey" 				value="dsAbsCount" />
    <property name="sqlkey" 				value="tbdb_trng_diary_mst_fb004" />
    <property name="param-count" 			value="2" />
    <property name="param0" 				value="racerPerioNo" />
    <property name="param1" 				value="dt" />         
    <property name="dao" 					value="candao" />
  </activity>   
  
    <!-- 결원조회 (print) --> 
  <activity name="searchAbsPrint"	    	class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" 				value="searchCfm" />
    <property name="resultkey" 				value="dsDiaryAbsReport" />
    <property name="sqlkey" 				value="tbdb_trng_diary_abs_fb005" />
    <property name="param-count" 			value="2" />
    <property name="param0" 				value="racerPerioNo" />
    <property name="param1" 				value="dt" />         
    <property name="dao" 					value="candao" />
  </activity>   
  <!-- 교육훈련일지상세 조회 -->
  <activity name="searchDiaryDetl" 		    class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" 				value="searchAbsPrint" />
    <property name="resultkey" 				value="dsDiaryDetl" />
    <property name="sqlkey" 				value="tbdb_trng_diary_detl_fb001" />
    <property name="param-count" 			value="5" />
    <property name="param0" 				value="racerPerioNo" />
    <property name="param1" 				value="racerPerioNo" />
    <property name="param2" 				value="dt" /> 
    <property name="param3" 				value="racerPerioNo" />
    <property name="param4" 				value="dt" />     
    <property name="dao" 					value="candao" />    
  </activity>   
  
  <!-- 교육훈련일지결원 조회 -->
  <activity name="searchDiaryAbs" 		    class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" 				value="end" />
    <property name="resultkey" 				value="dsDiaryAbs" />
    <property name="sqlkey" 				value="tbdb_trng_diary_abs_fb001" />
    <property name="param-count" 			value="9" />
    <property name="param0" 				value="racerPerioNo" />
    <property name="param1" 				value="dt" /> 
    <property name="param2" 				value="seq" />  
    <property name="param3" 				value="racerPerioNo" />
    <property name="param4" 				value="dt" />     
    <property name="param5" 				value="racerPerioNo" />    
    <property name="param6" 				value="racerPerioNo" />
    <property name="param7" 				value="dt" /> 
    <property name="param8" 				value="seq" />     
    <property name="dao" 					value="candao" />    
  </activity>   
     
  <!-- 기수콤보 설정 --> 
  <activity name="searchPerioNo"	 	    class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" 				value="end" />
    <property name="resultkey" 				value="dsSearchPerioNo" />
    <property name="sqlkey" 				value="tbdb_trng_diary_mst_fb002" />
    <property name="param-count" 			value="0" />
    <property name="dao" 					value="candao" />
  </activity> 
 
  <!-- 교육훈련일지마스터 저장 --> 
  <activity name="saveDiaryMst" 		class="snis.can.cyclestd.d02000016.activity.SaveDayTrain">
    <transition name="success" 	        value="end" />
  </activity> 	
  
  <!-- 교육훈련일지상세 저장 --> 
  <activity name="saveDiaryDetl" 		class="snis.can.cyclestd.d02000016.activity.SaveDayTrain">
    <transition name="success" 	        value="end" />
  </activity> 	  
  
  <!-- 교육훈련일지결원 저장 --> 
  <activity name="saveDiaryAbs" 		class="snis.can.cyclestd.d02000016.activity.SaveDayTrain">
    <transition name="success" 	        value="end" />
  </activity> 	
    
  <!-- 확정 조회 --> 
  <activity name="searchCfm"	 			class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" 				value="end" />
    <property name="resultkey" 				value="dsCfm" />
    <property name="sqlkey" 				value="tbdb_trng_diary_fb005" />
    <property name="param-count" 			value="2" />
    <property name="param0" 				value="racerPerioNo" />
    <property name="param1" 				value="dt" />
    <property name="dao" 					value="candao" />
  </activity>
  
  <!-- 확정 저장 --> 
  <activity name="saveCfm" 		  		    class="snis.can.cyclestd.d02000016.activity.SaveCfm">
    <transition name="success" 	            value="end" />
  </activity>
  
  <transaction-manager id="tx_can" commit="true" />
</service>