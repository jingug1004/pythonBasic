<?xml version="1.0" encoding='EUC-KR'?>
<queryMap desc="tbda_user_mngr(User관리)">
     <query id="tbda_user_fa001" desc="USERLIST쿼리" fetchSize="10">
        <![CDATA[
			SELECT
			       A.USER_ID     -- 사용자ID         
			       , A.USER_NM     -- 사용자명         
			       , A.PSWD        -- 비밀번호
			       , B.MENU_USE	   -- 메뉴사용 여부         
			       , B.DUTY_GRP_CD -- 업무그룹코드     
			       , A.DEPT_CD     -- 부서코드
			       , A.DEPT_NM	   -- 부서이름
			       , A.TEAM_CD	   -- 팀코드
			       , A.TEAM_NM	   -- 팀이름
			       , A.FLOC		   -- 직위코드
			       , A.FGRADE	   -- 직위         
			       , A.TEL_NO      -- 전화번호         
			       , B.HP_NO       -- 휴대폰번호
			       , A.EMAIL	   -- 이메일       
			       , B.STR_DT      -- 유효기간 시작일자
			       , B.END_DT      -- 유효기간 종료일자
			       , B.INST_ID     -- 작성자ID         
			       , B.INST_DTM    -- 작성일시         
			       , B.UPDT_ID     -- 수정자ID         
			       , B.UPDT_DTM    -- 수정일시         
			FROM   TBRK_USER A, TBDA_USER B
			WHERE  A.USER_ID = B.USER_ID(+)
			AND    A.DEPT_CD LIKE '%'||'GA12'||'%'
			AND	   A.USER_NM LIKE NVL('%' || ? || '%', USER_NM)
			
        ]]>
    </query>     
    
	<query id="tbda_user_ia002" desc="userInsertQuery" fetchSize="10">
        <![CDATA[
		    INSERT INTO TBDA_USER (USER_ID)
			(
			   		SELECT USER_ID 
					FROM TBRK_USER	
					WHERE NOT EXISTS 
					( 
						SELECT USER_ID 
						FROM TBDA_USER
						WHERE TBRK_USER.USER_ID = TBDA_USER.USER_ID
					)
					AND	  TBRK_USER.DEPT_CD LIKE '%'||'GA12'||'%'
		    ) 
    	]]>
    </query>
    
    <query id="tbda_user_ia001" desc="userInsertQuery" fetchSize="10">
        <![CDATA[
			INSERT INTO TBDA_USER (
			      USER_ID
--			    , DUTY_GRP_CD
			    , HP_NO
			    , STR_DT
			    , END_DT
			    , INST_ID
			    , INST_DTM
			    , UPDT_ID
			    , UPDT_DTM
			    , MENU_USE)
			VALUES (
			      ?  	       -- USER_ID
--			    , ? 	       -- DUTY_GRP_CD
			    , ? 	       -- HP_NO
			    , ? 	       -- STR_DT
			    , ? 	       -- END_DT
			    , ? 	       -- INST_ID
			    , SYSDATE      -- INST_DTM
			    , ? 	       -- UPDT_ID
			    , SYSDATE      -- UPDT_DTM
			    , ?			   -- MENU_USE
			)
        ]]>
    </query>      
        
    	
    <query id="tbda_user_ua001" desc="userUpdateQuery" fetchSize="10">
        <![CDATA[
			UPDATE TBDA_USER SET
--			    DUTY_GRP_CD   = NVL(?, DUTY_GRP_CD)
			    HP_NO         = NVL(?, HP_NO)
			    , STR_DT      = ?
			    , END_DT      = ?
			    , MENU_USE    = NVL(?, MENU_USE)
			    , UPDT_ID     = ?
			    , UPDT_DTM    = SYSDATE
			WHERE USER_ID     = ?    
        ]]>
    </query>   
    
     <query id="tbda_user_fa002" desc="userSelectQuery" fetchSize="10">
        <![CDATA[
			SELECT 
				USER_ID 
			FROM TBDA_USER 
			WHERE USER_ID     = ?    
        ]]>
    </query>       
    
     <query id="tbda_user_da001" desc="userDeleteQuery" fetchSize="10">
        <![CDATA[
			DELETE FROM TBDA_USER
			WHERE USER_ID       = ?    
        ]]>
    </query>             
</queryMap>
