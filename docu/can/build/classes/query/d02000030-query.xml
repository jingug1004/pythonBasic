<?xml version="1.0" encoding='EUC-KR'?>
<queryMap desc="tbdb_strt_time_dist(선수등급별 고유점수)">
    <query id="tbdb_racer_grd_scr_fb001" desc="조회" fetchSize="10">
        <![CDATA[
	        SELECT	'0'	CHK,
	        		TRGS.RACE_YY, 
	        		TRGS.ROUND,
			        TRGS.GRD, 
			        TRGS.GRD_RANK, 
			        TRGS.PROP_SCR, 
			        TRGS.NF_SCR, 
			        TRGS.INST_ID, 
			        TRGS.INST_DTM, 
			        TRGS.UPDT_ID, 
			        TRGS.UPDT_DTM,
			        '' AS ROUND2
			FROM	TBDB_RACER_GRD_SCR	TRGS
			WHERE	TRGS.RACE_YY = ?
			AND		TRGS.ROUND = NVL(?,TRGS.ROUND)
			ORDER BY TRGS.ROUND DESC,GRD
		]]>
    </query>
    <query id="tbdb_racer_grd_scr_fb002" desc="회차조회" fetchSize="10">
    <![CDATA[
	    SELECT DISTINCT ROUND FROM TBDB_RACER_GRD_SCR WHERE RACE_YY = ? 
		UNION
		SELECT ROUND  FROM TBDB_DETL_RACE_SCHE WHERE RACE_YY = ? 
		ORDER BY ROUND DESC
		]]>
    </query>
    <query id="tbdb_racer_grd_scr_ib001" desc="등록" fetchSize="10">
        <![CDATA[
			INSERT 
				INTO TBDB_RACER_GRD_SCR
				(
					RACE_YY, 
					ROUND,
					GRD, 
					GRD_RANK, 
					PROP_SCR, 
					NF_SCR, 
					INST_ID, 
					INST_DTM
				)
				VALUES
				(
					?, 
					?,
					?, 
					?, 
					?, 
					?, 
					?, 
					SYSDATE
				)
		]]>
    </query>
    <query id="tbdb_racer_grd_scr_ub001" desc="수정" fetchSize="10">
        <![CDATA[
			UPDATE	TBDB_RACER_GRD_SCR
			SET		GRD_RANK	= ?, 
					PROP_SCR	= ?, 
					NF_SCR		= ?, 
					UPDT_ID		= ?, 
					UPDT_DTM	= SYSDATE
			WHERE	RACE_YY		= ? 
			AND		ROUND		= ?
			AND		GRD			= ? 
		]]>
    </query>
    <query id="tbdb_racer_grd_scr_db001" desc="삭제" fetchSize="10">
        <![CDATA[
			DELETE
			FROM	TBDB_RACER_GRD_SCR
			WHERE	RACE_YY		= ? 
			AND		ROUND		= ?
			AND		GRD			= ? 
		]]>
    </query>
</queryMap>