<?xml version="1.0" encoding="EUC-KR"?>
<service name="common" initial="SetResultKeys">
  <activity name="SetResultKeys" 			class="com.posdata.glue.miplatform.biz.activity.PosSetResultKeyList">  
    <property name="staticResultKeyFile"	value="resultkey.properties" />
    <property name="resultKeyList" 			value="dsOutUser|dsOutUserMn|dsLoginInfo" />
    <transition name="success" 				value="EventRouter" />
  </activity>
  
  <activity name="EventRouter" 				class="com.posdata.glue.biz.activity.PosDefaultRouter">
    <transition name="searchUser"    		value="searchUser" />
    <transition name="searchUserMn"  		value="searchUserMn" />
    <transition name="searchUserAuto"  		value="searchUserAuto" />
    <transition name="searchLoginInfo"  	value="searchLoginInfo" />
    <transition name="saveLogin"        	value="saveLogin" />
    <transition name="saveLoginPswdChk" 	value="saveLoginPswdChk" />
    <transition name="saveLoginPswdReset" 	value="saveLoginPswdReset" />    
	<transition name="savePersonalAccess"  	value="savePersonalAccess" />
	<transition name="SavePersonalMnAccess" value="SavePersonalMnAccess" />	<!-- 개인정보 처리메뉴 접속정보 저장 -->
    <transition name="success" 				value="end" />
  </activity>
  
  <!-- Login v회 -->
  <activity name="searchUser" 			class="snis.can.common.util.LoginSNIS">
    <transition name="success" 			value="end" />
  </activity>
  
  <activity name="searchUserMn" 		class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" 			value="end" />
    <property name="resultkey" 			value="dsOutUserMn" />
    <property name="sqlkey" 			value="tbda_nm_login" />
    <property name="param-count" 		value="3" />
    <property name="param0" 			value="USER_ID" />
    <property name="param1" 			value="USER_ID" />
    <property name="param2" 			value="USER_IP" />
	<property name="dao" 				value="candao" />
  </activity>
  
  <activity name="searchUserAuto" 		class="snis.can.common.util.LoginSNIS">
    <transition name="success" 			value="end" />
	<property name="resultkey" 			value="dsOutUser" />
    <property name="sqlkey" 			value="tbda_user_login_view" />
    <property name="param-count" 		value="2" />
    <property name="param0" 			value="USER_ID" />
    <property name="param1" 			value="AUTO_LOGIN" />
  	<property name="dao" 				value="candao" />
  </activity>
   <!--
  <activity name="searchUserAuto" 		class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" 			value="end" />
	<property name="resultkey" 			value="dsOutUser" />
    <property name="sqlkey" 			value="tbda_user_login_view" />
    <property name="param-count" 		value="1" />
    <property name="param0" 			value="USER_ID" />
  	<property name="dao" 				value="candao" />
  </activity>
  -->
  
  <activity name="searchLoginInfo" 		class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" 			value="end" />
    <property name="resultkey" 			value="dsLoginInfo" />
    <property name="sqlkey" 			value="tbda_get_login_info" />
    <property name="param-count" 		value="1" />
    <property name="param0" 			value="USER_ID" />
	<property name="dao" 				value="candao" />
  </activity>

  
  <!-- 濡�렇�멸린濡���� -->
  <activity name="saveLogin" 			class="snis.can.common.util.SaveLogin">
    <transition name="success" 				value="end" />
  </activity>

  <!-- 媛����낫 ��렐 湲곕� ��� -->
  <activity name="savePersonalAccess" 			class="snis.can.common.util.SavePersonalAccess">
    <transition name="success" 				value="end" />
  </activity>
	  
  <!-- 로그인 오류횟수 Check -->
  <activity name="saveLoginPswdChk" 	class="snis.can.common.util.SaveLoginPswdChk">
    <transition name="success" 			value="end" />
    <property name="param-count" 		value="2" />
    <property name="param0" 			value="PSWD_CHK" />
    <property name="param1" 			value="USER_ID" />
	<property name="dao" 				value="candao" />
  </activity> 
    
  <!-- 로그인 오류횟수/시간 초기화 -->
  <activity name="saveLoginPswdReset" 	class="snis.can.common.util.SaveLoginPswdReset">
    <transition name="success" 			value="end" />
	<property name="dao" 				value="candao" />
  </activity>
  	  
  <!-- 개인정보 처리메뉴 접속정보 저장 -->
  <activity name="SavePersonalMnAccess" class="snis.can.common.util.SavePersonalMnAccess">
    <transition name="success" 			value="end" />
	<property name="dao" 				value="rbmdao" />
  </activity> 
    	  
  <transaction-manager id="tx_can" commit="true" />
  
</service>

