<?xml version="1.0" encoding="EUC-KR"?>
<service name="d01000001" initial="SetResultKeys">
  <activity name="SetResultKeys" 			class="com.posdata.glue.miplatform.biz.activity.PosSetResultKeyList">  
    <property name="staticResultKeyFile" 	value="resultkey.properties" />
    <property name="resultKeyList" 			value="dsGrpCodeCheckValue|dsSpecCodeCheckValue|dsGrpCodeListValue|dsSpecCodeListValue" />
    <transition name="success" 				value="EventRouter" />
  </activity>
  
  <activity name="EventRouter" 				class="com.posdata.glue.biz.activity.PosDefaultRouter">
    <transition name="searchGrpCodeCheck"  	value="searchGrpCodeCheck" />    
    <transition name="searchSpecCodeCheck"  value="searchSpecCodeCheck" />
    <transition name="searchGrpCode"    	value="searchGrpCode" />
    <transition name="searchSpecCode"  	 	value="searchSpecCode" />
    <transition name="saveCode"   			value="saveCode" />    
    <transition name="success" 				value="end" />
  </activity>

  <!-- 그룹코드  체크 -->
  <activity name="searchGrpCodeCheck" 		class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" 				value="searchSpecCodeCheck" />
    <property name="resultkey" 				value="dsGrpCodeCheckValue" />
    <property name="sqlkey"					value="tbda_grp_cd_fa001" />
    <property name="param-count" 			value="1" />
    <property name="param0" 				value="GRP_CD" />
    <property name="dao" 					value="candao" />
  </activity>  

  <!-- 상세코드  체크 -->
  <activity name="searchSpecCodeCheck"	 	class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" 				value="end" />
    <property name="resultkey" 				value="dsSpecCodeCheckValue" />
    <property name="sqlkey" 				value="tbda_spec_cd_fa001" />
    <property name="param-count" 			value="2" />
    <property name="param0" 				value="GRP_CD" />
    <property name="param1" 				value="CD" />
    <property name="dao" 					value="candao" />
  </activity> 

  <!-- 그룹코드  조회 -->
  <activity name="searchGrpCode" 			class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" 				value="end" />
    <property name="resultkey" 				value="dsGrpCodeListValue" />
    <property name="sqlkey" 				value="tbda_grp_cd_fa002" />
    <property name="param-count" 			value="2" />
    <property name="param0" 				value="DEL_YN" />
    <property name="param1" 				value="GRP_NM" />
    <property name="dao" 					value="candao" />    
  </activity>
  
  <!-- 상세코드  조회 -->
  <activity name="searchSpecCode" 			class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" 				value="end" />
    <property name="resultkey" 				value="dsSpecCodeListValue" />
    <property name="sqlkey" 				value="tbda_spec_cd_fa002" />
    <property name="param-count" 			value="1" />
    <property name="param0" 				value="GRP_CD" />  
    <property name="dao" 					value="candao" />    
  </activity>
  
  <!-- 코드저장 -->
  <activity name="saveCode" 				class="snis.can.system.d01000001.activity.SaveCode">
    <transition name="success" 				value="end" />
  </activity>

	<transaction-manager id="tx_can" commit="true" />
</service>

