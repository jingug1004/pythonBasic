<?xml version="1.0" encoding="EUC-KR"?>
<service name="d02000010" initial="SetResultKeys">
  <activity name="SetResultKeys" class="com.posdata.glue.miplatform.biz.activity.PosSetResultKeyList">  
    <property name="staticResultKeyFile" value="resultkey.properties" />
    <property name="resultKeyList" value="dsItemCodeListValue|dsPrizCodeListValue|dsItemCodeCheckValue|dsPrizCodeCheckValue" />
    <transition name="success" value="EventRouter" />
  </activity>
  
  <activity name="EventRouter" 				class="com.posdata.glue.biz.activity.PosDefaultRouter">
    <transition name="searchItemCode"    	value="searchItemCode" />  
    <transition name="searchPrizCode"    	value="searchPrizCode" />  
    <transition name="searchItemCodeCheck"  value="searchItemCodeCheck" />  
    <transition name="searchPrizCodeCheck"  value="searchPrizCodeCheck" />
    <transition name="saveItemCode"  		value="saveItemCode" />
    <transition name="success" 				value="end" />
  </activity>

  <!-- 상벌조항 코드  체크 -->
  <activity name="searchItemCodeCheck" 		class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" 				value="end" />
    <property name="resultkey" 				value="dsItemCodeCheckValue" />
    <property name="sqlkey"					value="tbdb_item_cd_fb001" />
    <property name="param-count" 			value="1" />
    <property name="param0" 				value="ITEM_CD" />
    <property name="dao" 					value="candao" />
  </activity>  

  <!-- 상벌항목 코드  체크 -->
  <activity name="searchPrizCodeCheck"	 	class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" 				value="end" />
    <property name="resultkey" 				value="dsPrizCodeCheckValue" />
    <property name="sqlkey" 				value="tbdb_priz_penal_fb001" />
    <property name="param-count" 			value="2" />
    <property name="param0" 				value="ITEM_CD" />
    <property name="param1" 				value="PRIZ_PENAL_CD" />
    <property name="dao" 					value="candao" />
  </activity> 
  
  <!-- 상벌조항  조회 -->
  <activity name="searchItemCode" 			class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" 				value="end" />
    <property name="resultkey" 				value="dsItemCodeListValue" />
    <property name="sqlkey" 				value="tbdb_item_cd_fb002" />
    <property name="dao" 					value="candao" />    
  </activity>
  
  <!-- 상벌항목   조회 -->
  <activity name="searchPrizCode"			class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" 				value="end" />
    <property name="resultkey" 				value="dsPrizCodeListValue" />
    <property name="sqlkey" 				value="tbdb_priz_penal_fb002" />
    <property name="param-count" 			value="1" />
    <property name="param0" 				value="ITEM_CD" />  
    <property name="dao" 					value="candao" />    
  </activity>
  
  <!-- 코드저장 -->
  <activity name="saveItemCode"				class="snis.can.cyclestd.d02000010.activity.SaveItemCode">
    <transition name="success" 				value="end" />
  </activity>
    
  <transaction-manager id="tx_can" commit="true" />
</service>

