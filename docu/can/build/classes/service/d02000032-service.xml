<?xml version="1.0" encoding="EUC-KR"?>
<service name="d02000032" initial="SetResultKeys">
   <activity name="SetResultKeys"        class="com.posdata.glue.miplatform.biz.activity.PosSetResultKeyList">  
    <property name="staticResultKeyFile" value="resultkey.properties" />
    <property name="resultKeyList"       value="dsTbdbRaceRecMst|dsTbdbRaceRecDetl|dsTbdbViolAct|dsTbdbInduceDcsn|dsTitleSearch|dsKeyValueSearch|dsBasicScr|dsRacePrint" />
    <transition name="success"           value="EventRouter" />
  </activity>
  
  <activity name="EventRouter" 				 	class="com.posdata.glue.biz.activity.PosDefaultRouter">
    <transition name="searchTbdbRaceRecMst"  	value="searchTbdbRaceRecMst" />
    <transition name="searchTbdbRaceRecDetl" 	value="searchTbdbRaceRecDetl" />   
    <transition name="saveTbdbRaceRecMst"    	value="saveTbdbRaceRecMst" />
    <transition name="saveTbdbRaceRecDetl"   	value="saveTbdbRaceRecDetl" />       
    <transition name="searchTbdbViolAct_Now"    value="searchTbdbViolAct_Now" />   
    <transition name="saveTbdbViolAct"   	    value="saveTbdbViolAct" />   
    <transition name="searchTbdbInduceDcsn"     value="searchTbdbInduceDcsn" />    
    <transition name="searchTbdbRaceRecMst001"  value="searchTbdbRaceRecMst001" />   
    <transition name="searchTbdbRaceRecMst002"  value="searchTbdbRaceRecMst002" />  
    <transition name="saveTbdbInduceDcsn"       value="saveTbdbInduceDcsn" />   
    <transition name="searchBasicScr"           value="searchBasicScr" />  
    <transition name="saveTbdbRaceRacePoint"    value="saveTbdbRaceRacePoint" />   
    <transition name="searchBasicScr1"          value="searchBasicScr1" />   
    <transition name="searchBasicScr2"          value="searchBasicScr2" />            
    <transition name="searchRaceDetailPrint"    value="searchRaceDetailPrint" />       
    <transition name="saveTbdbRaceRecMst_Cfm"   value="saveTbdbRaceRecMst_Cfm" />                        
    <transition name="success" 					value="end" />
  </activity>
 
 
 	<!-- 경륜경주기록측정마스타 상단 값  조회  -->
	<activity name="searchTbdbRaceRecMst001" class="com.posdata.glue.miplatform.biz.activity.PosSearch">
		<transition name="success" 			value="end" />
		<property name="resultkey" 			value="dsTitleSearch" />
		<property name="sqlkey" 			value="tbdb_race_rec_mst003" />
		<property name="param-count" 		value="3" />
		<property name="dao" 				value="candao" />
		<property name="param0" 			value="RACE_YY"/>
		<property name="param1" 			value="ROUND"/>
		<property name="param2" 			value="RACE_NO"/>
	</activity>
   
    <!-- 경륜경주기록측정마스타 주회수, 경주거리, 출발시점 값  조회  -->
	<activity name="searchTbdbRaceRecMst002" class="com.posdata.glue.miplatform.biz.activity.PosSearch">
		<transition name="success" 			value="end" />
		<property name="resultkey" 			value="dsKeyValueSearch" />
		<property name="sqlkey" 			value="tbdb_race_rec_mst004" />
		<property name="param-count" 		value="4" />
		<property name="dao" 				value="candao" />
		<property name="param0" 			value="RACE_YY"/>
		<property name="param1" 			value="RACE_NO"/>
		<property name="param2" 			value="RACE_MM"/>
		<property name="param3" 			value="AM_PM_GBN"/>
	</activity>
   
   
 	<!-- 경륜경주기록측정마스타 조회  -->
	<activity name="searchTbdbRaceRecMst"  class="com.posdata.glue.miplatform.biz.activity.PosSearch">
		<transition name="success" 			value="searchTbdbRaceRecDetl" />
		<property name="resultkey" 			value="dsTbdbRaceRecMst" />
		<property name="sqlkey" 			value="tbdb_race_rec_mst001" />
		<property name="param-count" 		value="3" />
		<property name="dao" 				value="candao" />
		<property name="param0" 			value="RACE_YY"/>
		<property name="param1" 			value="ROUND"/>
		<property name="param2" 			value="RACE_NO"/>
	</activity>
	
 	<!-- 경륜경주기록측정Detail 조회  -->
	<activity name="searchTbdbRaceRecDetl"  class="com.posdata.glue.miplatform.biz.activity.PosSearch">
		<transition name="success" 			value="end" />
		<property name="resultkey" 			value="dsTbdbRaceRecDetl" />
		<property name="sqlkey" 			value="tbdb_race_rec_mst002" />
		<property name="param-count" 		value="8" />
		<property name="dao" 				value="candao" />
		<property name="param0" 			value="RACE_YY"/>
		<property name="param1" 			value="RACE_YY"/>
		<property name="param2" 			value="ROUND"/>
		<property name="param3" 			value="RACE_YY"/>
		<property name="param4" 			value="ROUND"/>
		<property name="param5" 			value="RACE_YY"/>
		<property name="param6" 			value="ROUND"/>
		<property name="param7" 			value="RACE_NO"/>
	</activity>
	
  	<!-- 경륜경주기록측정마스타  저장 --> 
	<activity name="saveTbdbRaceRecMst"     class="snis.can.cyclestd.d02000032.activity.SaveTbdbRaceRecMst">
	    <transition name="success" 	        value="saveTbdbRaceRecDetl" />
	</activity> 	
	  
	<!-- 경륜경주기록측정Detail 저장  --> 
	<activity name="saveTbdbRaceRecDetl"    class="snis.can.cyclestd.d02000032.activity.SaveTbdbRaceRecDetl">
	    <transition name="success" 	        value="end" />
	</activity> 	

 	<!-- 금일 위반사항  조회  -->
	<activity name="searchTbdbViolAct_Now" class="com.posdata.glue.miplatform.biz.activity.PosSearch">
		<transition name="success"         value="end" />
		<property name="resultkey"         value="dsTbdbViolAct" />
		<property name="sqlkey"            value="tbdb_viol_act002" />
		<property name="param-count"       value="5" />
		<property name="param0" 		   value="RACE_YY"/>
		<property name="param1" 		   value="ROUND"/>
		<property name="param2" 		   value="RACE_NO"/>
		<property name="param3" 		   value="BACK_NO"/>
		<property name="param4" 		   value="CAND_NO"/>
		<property name="dao"          	   value="candao" />
	</activity>

	
  	<!-- 위반사항  저장 --> 
	<activity name="saveTbdbViolAct"      class="snis.can.cyclestd.d02000032.activity.SaveTbdbViolAct">
	    <transition name="success" 	      value="end" />
	</activity> 	
	
	<!-- 유도원확정 조회  -->
	<activity name="searchTbdbInduceDcsn" class="com.posdata.glue.miplatform.biz.activity.PosSearch">
		<transition name="success"   	  value="end" />
		<property name="resultkey"   	  value="dsTbdbInduceDcsn" />
		<property name="sqlkey"      	  value="tbdb_induce_dcsn001" />
		<property name="param-count" 	  value="3" />
		<property name="dao"         	  value="candao" />
		<property name="param0"      	  value="RACE_YY"/>
		<property name="param1"      	  value="ROUND"/>
		<property name="param2"      	  value="RACE_NO"/>
	</activity>
	
	<!-- 유도원확정  저장 --> 
	<activity name="saveTbdbInduceDcsn"   class="snis.can.cyclestd.d02000032.activity.SaveTbdbInduceDcsn">
	    <transition name="success" 	      value="end" />
	</activity> 	
	  
	  
 
 	<!-- 성적처리(경주득점일 계산)  조회  -->
	<activity name="searchBasicScr"         class="com.posdata.glue.miplatform.biz.activity.PosSearch">
		<transition name="success" 			value="end" />
		<property name="resultkey" 			value="dsBasicScr" />
		<property name="sqlkey" 			value="tbdb_race_rec_mst011" />
		<property name="param-count" 		value="9" />
		<property name="dao" 				value="candao" />
		<property name="param0" 			value="RACE_YY"/>
		<property name="param1" 			value="ROUND"/>
		<property name="param2" 			value="CAND_NO1"/>
		<property name="param3" 			value="CAND_NO2"/>
		<property name="param4" 			value="CAND_NO3"/>
		<property name="param5" 			value="CAND_NO4"/>
		<property name="param6" 			value="CAND_NO5"/>
		<property name="param7" 			value="CAND_NO6"/>
		<property name="param8" 			value="CAND_NO7"/>
	</activity>
	
  	<!-- 경륜경주기록 점수   저장 --> 
	<activity name="saveTbdbRaceRacePoint"  class="snis.can.cyclestd.d02000032.activity.SaveTbdbRaceRacePoint">
	    <transition name="success" 	        value="end" />
	</activity> 
 
 	<!-- 성적처리(경주득점일 계산) - (수정토너먼트 경주시 전회차가 있을 경우 사용 )  조회  -->
	<activity name="searchBasicScr1"         class="com.posdata.glue.miplatform.biz.activity.PosSearch">
		<transition name="success" 			value="end" />
		<property name="resultkey" 			value="dsBasicScr" />
		<property name="sqlkey" 			value="tbdb_race_rec_mst012" />
		<property name="param-count" 		value="9" />
		<property name="dao" 				value="candao" />
		<property name="param0" 			value="RACE_YY"/>
		<property name="param1" 			value="ROUND"/>
		<property name="param2" 			value="CAND_NO1"/>
		<property name="param3" 			value="CAND_NO2"/>
		<property name="param4" 			value="CAND_NO3"/>
		<property name="param5" 			value="CAND_NO4"/>
		<property name="param6" 			value="CAND_NO5"/>
		<property name="param7" 			value="CAND_NO6"/>
		<property name="param8" 			value="CAND_NO7"/>
	</activity>
  	<!-- 성적처리(경주득점일 계산) - (수정토너먼트 경주시 전회차가 없을 경우 사용 )  조회  -->
	<activity name="searchBasicScr2"         class="com.posdata.glue.miplatform.biz.activity.PosSearch">
		<transition name="success" 			value="end" />
		<property name="resultkey" 			value="dsBasicScr" />
		<property name="sqlkey" 			value="tbdb_race_rec_mst013" />
		<property name="param-count" 		value="9" />
		<property name="dao" 				value="candao" />
		<property name="param0" 			value="RACE_YY"/>
		<property name="param1" 			value="ROUND"/>
		<property name="param2" 			value="CAND_NO1"/>
		<property name="param3" 			value="CAND_NO2"/>
		<property name="param4" 			value="CAND_NO3"/>
		<property name="param5" 			value="CAND_NO4"/>
		<property name="param6" 			value="CAND_NO5"/>
		<property name="param7" 			value="CAND_NO6"/>
		<property name="param8" 			value="CAND_NO7"/>
	</activity>
 
 
 
 	<!-- 성적표 출력시 위반사항/유도원  조회  -->
	<activity name="searchRaceDetailPrint"  class="com.posdata.glue.miplatform.biz.activity.PosSearch">
		<transition name="success" 			value="searchTbdbInduceDcsn" />
		<property name="resultkey" 			value="dsRacePrint" />
		<property name="sqlkey" 			value="tbdb_viol_act_print" />
		<property name="param-count" 		value="3" />
		<property name="dao" 				value="candao" />
		<property name="param0" 			value="RACE_YY"/>
		<property name="param1" 			value="ROUND"/>
		<property name="param2" 			value="RACE_NO"/>
	</activity>
	
  	<!-- 기록측정 master Cfm_Fg update 저장 --> 
	<activity name="saveTbdbRaceRecMst_Cfm"  class="snis.can.cyclestd.d02000032.activity.SaveTbdbRaceRecCfm">
	    <transition name="success" 	         value="end" />
	</activity> 
 
	<transaction-manager id="tx_can" commit="true" />
</service>
  