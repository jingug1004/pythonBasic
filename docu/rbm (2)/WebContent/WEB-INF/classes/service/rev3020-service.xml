<?xml version="1.0" encoding="EUC-KR"?>
 
<service name="rev3020" initial="SetResultKeys">

    <activity name="SetResultKeys"   class="com.posdata.glue.miplatform.biz.activity.PosSetResultKeyList">  
	    <property name="staticResultKeyFile"  value="resultkey.properties" />
	    <property name="resultKeyList" 		  value="dsDeptEmp|dsMst|dsPrm|dsDistribution|dsEmp|dsEmpDept|dsEmpEstm|dsEmpMult|dsPrmItm1|dsPrmItm2|dsMnrItm|dsSvrItm|dsMultItm|dsExcept|dsNoEval|dsComplete|dsEstmSte" />
	    <transition name="success" 			  value="EventRouter" />
	</activity>
  
    <activity name="EventRouter" 	         class="com.posdata.glue.biz.activity.PosDefaultRouter">
		<transition name="searchStart"       value="searchStart" />
		<transition name="searchData"        value="searchData" />
		<transition name="saveEstmEnd"       value="saveEstmEnd" />
		<transition name="searchDeptEmp"     value="searchDeptEmp" />
		<transition name="searchExcept"      value="searchExcept" />
		<transition name="saveStart"     	 value="saveStart" />
	    <transition name="success" 			 value="end" />
	</activity>
	
    <!-- 평가개시  -->
    <activity name="searchStart"          class="com.posdata.glue.miplatform.biz.activity.PosSearch">
        <transition name="success"        value="end" />
        <property name="resultkey"        value="dsComplete" />
        <property name="sqlkey"           value="rev3020_s17" />
        <property name="param-count"      value="16" />
        <property name="param0"           value="ESTM_YEAR" />
        <property name="param1"           value="ESTM_NUM" />
        <property name="param2"           value="ESTM_YEAR" />
        <property name="param3"           value="ESTM_NUM" />
        <property name="param4"           value="ESTM_YEAR" />
        <property name="param5"           value="ESTM_NUM" />
        <property name="param6"           value="ESTM_YEAR" />
        <property name="param7"           value="ESTM_NUM" />
        <property name="param8"           value="ESTM_YEAR" />
        <property name="param9"           value="ESTM_NUM" />
        <property name="param10"          value="ESTM_YEAR" />
        <property name="param11"          value="ESTM_NUM" />
        <property name="param12"          value="ESTM_YEAR" />
        <property name="param13"          value="ESTM_NUM" />
        <property name="param14"          value="ESTM_YEAR" />
        <property name="param15"          value="ESTM_NUM" />
        <property name="dao"              value="rbmdao" />
    </activity>
    
	<activity name="searchData" 	  class="com.posdata.glue.miplatform.biz.activity.PosSearch">
		<transition name="success" 		  value="searchData1" />
		<property name="resultkey" 		  value="dsMst" />
		<property name="sqlkey" 		  value="rev3020_s02" />
		<property name="param-count" 	  value="2" />
		<property name="param0" 		  value="ESTM_YEAR" />
		<property name="param1" 		  value="ESTM_NUM" />
		<property name="dao" 			  value="rbmdao" />
	</activity>
	
	<activity name="searchData1" 	  class="com.posdata.glue.miplatform.biz.activity.PosSearch">
		<transition name="success" 		  value="searchData2" />
		<property name="resultkey" 		  value="dsPrm" />
		<property name="sqlkey" 		  value="rev3020_s03" />
		<property name="param-count" 	  value="2" />
		<property name="param0" 		  value="ESTM_YEAR" />
		<property name="param1" 		  value="ESTM_NUM" />
		<property name="dao" 			  value="rbmdao" />
	</activity>

  	<activity name="searchData2" 	  class="com.posdata.glue.miplatform.biz.activity.PosSearch">
		<transition name="success" 		  value="searchData3" />
		<property name="resultkey" 		  value="dsDistribution" />
		<property name="sqlkey" 		  value="rev3020_s04" />
		<property name="param-count" 	  value="2" />
		<property name="param0" 		  value="ESTM_YEAR" />
		<property name="param1" 		  value="ESTM_NUM" />
		<property name="dao" 			  value="rbmdao" />
	</activity>
	
	<!-- 담당자 현황 조회 -->
	<activity name="searchData3" 	  class="com.posdata.glue.miplatform.biz.activity.PosSearch">
		<transition name="success" 		  value="searchData4" />
		<property name="resultkey" 		  value="dsEmpDept" />
		<property name="sqlkey" 		  value="rev3020_s05" />
		<property name="param-count" 	  value="4" />
		<property name="param0" 		  value="ESTM_YEAR" />
		<property name="param1" 		  value="ESTM_NUM" />
		<property name="param2" 		  value="ESTM_YEAR" />
		<property name="param3" 		  value="ESTM_NUM" />
		<property name="dao" 			  value="rbmdao" />
	</activity>
	
	<!-- 대상자 현황 조회 -->
	<activity name="searchData4" 	      class="com.posdata.glue.miplatform.biz.activity.PosSearch">
		<transition name="success" 		  value="searchData5" />
		<property name="resultkey" 		  value="dsEmp" />
		<property name="sqlkey" 		  value="rev3020_s06" />
		<property name="param-count" 	  value="2" />
		<property name="param0" 		  value="ESTM_YEAR" />
		<property name="param1" 		  value="ESTM_NUM" />
		<property name="dao" 			  value="rbmdao" />
	</activity>
	
	<activity name="searchData5" 	  class="com.posdata.glue.miplatform.biz.activity.PosSearch">
		<transition name="success" 		  value="searchData6" />
		<property name="resultkey" 		  value="dsEmpEstm" />
		<property name="sqlkey" 		  value="rev3020_s07" />
		<property name="param-count" 	  value="4" />
		<property name="param0" 		  value="ESTM_YEAR" />
		<property name="param1" 		  value="ESTM_NUM" />
		<property name="param2" 		  value="ESTM_YEAR" />
		<property name="param3" 		  value="ESTM_NUM" />
		<property name="dao" 			  value="rbmdao" />
	</activity>
	
	<activity name="searchData6" 	  class="com.posdata.glue.miplatform.biz.activity.PosSearch">
		<transition name="success" 		  value="searchData7" />
		<property name="resultkey" 		  value="dsEmpMult" />
		<property name="sqlkey" 		  value="rev3020_s08" />
		<property name="param-count" 	  value="2" />
		<property name="param0" 		  value="ESTM_YEAR" />
		<property name="param1" 		  value="ESTM_NUM" />
		<property name="dao" 			  value="rbmdao" />
	</activity>
	
	<activity name="searchData7" 	      class="com.posdata.glue.miplatform.biz.activity.PosSearch">
		<transition name="success" 		  value="searchData8" />
		<property name="resultkey" 		  value="dsPrmItm1" />
		<property name="sqlkey" 		  value="rev3020_s09" />
		<property name="param-count" 	  value="2" />
		<property name="param0" 		  value="ESTM_YEAR" />
		<property name="param1" 		  value="ESTM_NUM" />
		<property name="dao" 			  value="rbmdao" />
	</activity>
	
	<activity name="searchData8" 	  class="com.posdata.glue.miplatform.biz.activity.PosSearch">
		<transition name="success" 		  value="searchData9" />
		<property name="resultkey" 		  value="dsPrmItm2" />
		<property name="sqlkey" 		  value="rev3020_s10" />
		<property name="param-count" 	  value="2" />
		<property name="param0" 		  value="ESTM_YEAR" />
		<property name="param1" 		  value="ESTM_NUM" />
		<property name="dao" 			  value="rbmdao" />
	</activity>
	
	<activity name="searchData9" 	      class="com.posdata.glue.miplatform.biz.activity.PosSearch">
		<transition name="success" 		  value="searchData10" />
		<property name="resultkey" 		  value="dsMnrItm" />
		<property name="sqlkey" 		  value="rev3020_s11" />
		<property name="param-count" 	  value="2" />
		<property name="param0" 		  value="ESTM_YEAR" />
		<property name="param1" 		  value="ESTM_NUM" />
		<property name="dao" 			  value="rbmdao" />
	</activity>
	
	<activity name="searchData10" 	      class="com.posdata.glue.miplatform.biz.activity.PosSearch">
		<transition name="success" 		  value="searchData11" />
		<property name="resultkey" 		  value="dsSvrItm" />
		<property name="sqlkey" 		  value="rev3020_s12" />
		<property name="param-count" 	  value="2" />
		<property name="param0" 		  value="ESTM_YEAR" />
		<property name="param1" 		  value="ESTM_NUM" />
		<property name="dao" 			  value="rbmdao" />
	</activity>
	
	<activity name="searchData11" 	  class="com.posdata.glue.miplatform.biz.activity.PosSearch">
		<transition name="success" 		  value="searchData12" />
		<property name="resultkey" 		  value="dsMultItm" />
		<property name="sqlkey" 		  value="rev3020_s13" />
		<property name="param-count" 	  value="4" />
		<property name="param0" 		  value="ESTM_YEAR" />
		<property name="param1" 		  value="ESTM_NUM" />
		<property name="param2" 		  value="ESTM_YEAR" />
		<property name="param3" 		  value="ESTM_NUM" />
		<property name="dao" 			  value="rbmdao" />
	</activity>
	
	 <activity name="searchData12"     class="com.posdata.glue.miplatform.biz.activity.PosSearch">
        <transition name="success"        value="end" />
        <property name="resultkey"        value="dsEstmSte" />
        <property name="sqlkey"           value="rev3020_s01" />
        <property name="param-count"      value="0" />

        <property name="dao"              value="rbmdao" />
    </activity>
    
	
	<activity name="searchDeptEmp" 	  class="com.posdata.glue.miplatform.biz.activity.PosSearch">
		<transition name="success" 		  value="end" />
		<property name="resultkey" 		  value="dsDeptEmp" />
		<property name="sqlkey" 		  value="rev3020_s14" />
		<property name="param-count" 	  value="4" />
		<property name="param0" 		  value="ESTM_YEAR" />
		<property name="param1" 		  value="ESTM_NUM" />
		<property name="param2" 		  value="ESTM_YEAR" />
		<property name="param3" 		  value="ESTM_NUM" />
		<property name="dao" 			  value="rbmdao" />
	</activity>
	
	<activity name="searchExcept" 	      class="com.posdata.glue.miplatform.biz.activity.PosSearch">
		<transition name="success" 		  value="searchNoEval" />
		<property name="resultkey" 		  value="dsExcept" />
		<property name="sqlkey" 		  value="rev3020_s15" />
		<property name="param-count" 	  value="4" />
		<property name="param0" 		  value="ESTM_YEAR" />
		<property name="param1" 		  value="ESTM_NUM" />
		<property name="param2" 		  value="ESTM_YEAR" />
		<property name="param3" 		  value="ESTM_NUM" />
		<property name="dao" 			  value="rbmdao" />
	</activity>
	
	<activity name="searchNoEval" 	  	  class="com.posdata.glue.miplatform.biz.activity.PosSearch">
		<transition name="success" 		  value="end" />
		<property name="resultkey" 		  value="dsNoEval" />
		<property name="sqlkey" 		  value="rev3020_s16" />
		<property name="param-count" 	  value="2" />
		<property name="param0" 		  value="ESTM_YEAR" />
		<property name="param1" 		  value="ESTM_NUM" />
		<property name="dao" 			  value="rbmdao" />
	</activity>
	
	<!-- 평가진행현황 개시-->
  	<activity name="saveStart" 		class="snis.rbm.business.rev3020.activity.SaveStart">
    	<transition name="success" 			value="end" />
  	</activity>
  	
	<!-- 평가진행현황 마감-->
  	<activity name="saveEstmEnd" 		class="snis.rbm.business.rev3020.activity.SaveEstmEnd">
    	<transition name="success" 			value="end" />
  	</activity>
  	
	<transaction-manager id="tx_rbm" commit="true" />
  
</service>



