<?xml version="1.0" encoding="EUC-KR"?>

<service name="rsm2070" initial="SetResultKeys">

  <activity name="SetResultKeys"            class="com.posdata.glue.miplatform.biz.activity.PosSetResultKeyList">  
    <property name="staticResultKeyFile"    value="resultkey.properties" />
    <property name="resultKeyList"          value="dsGoalRslt|dsTms|dsDayOrd|dsRace" />
    <transition name="success"              value="EventRouter" />
  </activity>

  <activity name="EventRouter"             	class="com.posdata.glue.biz.activity.PosDefaultRouter">
	<transition name="searchGoalRslt"       value="searchGoalRslt" />   	<!-- 지점별 매출목표/실적 조회  -->
	<transition name="searchRaceList"       value="searchRaceList" />   	<!-- 지점별 매출목표/실적 조회  -->
	<transition name="searchTms"         	value="searchTms" />   			<!-- 해당년도의 회차 조회  -->
	<transition name="searchDayOrd"         value="searchDayOrd" />   		<!-- 해당년도의 회차의 일차 조회  -->
  </activity>
  
  <!-- 지점별 매출목표/실적 조회  -->
  <activity name="searchGoalRslt"       	class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success"       		value="searchRaceList" />   
    <property name="resultkey"        		value="dsGoalRslt" />
    <property name="sqlkey"           		value="rsm2070_s01" />
    <property name="param-count"      		value="30" />
    <property name="param0"          		value="STND_YEAR" />   
    <property name="param1"          		value="TMS" />
    <property name="param2"          		value="DAY_ORD" />
    <property name="param3"          		value="UNIT" />
    <property name="param4"          		value="STND_YEAR" />
    <property name="param5"          		value="TMS" />         
    <property name="param6"          		value="DAY_ORD" />
    <property name="param7"          		value="UNIT" />
    <property name="param8"          		value="STND_YEAR" />         
    <property name="param9"          		value="TMS" />    
    <property name="param10"          		value="DAY_ORD" />
    <property name="param11"          		value="UNIT" />
    <property name="param12"          		value="UNIT" />
    <property name="param13"          		value="STND_YEAR" />
    <property name="param14"          		value="UNIT" />
    <property name="param15"          		value="STND_YEAR" />   
    <property name="param16"          		value="TMS" />
    <property name="param17"          		value="UNIT" />
    <property name="param18"          		value="UNIT" />
    <property name="param19"          		value="MEET_CD" />
    <property name="param20"          		value="MEET_CD" />
    <property name="param21"          		value="STND_YEAR" />
    <property name="param22"          		value="STND_YEAR" />
    <property name="param23"          		value="TMS" />    
    <property name="param24"          		value="STND_YEAR" />
    <property name="param25"          		value="STND_YEAR" />
    <property name="param26"          		value="STND_YEAR" />
    <property name="param27"          		value="STND_YEAR" />
    <property name="param28"          		value="STND_YEAR" />
    <property name="param29"          		value="STND_YEAR" />    
    <property name="dao"              		value="rbmdao" />
  </activity>
  
  <!-- 지점별 매출목표/실적 조회  -->
  <activity name="searchTms"       	class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success"       		value="end" />   
    <property name="resultkey"        		value="dsTms" />
    <property name="sqlkey"           		value="rsm2070_s02" />        
    <property name="param-count"      		value="2" />
    <property name="param0"          		value="STND_YEAR" />   
    <property name="param1"          		value="MEET_CD" />
    <property name="dao"              		value="rbmdao" />
  </activity>

  <!-- 연도별 가까운 회차별 일차  -->
  <activity name="searchDayOrd" 			class="com.posdata.glue.miplatform.biz.activity.PosSearch">	
	 <transition name="success" 			value="end" />
	 <property name="resultkey" 			value="dsDayOrd" />
	 <property name="sqlkey" 				value="rsm2070_s03" />
	 <property name="param-count" 			value="3" />
     <property name="param0"          		value="STND_YEAR" />   
     <property name="param1"          		value="MEET_CD" />
	 <property name="param2" 				value="TMS" />			<!-- 회차 -->
	 <property name="dao" 					value="rbmdao" />    
  </activity>
  
  
  <!-- 지점별 매출목표/실적 조회  -->
  <activity name="searchRaceList"       	class="com.posdata.glue.miplatform.biz.activity.PosSearch">
     <transition name="success"       		value="end" />   
     <property name="resultkey"        		value="dsRace" />
     <property name="sqlkey"           		value="rsm2070_s04" />        
     <property name="param-count"      		value="4" />
     <property name="param0"          		value="STND_YEAR" />   
     <property name="param1"          		value="MEET_CD" />
	 <property name="param2" 				value="TMS" />			<!-- 회차 -->
     <property name="param3"          		value="DAY_ORD" />
     <property name="dao"              		value="rbmdao" />
  </activity>
  
  
  <transaction-manager id="tx_rbm" commit="true" />
</service>