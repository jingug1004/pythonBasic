<?xml version="1.0" encoding="EUC-KR"?>
 
<service name="rev1020" initial="SetResultKeys">

    <activity name="SetResultKeys"   class="com.posdata.glue.miplatform.biz.activity.PosSetResultKeyList">  
	    <property name="staticResultKeyFile"  value="resultkey.properties" />
	    <property name="resultKeyList" 		  value="dsWkJob|dsMultLItm|dsSvrLItm|dsPrmLItm|dsMnrLItm|dsItmGrdPrm|dsPrmSItm|dsPrmMItm|dsMnrMItm|dsMnrSItm|dsSvrMItm|dsSvrSItm|dsMultMItm|dsItmGrdMult|dsConst" />
	    <transition name="success" 			  value="EventRouter" />
	</activity>
  
    <activity name="EventRouter" 	 class="com.posdata.glue.biz.activity.PosDefaultRouter">
	    <transition name="searchWkJob"     value="searchWkJob" />
	    <transition name="searchItems"     value="searchItems" />
	    <transition name="saveItems"         value="saveItems" />
	    <transition name="success" 			 value="end" />
	</activity>
 
	<!-- 보직 조회 팝업-->
	<activity name="searchWkJob" 	  class="com.posdata.glue.miplatform.biz.activity.PosSearch">
		<transition name="success" 		  value="end" />
		<property name="resultkey" 		  value="dsWkJob" />
		<property name="sqlkey" 		  value="rev1020p_wkJob" />
		<property name="param-count" 	  value="4" />
		<property name="param0" 		  value="ESTM_YEAR" />    
		<property name="param1" 		  value="ESTM_NUM" />    
		<property name="param2" 		  value="WK_JOB_CD" />    
		<property name="param3" 		  value="WK_JOB_NM" />    
		<property name="dao" 			  value="rbmdao" />
	</activity>
	
	<!-- 업무수행평가항목 평가비율  -->
	<activity name="searchItems" 	  class="com.posdata.glue.miplatform.biz.activity.PosSearch">
		<transition name="success" 		  value="searchPrmMItm" />
		<property name="resultkey" 		  value="dsPrmLItm" />
		<property name="sqlkey" 		  value="rev1020_s011" />
		<property name="param-count" 	  value="2" />
		<property name="param0" 		  value="ESTM_YEAR" />    
		<property name="param1" 		  value="ESTM_NUM" />    
		<property name="dao" 			  value="rbmdao" />
	</activity>
	
	<!-- 업무수행평가항목 평가대항목  -->
	<activity name="searchPrmMItm" 	  class="com.posdata.glue.miplatform.biz.activity.PosSearch">
		<transition name="success" 		  value="searchPrmSItm" />
		<property name="resultkey" 		  value="dsPrmMItm" />
		<property name="sqlkey" 		  value="rev1020_s012" />
		<property name="param-count" 	  value="2" />
		<property name="param0" 		  value="ESTM_YEAR" />    
		<property name="param1" 		  value="ESTM_NUM" />
		<property name="dao" 			  value="rbmdao" />
	</activity>
	
	<!-- 업무수행평가항목 평가자평가비율 -->
	<activity name="searchPrmSItm" 	  class="com.posdata.glue.miplatform.biz.activity.PosSearch">
		<transition name="success" 		  value="searchItemGrdPrm" />
		<property name="resultkey" 		  value="dsPrmSItm" />
		<property name="sqlkey" 		  value="rev1020_s013" />
		<property name="param-count" 	  value="2" />
		<property name="param0" 		  value="ESTM_YEAR" />
		<property name="param1" 		  value="ESTM_NUM" />    
		<property name="dao" 			  value="rbmdao" />
	</activity>
	
	<!-- 업무수행평가 항목 평가등급  -->
	<activity name="searchItemGrdPrm" 	  class="com.posdata.glue.miplatform.biz.activity.PosSearch">
		<transition name="success" 		  value="searchItemMnr" />
		<property name="resultkey" 		  value="dsItmGrdPrm" />
		<property name="sqlkey" 		  value="rev1020_s014" />
		<property name="param-count" 	  value="2" />
		<property name="param0" 		  value="ESTM_YEAR" />    
		<property name="param1" 		  value="ESTM_NUM" />    
		<property name="dao" 			  value="rbmdao" />
	</activity>
	
	<!-- 근무태도평가 항목 직종 보직  -->
	<activity name="searchItemMnr" 	  class="com.posdata.glue.miplatform.biz.activity.PosSearch">
		<transition name="success" 		  value="searchMnrMItm" />
		<property name="resultkey" 		  value="dsMnrLItm" />
		<property name="sqlkey" 		  value="rev1020_s021" />
		<property name="param-count" 	  value="2" />
		<property name="param0" 		  value="ESTM_YEAR" />    
		<property name="param1" 		  value="ESTM_NUM" />    
		<property name="dao" 			  value="rbmdao" />
	</activity>
	
	<!-- 근무태도평가 항목 평가대항목  -->
	<activity name="searchMnrMItm" 	  class="com.posdata.glue.miplatform.biz.activity.PosSearch">
		<transition name="success" 		  value="searchMnrSItm" />
		<property name="resultkey" 		  value="dsMnrMItm" />
		<property name="sqlkey" 		  value="rev1020_s022" />
		<property name="param-count" 	  value="2" />
		<property name="param0" 		  value="ESTM_YEAR" />    
		<property name="param1" 		  value="ESTM_NUM" />
		<property name="dao" 			  value="rbmdao" />
	</activity>
	
	<!-- 근무태도평가항목 평가자평가비율 -->
	<activity name="searchMnrSItm" 	  class="com.posdata.glue.miplatform.biz.activity.PosSearch">
		<transition name="success" 		  value="searchItemSvr" />
		<property name="resultkey" 		  value="dsMnrSItm" />
		<property name="sqlkey" 		  value="rev1020_s023" />
		<property name="param-count" 	  value="2" />
		<property name="param0" 		  value="ESTM_YEAR" />    
		<property name="param1" 		  value="ESTM_NUM" />
		<property name="dao" 			  value="rbmdao" />
	</activity>
	
	<!-- 서비스평가 항목 직종 보직  -->
	<activity name="searchItemSvr" 	  class="com.posdata.glue.miplatform.biz.activity.PosSearch">
		<transition name="success" 		  value="searchSvrMItm" />
		<property name="resultkey" 		  value="dsSvrLItm" />
		<property name="sqlkey" 		  value="rev1020_s031" />
		<property name="param-count" 	  value="2" />
		<property name="param0" 		  value="ESTM_YEAR" />    
		<property name="param1" 		  value="ESTM_NUM" />   
		<property name="dao" 			  value="rbmdao" />
	</activity>
	
	<!-- 서비스평가 항목 평가대항목  -->
	<activity name="searchSvrMItm" 	  class="com.posdata.glue.miplatform.biz.activity.PosSearch">
		<transition name="success" 		  value="searchSvrSItm" />
		<property name="resultkey" 		  value="dsSvrMItm" />
		<property name="sqlkey" 		  value="rev1020_s032" />
		<property name="param-count" 	  value="2" />
		<property name="param0" 		  value="ESTM_YEAR" />    
		<property name="param1" 		  value="ESTM_NUM" />  
		<property name="dao" 			  value="rbmdao" />
	</activity>
	
	<!-- 서비스평가 항목 평가자평가비율 -->
	<activity name="searchSvrSItm" 	  class="com.posdata.glue.miplatform.biz.activity.PosSearch">
		<transition name="success" 		  value="searchItemLMult" />
		<property name="resultkey" 		  value="dsSvrSItm" />
		<property name="sqlkey" 		  value="rev1020_s033" />
		<property name="param-count" 	  value="2" />
		<property name="param0" 		  value="ESTM_YEAR" />    
		<property name="param1" 		  value="ESTM_NUM" /> 
		<property name="dao" 			  value="rbmdao" />
	</activity>
	
	<!-- 다면평가 항목 직종 보직  -->
	<activity name="searchItemLMult" 	  class="com.posdata.glue.miplatform.biz.activity.PosSearch">
		<transition name="success" 		  value="searchItemMMult" />
		<property name="resultkey" 		  value="dsMultLItm" />
		<property name="sqlkey" 		  value="rev1020_s041" />
		<property name="param-count" 	  value="2" />
		<property name="param0" 		  value="ESTM_YEAR" />    
		<property name="param1" 		  value="ESTM_NUM" />    
		<property name="dao" 			  value="rbmdao" />
	</activity>
	
	<!-- 다면평가 항목 직종 보직  -->
	<activity name="searchItemMMult" 	  class="com.posdata.glue.miplatform.biz.activity.PosSearch">
		<transition name="success" 		  value="searchItmGrdMult" />
		<property name="resultkey" 		  value="dsMultMItm" />
		<property name="sqlkey" 		  value="rev1020_s042" />
		<property name="param-count" 	  value="2" />
		<property name="param0" 		  value="ESTM_YEAR" />    
		<property name="param1" 		  value="ESTM_NUM" />    
		<property name="dao" 			  value="rbmdao" />
	</activity>
	
	<!-- 다면평가 항목 평가등급  -->
	<activity name="searchItmGrdMult" 	  class="com.posdata.glue.miplatform.biz.activity.PosSearch">
		<transition name="success" 		  value="searchUpdateFlag" />
		<property name="resultkey" 		  value="dsItmGrdMult" />
		<property name="sqlkey" 		  value="rev1020_s044" />
		<property name="param-count" 	  value="2" />
		<property name="param0" 		  value="ESTM_YEAR" />    
		<property name="param1" 		  value="ESTM_NUM" />    
		<property name="dao" 			  value="rbmdao" />
	</activity>
	
	<!-- 화면 수정 가능 여부 조회  -->
	<activity name="searchUpdateFlag" 	  class="com.posdata.glue.miplatform.biz.activity.PosSearch">
		<transition name="success" 		  value="end" />
		<property name="resultkey" 		  value="dsConst" />
		<property name="sqlkey" 		  value="rev1020_s05" />
		<property name="param-count" 	  value="2" />
		<property name="param0" 		  value="ESTM_YEAR" />    
		<property name="param1" 		  value="ESTM_NUM" />    
		<property name="dao" 			  value="rbmdao" />
	</activity>
	
	<!-- 평가 항목 저장 -->
  	<activity name="saveItems" 		class="snis.rbm.business.rev1020.activity.SaveItems">
    	<transition name="success" 			value="end" />
  	</activity>
  	
	<transaction-manager id="tx_rbm" commit="true" />
</service>