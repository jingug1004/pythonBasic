<?xml version="1.0" encoding="EUC-KR"?>

<service name="rbs3030" initial="SetResultKeys">

  <activity name="SetResultKeys"            class="com.posdata.glue.miplatform.biz.activity.PosSetResultKeyList">  
    <property name="staticResultKeyFile"    value="resultkey.properties" />
    <property name="resultKeyList"          value="dsSupplRegi|dsOutUser" />
    <transition name="success"              value="EventRouter" />
  </activity>

  <activity name="EventRouter"              class="com.posdata.glue.biz.activity.PosDefaultRouter">
    <transition name="searchSupplRegi"      value="searchSupplRegi" />   <!-- 소모품대장  조회 -->
    <transition name="saveSupplRegi"        value="saveSupplRegi" />     <!-- 소모품대장  저장 -->
    <transition name="searchSignPswd"       value="searchSignPswd" />    <!-- 서명정보 조회 -->
    <transition name="saveSupplReturn"      value="saveSupplReturn" />   <!-- 소모품대장 반납  -->
    
  </activity>
  
  <!-- 소모품신청현황 조회 -->
  <activity name="searchSupplRegi"      class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success"          value="end" />    
    <property name="resultkey"          value="dsSupplRegi" />
    <property name="sqlkey"             value="rbs3040_s01" />
    <property name="param-count"        value="6" />    
    <property name="param0"             value="SEARCH_GBN" />
    <property name="param1"             value="REQ_DT_FROM" />  <!-- 신청일자From -->    
    <property name="param2"             value="SEARCH_GBN" />
    <property name="param3"             value="REQ_DT_TO" />    <!-- 신청일자To   -->
    <property name="param4"             value="SUPPL_CD" />    <!-- 소모품코드   -->    
    <property name="param5"             value="BIZ_GBN" />    <!-- 소모품코드   -->    
    
    <property name="dao"                value="rbmdao" />
  </activity>

  <!-- 소모품대장 저장 -->
  <activity name="saveSupplRegi"       class="snis.rbm.business.rbs3040.activity.SaveSupplRegi">
    <transition name="success"          value="end" />
  </activity>  
  
  <!-- 소모품대장 반납 -->
  <activity name="saveSupplReturn"       class="snis.rbm.business.rbs3040.activity.SaveSupplReturn">
    <transition name="success"          value="end" />
  </activity>  

  
  <!-- 서명정보 조회 - -->

  <activity name="searchSignPswd"      class="snis.rbm.business.rbs3040.activity.SearchSupplRegi">
    <transition name="success"          value="end" />

  </activity>


  <transaction-manager id="tx_rbm" commit="true" /> 
</service>