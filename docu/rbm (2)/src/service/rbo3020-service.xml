<?xml version="1.0" encoding="EUC-KR"?>

<service name="rbo3020" initial="SetResultKeys">
  <activity name="SetResultKeys" 			class="com.posdata.glue.miplatform.biz.activity.PosSetResultKeyList">  
    <property name="staticResultKeyFile" 	value="resultkey.properties" />
    <property name="resultKeyList" 			value="dsRollBrncMove|dsStrYear|dsRollEnd" />
    <transition name="success" 				value="EventRouter" />
  </activity>

  
  <activity name="EventRouter" 				class="com.posdata.glue.biz.activity.PosDefaultRouter">
    <transition name="searchRollBrncMove"  		value="searchRollBrncMove" />
    <transition name="saveRollBrncMove"   		value="saveRollBrncMove" />
    <transition name="searchStndYear"  			value="searchStndYear" />
    <transition name="searchRollEnd"  			value="searchRollEnd" />      
    <transition name="success" 					value="end" />
  </activity>


  <!--  용지점간이동   조회 -->
  <activity name="searchRollBrncMove" 		class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success" 				value="end" />
    <property name="resultkey" 				value="dsRollBrncMove" />
    <property name="sqlkey"					value="rbo3020_s01" />
    <property name="param-count" 			value="4" />
    <property name="param0" 				value="STND_YEAR" />
    <property name="param1" 				value="TMS" />
    <property name="param2" 				value="ROLL_GBN" />
    <property name="param3" 				value="OUT_BRNC_CD" />
    <property name="dao" 					value="rbmdao" />
  </activity>  
  


  <!-- 용지점간이동    저장 -->

  <activity name="saveRollBrncMove" 			class="snis.rbm.business.rbo3020.activity.SaveRollBrncMove">
    <transition name="success" 					value="end" />
  </activity>


  <!-- 용지점간이동  기준년도 조회  -->
 <activity name="searchStndYear" 		class="com.posdata.glue.miplatform.biz.activity.PosSearch">

    <transition name="success" 				value="end" />

    <property name="resultkey" 				value="dsStrYear" />

    <property name="sqlkey"					value="rbo3020_s02" />

    <property name="param-count" 			value="0" />
    
    <property name="dao" 					value="rbmdao" />

  </activity>   
  
  
  
    
  <!-- 용지마감   조회  -->
 <activity name="searchRollEnd" 		class="com.posdata.glue.miplatform.biz.activity.PosSearch">

    <transition name="success" 				value="end" />

    <property name="resultkey" 				value="dsRollEnd" />

    <property name="sqlkey"					value="rbo3020_s03" />

    <property name="param-count" 			value="1" />
    
    <property name="param0" 				value="STND_YEAR" />

    <property name="dao" 					value="rbmdao" />

  </activity>   
  
  
  <transaction-manager id="tx_rbm" commit="true" />

</service>



