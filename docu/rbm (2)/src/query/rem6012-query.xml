<?xml version="1.0" encoding='EUC-KR'?>

<queryMap desc="rem6012(미사리 현금 입장인원)">
  
    <query id="rem6012_s01" desc="미사리 현금 입장인원 조회" fetchSize="10">
      <![CDATA[
      		SELECT '' AS CHK, SDATE, SUM(QNTY) CNT
			  FROM TBRC_T_TRADE_MSR
			 WHERE 1 = 1
			   AND USE_CD = '10'
			   AND PAY_GBN = '현금'
			   AND SDATE BETWEEN ? AND ?
			GROUP BY SDATE
			ORDER BY SDATE
        ]]>
    </query>  
    
    <query id="rem6012_i01" desc="미사리 현금 입장인원 입력(TBRC_T_TRADE_MSR)" fetchSize="10">
        <![CDATA[
            /* rem6012_i01  */ 
			INSERT INTO TBRC_T_TRADE_MSR
			(SDATE, 
			 M_NO, 
			 ILNO, 
			 RTN, 
			 USE_CD, 
			 PAY_GBN, 
			 QNTY, 
			 AMNT, 
			 FTIME, 
			 UPDT_ID, 
			 UPDT_DTM)
			VALUES
			(?, --SDATE
			 '4', --M_NO
			 (SELECT NVL(MAX(ILNO),0)+1 FROM TBRC_T_TRADE_MSR WHERE SDATE = ? AND M_NO = '4'), --ILNO
			 '01', --RTN
			 '10', --USE_CD
			 '현금', --PAY_GBN
			 1, --QNTY
			 1000, --AMNT
			 (SELECT TO_CHAR(TO_DATE(?||'0830','YYYYMMDDHH24MI')+?/24/90, 'HH24MISS') FROM DUAL), --FTIME
			 'ADMIN', --UPDT_ID
			 SYSDATE --UPDT_DTM
			 )
        ]]>
    </query>
    
    <query id="rem6012_i02" desc="미사리 현금 입장인원 입력(TBRC_T_TRADE_MSR)" fetchSize="10">
        <![CDATA[
            /* rem6012_i02  */ 
			INSERT INTO TBRC_T_TRADE_MSR
			(SDATE, 
			 M_NO, 
			 ILNO, 
			 RTN, 
			 USE_CD, 
			 PAY_GBN, 
			 QNTY, 
			 AMNT, 
			 FTIME, 
			 UPDT_ID, 
			 UPDT_DTM)
			VALUES
			(?, --SDATE
			 '6', --M_NO
			 (SELECT NVL(MAX(ILNO),0)+1 FROM TBRC_T_TRADE_MSR WHERE SDATE = ? AND M_NO = '6'), --ILNO
			 '01', --RTN
			 '10', --USE_CD
			 '현금', --PAY_GBN
			 1, --QNTY
			 1000, --AMNT
			 (SELECT TO_CHAR(TO_DATE(?||'0830','YYYYMMDDHH24MI')+?/24/90, 'HH24MISS') FROM DUAL), --FTIME
			 'ADMIN', --UPDT_ID
			 SYSDATE --UPDT_DTM
			 )
        ]]>
    </query>
    
    <query id="rem6012_d01" desc="미사리 현금 입장인원 삭제(TBRC_T_TRADE_MSR)" fetchSize="10">
        <![CDATA[
			DELETE /* rem6012_d01 */ 
			  FROM TBRC_T_TRADE_MSR
			 WHERE SDATE = replace(?, '')
			   AND USE_CD = '10'
			   AND PAY_GBN = '현금'
        ]]>
    </query>  
        
</queryMap>