<?xml version="1.0" encoding="EUC-KR"?>

<service name="rem4040" initial="SetResultKeys">

  <activity name="SetResultKeys"            class="com.posdata.glue.miplatform.biz.activity.PosSetResultKeyList">  

    <property name="staticResultKeyFile"    value="resultkey.properties" />
    <property name="resultKeyList"          value="dsPeriod" />
    <transition name="success"              value="EventRouter" />
  </activity>

  <activity name="EventRouter"              class="com.posdata.glue.biz.activity.PosDefaultRouter">
    <transition name="searchPeriod"  		value="searchPeriod" />         <!-- 수동전송주기 조회 -->
    <transition name="savePeriod"           value="savePeriod" />           <!-- 수동전송주기  저장  -->
    <transition name="ImportPeriod"         value="ImportPeriod" />         <!-- 거래내역 가져오기  -->
    <transition name="success"              value="end" />
  </activity>


  <!--  수동전송주기 조회 -->  
  <activity name="searchPeriod"       class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success"              value="end" />
    <property name="resultkey"              value="dsPeriod" />
    <property name="sqlkey"                 value="rem4040_s01" />    
    <property name="param-count"            value="2" />    
    <property name="param0"                 value="STR_DT" />  		<!--  시작일자  -->
    <property name="param1"                 value="END_DT" />  		<!--  종료일자  -->   
    <property name="dao"                    value="tmoneydao" />
  </activity>  

  <!-- 수동전송주기  저장 -->
  <activity name="savePeriod"             	class="snis.rbm.business.rem4040.activity.SavePeriod">
    <transition name="success"              value="searchPeriod" />
  </activity>

  <!-- 수동전송주기  저장 -->
  <activity name="ImportPeriod"           	class="snis.rbm.business.rem4040.activity.SavePeriod">
    <transition name="success"              value="end" />
  </activity>
  
  <transaction-manager id="tx_tmoney" commit="true" />

</service>



