<?xml version="1.0" encoding="EUC-KR"?>
<service name="rsy3021" initial="SetResultKeys">
  <activity name="SetResultKeys"            class="com.posdata.glue.miplatform.biz.activity.PosSetResultKeyList">  
    <property name="staticResultKeyFile"    value="resultkey.properties" />
    <property name="resultKeyList"          value="dsAuthUser|dsUser" />
    <transition name="success"              value="EventRouter" />
  </activity>

  <activity name="EventRouter"              class="com.posdata.glue.biz.activity.PosDefaultRouter">
    <transition name="searchAuthUser"          value="searchAuthUser" /> <!-- 권한대상 목록(일반사용자)   -->
    <transition name="searchAdminUser"         value="searchAdminUser" /> <!--권한대상 목록(특별관리자)   -->
    <transition name="searchUser"               value="searchUser" />     <!-- 사용자 목록   -->
    <transition name="saveAuthTrans"            value="saveAuthTrans" />  <!-- 권한이양 저장    -->
    <transition name="success"              value="end" />
  </activity>


  <!-- 권한대상 목록 (일반사용자) -->
  <activity name="searchAuthUser"         class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success"              value="end" />
    <property name="resultkey"              value="dsAuthUser" />
    <property name="sqlkey"                 value="rsy3021_s01" />
    <property name="param-count"            value="1" />
    <property name="param0"                 value="USER_NM" />
    <property name="dao"                    value="rbmdao" />
  </activity>  
 
 
  <!-- 권한대상 목록 (특별관리자) -->
  <activity name="searchAdminUser"         class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success"              value="end" />
    <property name="resultkey"              value="dsAuthUser" />
    <property name="sqlkey"                 value="rsy3021_s02" />
    <property name="param-count"            value="1" />
    <property name="param0"                 value="USER_NM" />
    <property name="dao"                    value="rbmdao" />
  </activity>  
  
  <!-- 사용자 목록 -->
  <activity name="searchUser"         class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success"              value="end" />
    <property name="resultkey"              value="dsUser" />
    <property name="sqlkey"                 value="rsy3021_s03" />
    <property name="param-count"            value="1" />
    <property name="param0"                 value="USER_NM" />
    <property name="dao"                    value="rbmdao" />
  </activity>

  <!-- 권한이양 저장 -->
  <activity name="saveAuthTrans"            class="snis.rbm.system.rsy3021.activity.SaveAuthTrans">
    <transition name="success"              value="end" />
  </activity>

  <transaction-manager id="tx_rbm" commit="true" />

</service>



