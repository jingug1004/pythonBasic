<?xml version="1.0" encoding="EUC-KR"?>

<service name="rem5020" initial="SetResultKeys">

  <activity name="SetResultKeys"            class="com.posdata.glue.miplatform.biz.activity.PosSetResultKeyList">  
    <property name="staticResultKeyFile"    value="resultkey.properties" />
    <property name="resultKeyList"          value="dsGoodType" />
    <transition name="success"              value="EventRouter" />
  </activity>

  <activity name="EventRouter"              class="com.posdata.glue.biz.activity.PosDefaultRouter">
    <transition name="searchGoodType"  		value="searchGoodType" />         <!--  기간별 지점별 상품분류 조회 -->
    <transition name="saveGoodType"  		value="saveGoodType" />         <!--  기간별 지점별 상품분류 조회 -->
    <transition name="success"              value="end" />
  </activity>


  <!--  지점별 상품분류 조회 -->  
  <activity name="searchGoodType"       	class="com.posdata.glue.miplatform.biz.activity.PosSearch">
    <transition name="success"              value="end" />
    <property name="resultkey"              value="dsGoodType" />
    <property name="sqlkey"                 value="rem5020_s01" />    
    <property name="param-count"            value="2" />    
    <property name="param0"                 value="BRNC_CD" />      <!--  지점 -->
    <property name="param1"                 value="USE_YN" />      <!--  지점 -->
    <property name="dao"                    value="rbmdao" />
  </activity>  
  
  
  <!-- 지점별 상품분류 저장 -->
  <activity name="saveGoodType"      class="snis.rbm.business.rem5020.activity.SaveGoodType">
    <transition name="success"          value="searchGoodType" />
  </activity>
  
  <transaction-manager id="tx_rbm" commit="true" />

</service>



