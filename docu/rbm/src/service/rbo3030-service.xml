<?xml version="1.0" encoding="EUC-KR"?>

<service name="rbo3030" initial="SetResultKeys">

  <activity name="SetResultKeys" 			class="com.posdata.glue.miplatform.biz.activity.PosSetResultKeyList">  

    <property name="staticResultKeyFile" 	value="resultkey.properties" />

    <property name="resultKeyList" 			value="dsRollUsgeStat|dsStrYear|dsRollEnd|dsRollMakeStat|dsRollMoveStat" />

    <transition name="success" 				value="EventRouter" />

  </activity>


  <activity name="EventRouter" 				class="com.posdata.glue.biz.activity.PosDefaultRouter">

    <transition name="searchRollUsgeStat"  		value="searchRollUsgeStat" />      <!--  회차별 사용현황    조회 (사용량)-->
    <transition name="searchRollMakeStat"       value="searchRollMakeStat" />      <!--  회차별 사용현황    조회 (제작)-->
    <transition name="searchRollMoveStat"       value="searchRollMoveStat" />      <!--  회차별 사용현황    조회 (점간이동) -->

    <transition name="saveRollUsgeStat"   		value="saveRollUsgeStat" />
    
    <transition name="searchStndYear"  			value="searchStndYear" />  
   
    <transition name="searchRollEnd"  			value="searchRollEnd" />   

    <transition name="success" 					value="end" />

  </activity>


  

  <!--  회차별 사용현황    조회 -->  
  <activity name="searchRollUsgeStat" 		class="com.posdata.glue.miplatform.biz.activity.PosSearch">

    <transition name="success" 				value="end" />

    <property name="resultkey" 				value="dsRollUsgeStat" />

    <property name="sqlkey"					value="rbo3030_s01" />

    <property name="param-count"            value="8" />
    
    <property name="param0"                 value="SEARCH_GBN" />
    <property name="param1"                 value="STND_YEAR" />
    <property name="param2"                 value="ROLL_GBN" />
    <property name="param3"                 value="ROLL_GBN" />
    <property name="param4"                 value="ROLL_GBN" />
    <property name="param5"                 value="BRNC_CD" />
    <property name="param6"                 value="STND_YEAR" />
    <property name="param7"                 value="BRNC_CD" />

    <property name="dao" 					value="rbmdao" />

  </activity>  
 
   <!--  회차별 사용현황    조회(제작입고) -->  
  <activity name="searchRollMakeStat"       class="com.posdata.glue.miplatform.biz.activity.PosSearch">

    <transition name="success"              value="end" />

    <property name="resultkey"              value="dsRollMakeStat" />

    <property name="sqlkey"                 value="rbo3030_s01" />

    <property name="param-count"            value="8" />
    
    <property name="param0"                 value="SEARCH_GBN" />
    <property name="param1"                 value="STND_YEAR" />
    <property name="param2"                 value="ROLL_GBN" />
    <property name="param3"                 value="ROLL_GBN" />
    <property name="param4"                 value="ROLL_GBN" />
    <property name="param5"                 value="BRNC_CD" />
    <property name="param6"                 value="STND_YEAR" />
    <property name="param7"                 value="BRNC_CD" />

    <property name="dao"                    value="rbmdao" />

  </activity>  
  
  
   <!--  회차별 사용현황    조회 (점간이동)-->  
  <activity name="searchRollMoveStat"       class="com.posdata.glue.miplatform.biz.activity.PosSearch">

    <transition name="success"              value="end" />

    <property name="resultkey"              value="dsRollMoveStat" />

    <property name="sqlkey"                 value="rbo3030_s04" />

    <property name="param-count"            value="5" />
    
    <property name="param0"                 value="STND_YEAR" />
    <property name="param1"                 value="ROLL_GBN" />
    <property name="param2"                 value="ROLL_GBN" />
    <property name="param3"                 value="ROLL_GBN" />
    <property name="param4"                 value="BRNC_CD" />

    <property name="dao"                    value="rbmdao" />

  </activity>  


  <!-- 용지마감 / 용지마감취소     저장 -->

  <activity name="saveRollUsgeStat" 			class="snis.rbm.business.rbo3030.activity.SaveRollUsgeStat">
    <transition name="success" 					value="end" />
  </activity>


  <!-- 용지마감  기준년도 조회  -->
 <activity name="searchStndYear" 		class="com.posdata.glue.miplatform.biz.activity.PosSearch">

    <transition name="success" 				value="end" />

    <property name="resultkey" 				value="dsStrYear" />

    <property name="sqlkey"					value="rbo3030_s02" />

    <property name="param-count" 			value="0" />
    
    <property name="dao" 					value="rbmdao" />

  </activity>   
  
  
  <!-- 용지마감   조회  -->
 <activity name="searchRollEnd" 		class="com.posdata.glue.miplatform.biz.activity.PosSearch">

    <transition name="success" 				value="end" />

    <property name="resultkey" 				value="dsRollEnd" />

    <property name="sqlkey"					value="rbo3030_s03" />

    <property name="param-count" 			value="1" />
    
    <property name="param0" 				value="STND_YEAR" />
    
    <property name="dao" 					value="rbmdao" />

  </activity>   
  
  
  
  <transaction-manager id="tx_rbm" commit="true" />

</service>



