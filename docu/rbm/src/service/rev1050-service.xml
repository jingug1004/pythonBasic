<?xml version="1.0" encoding="EUC-KR"?>
 
<service name="rev1050" initial="SetResultKeys">

    <activity name="SetResultKeys"   class="com.posdata.glue.miplatform.biz.activity.PosSetResultKeyList">  
	    <property name="staticResultKeyFile"  value="resultkey.properties" />
	    <property name="resultKeyList" 		  value="dsEmp|dsAppoint|dsDept|dsWorkJob|dsAprvStas|dsCfm|dsConst|dsAllDept|dsConstDept" />
	    <transition name="success" 			  value="EventRouter" />
	</activity>
  
    <activity name="EventRouter" 	 class="com.posdata.glue.biz.activity.PosDefaultRouter">
	    <transition name="searchEmp"         value="searchEmp" />
	    <transition name="searchAppoint"     value="searchAppoint" />
	    <transition name="searchCbDept"      value="searchCbDept" />
	    <transition name="searchCbWkJb"      value="searchCbWkJb" />
	    <transition name="searchAprvStas"    value="searchAprvStas" />
	    <transition name="searchAprvStasDept" value="searchAprvStasDept" />
	    <transition name="searchAllDept"      value="searchAllDept" />
	    <transition name="saveEmp"           value="saveEmp" />
	    <transition name="saveEmpDept"       value="saveEmpDept" />
	    <transition name="saveAprvMana"      value="saveAprvMana" />
	    <transition name="success" 			 value="end" />
	</activity>
	
	<!-- 그리드 조회 -->
	<activity name="searchEmp" 	  class="com.posdata.glue.miplatform.biz.activity.PosSearch">
		<transition name="success" 		  value="searchAprvStas" />
		<property name="resultkey" 		  value="dsEmp" />
		<property name="sqlkey" 		  value="rev1050_s01" />
		<property name="param-count" 	  value="33" /> 
		<property name="param0" 		  value="ESTM_YEAR" />
		<property name="param1" 		  value="ESTM_NUM" />  
		<property name="param2" 		  value="ESTM_YEAR" />
		<property name="param3" 		  value="ESTM_NUM" />
		<property name="param4" 		  value="ESTM_YEAR" />
		<property name="param5" 		  value="ESTM_NUM" />
		<property name="param6" 		  value="WRK_GBN" />
		<property name="param7" 		  value="WRK_GBN" />
		<property name="param8" 		  value="WRK_GBN" />
		<property name="param9" 		  value="DEPT_CD" />
		<property name="param10" 		  value="DEPT_CD" />
		<property name="param11" 		  value="DEPT_CD" />
		<property name="param12" 		  value="JOB_TIT_CD" />
		<property name="param13" 		  value="JOB_TIT_CD" />
		<property name="param14" 		  value="JOB_TIT_CD" />
		<property name="param15" 		  value="ESTM_ESC_GBN" />
		<property name="param16" 		  value="ESTM_ESC_GBN" />
		<property name="param17" 		  value="ESTM_ESC_GBN" />
		<property name="param18" 		  value="CO_WK_GBN" />
		<property name="param19" 		  value="CO_WK_GBN" />
		<property name="param20" 		  value="CO_WK_GBN" />
		<property name="param21" 		  value="AVG_IN" />
		<property name="param22" 		  value="AVG_IN" />
		<property name="param23" 		  value="AVG_IN" />
		<property name="param24" 		  value="APT_YN" />
		<property name="param25" 		  value="APT_YN" />
		<property name="param26" 		  value="APT_YN" />
		<property name="param27" 		  value="AVG_GBN" />
		<property name="param28" 		  value="AVG_GBN" />
		<property name="param29" 		  value="AVG_GBN" />
		<property name="param30" 		  value="DIFFDEPT" />
		<property name="param31" 		  value="DIFFDEPT" />
		<property name="param32" 		  value="EMP_NM" />
		<property name="dao" 			  value="rbmdao" />
	</activity>
  	
  	<!-- 평가부서콤보 -->
  	<activity name="searchCbDept" 	  class="com.posdata.glue.miplatform.biz.activity.PosSearch">
		<transition name="success" 		  value="end" />
		<property name="resultkey" 		  value="dsDept" />
		<property name="sqlkey" 		  value="rev1050_dept" />
		<property name="param-count" 	  value="2" />
		<property name="param0" 		  value="ESTM_YEAR" />
		<property name="param1" 		  value="ESTM_NUM" />
		<property name="dao" 			  value="rbmdao" />
	</activity>
	
	<!-- 전체부서콤보 -->
  	<activity name="searchAllDept" 	      class="com.posdata.glue.miplatform.biz.activity.PosSearch">
		<transition name="success" 		  value="end" />
		<property name="resultkey" 		  value="dsAllDept" />
		<property name="sqlkey" 		  value="rev1050_05" />
		<property name="param-count" 	  value="2" />
		<property name="param0" 		  value="ESTM_YEAR" />
		<property name="param1" 		  value="ESTM_NUM" />
		<property name="dao" 			  value="rbmdao" />
	</activity>
	
	<!-- 보직콤보 -->
  	<activity name="searchCbWkJb" 	  class="com.posdata.glue.miplatform.biz.activity.PosSearch">
		<transition name="success" 		  value="end" />
		<property name="resultkey" 		  value="dsWorkJob" />
		<property name="sqlkey" 		  value="rev1050_wkjb" />
		<property name="param-count" 	  value="2" />
		<property name="param0" 		  value="ESTM_YEAR" />
		<property name="param1" 		  value="ESTM_NUM" />
		<property name="dao" 			  value="rbmdao" />
	</activity>
	
  	<!-- 팝업 조회 -->
	<activity name="searchAppoint" 	  class="com.posdata.glue.miplatform.biz.activity.PosSearch">
		<transition name="success" 		  value="end" />
		<property name="resultkey" 		  value="dsAppoint" />
		<property name="sqlkey" 		  value="rev1050_s02" />
		<property name="param-count" 	  value="3" />
		<property name="param0" 		  value="ESTM_YEAR" />
		<property name="param1" 		  value="ESTM_NUM" />
		<property name="param2" 		  value="EMP_NO" />
		<property name="dao" 			  value="rbmdao" />
	</activity>
    
    <!-- 승인상태 조회 -->
    <activity name="searchAprvStas"       class="com.posdata.glue.miplatform.biz.activity.PosSearch">
        <transition name="success"        value="searchCfm" />
        <property name="resultkey"        value="dsAprvStas" />
        <property name="sqlkey"           value="rev1050_s03" />
        <property name="param-count"      value="7" />
        <property name="param0"           value="ESTM_YEAR" />
        <property name="param1"           value="ESTM_NUM" />
        <property name="param2"           value="APRV_DEPT" />
        <property name="param3"           value="ESTM_YEAR" />
        <property name="param4"           value="ESTM_NUM" />
        <property name="param5"           value="APRV_DEPT" />
        <property name="param6"           value="APRV_SEQ" />
        <property name="dao"              value="rbmdao" />
    </activity>
    
    <!-- '부서별평가자선정' 승인코드 조회 -->
    <activity name="searchCfm"       	  class="com.posdata.glue.miplatform.biz.activity.PosSearch">
        <transition name="success"        value="searchUpdateFlag" />
        <property name="resultkey"        value="dsCfm" />
        <property name="sqlkey"           value="rev1050_s04" />
        <property name="param-count"      value="3" />
        <property name="param0"           value="ESTM_YEAR" />
        <property name="param1"           value="ESTM_NUM" />
        <property name="param2"           value="APRV_DEPT" />
        <property name="dao"              value="rbmdao" />
    </activity>
    
    <!-- 화면 수정 가능 여부 조회  -->
	<activity name="searchUpdateFlag" 	  class="com.posdata.glue.miplatform.biz.activity.PosSearch">
		<transition name="success" 		  value="searchAprvStasDept" />
		<property name="resultkey" 		  value="dsConst" />
		<property name="sqlkey" 		  value="rev1020_s05" />
		<property name="param-count" 	  value="2" />
		<property name="param0" 		  value="ESTM_YEAR" />    
		<property name="param1" 		  value="ESTM_NUM" />    
		<property name="dao" 			  value="rbmdao" />
	</activity>
	
	
	<!-- 부서별 대상자 확정여부 조회 -->
	<activity name="searchAprvStasDept"   class="com.posdata.glue.miplatform.biz.activity.PosSearch">
		<transition name="success" 		  value="end" />
		<property name="resultkey" 		  value="dsConstDept" />
		<property name="sqlkey" 		  value="rev3020_s061" />
		<property name="param-count" 	  value="3" />
		<property name="param0" 		  value="ESTM_YEAR" />
		<property name="param1" 		  value="ESTM_NUM" />
		<property name="param2" 		  value="DEPT_CD" />
		<property name="dao" 			  value="rbmdao" />
	</activity>
	
	<!-- 평가대상선정 저장 -->
  	<activity name="saveEmp" 		class="snis.rbm.business.rev1050.activity.SaveEmp">
    	<transition name="success" 			value="end" />
  	</activity>
 
	
	<!-- 평가대상선정 저장 -->
  	<activity name="saveEmpDept" 	class="snis.rbm.business.rev1050.activity.SaveEmpDept">
    	<transition name="success" 			value="end" />
  	</activity>
 
    <!-- 승인관리  -->
    <activity name="saveAprvMana"        class="snis.rbm.business.rev1050.activity.SaveAprvMana">
        <transition name="success"          value="end" />
    </activity>
  	
  <transaction-manager id="tx_rbm" commit="true" />
</service>