<?xml version="1.0" encoding="EUC-KR"?>
 
<service name="rev1010" initial="SetResultKeys">

    <activity name="SetResultKeys"            class="com.posdata.glue.miplatform.biz.activity.PosSetResultKeyList">  
	    <property name="staticResultKeyFile"  value="resultkey.properties" />
	    <property name="resultKeyList" 		  value="dsEVCreate|dsUploadFile|dsVenusWk|dsVenusAtt|dsVenusDate|dsVenusDept|dsWorkEmp|dsDept|dsRegEmp|dsDwComm|dsDwTelmp|dsCnt|dsEmpEnt|dsPcDiv" />
	    <transition name="success" 			  value="EventRouter" />
	</activity>
  
    <activity name="EventRouter" 	            class="com.posdata.glue.biz.activity.PosDefaultRouter">
	    <transition name="searchList"           value="searchList" />	
	    <transition name="saveEVMistr"          value="saveEVMistr" />
	    <transition name="searchVenusWk"        value="searchVenusWk" />     <!-- 비너스 보직 조회(dsVenusWk) -->
        <transition name="searchVenusAtt"       value="searchVenusAtt" />    <!-- 비너스 근태실적 조회  -->
        <transition name="searchVenusDate"      value="searchVenusDate" />   <!-- 비너스 발령일자 조회  -->
        <transition name="searchVenusDept"      value="searchVenusDept" />   <!-- 비너스 부서장 조회  -->
        <transition name="searchWorkEmp"        value="searchWorkEmp" />     <!-- 비너스 사원계약직 조회  -->
	    <transition name="searchDept"           value="searchDept" />        <!-- 부서 조회  -->
	    <transition name="searchRegEmp"         value="searchRegEmp" />      <!-- 사원정규직 조회  --> 
	    <transition name="searchDwComm"         value="searchDwComm" />      <!-- 다스 투표소 조회  -->
        <transition name="searchDwTelmp"        value="searchDwTelmp" />     <!-- 다스 발매실적 조회  --> 
        <transition name="searchMasterFile"     value="searchMasterFile" />
        <transition name="saveData"             value="saveData" />          <!-- 기초자료생성  --> 
        <transition name="saveTelmp"            value="saveTelmp" />         <!-- 발매실적 저장  --> 
        <transition name="searchCnt"            value="searchCnt" />
        <transition name="searchEmpEnt"         value="searchEmpEnt" />      <!-- 사업지원팀 팝업화면 조회  --> 
        
	    <transition name="success" 			    value="end" />
	</activity>

	<!-- 그리드 조회 -->
	<activity name="searchList" 	      class="com.posdata.glue.miplatform.biz.activity.PosSearch">
		<transition name="success" 		  value="end" />
		<property name="resultkey" 		  value="dsEVCreate" />
		<property name="sqlkey" 		  value="rev1010_s01" />
		<property name="param-count" 	  value="1" />
		<property name="param0" 		  value="ESTM_YEAR" />    
		<property name="dao" 			  value="rbmdao" />
	</activity>
	
	<!-- 첨부파일   조회 -->
 	<activity name="searchMasterFile" 		class="com.posdata.glue.miplatform.biz.activity.PosSearch">
	    <transition name="success" 			value="end" />
	    <property name="resultkey" 			value="dsUploadFile" />
	    <property name="sqlkey"				value="rev1010_s02" />
	    <property name="param-count" 		value="1" />
	    <property name="param0" 			value="ATT_FILE_KEY" />  <!-- 첨부파일키 -->
	    <property name="dao" 				value="rbmdao" />
 	</activity>
 	
 	<!-- 사업지원팀 팝업화면 조회 -->
    <activity name="searchEmpEnt"         class="com.posdata.glue.miplatform.biz.activity.PosSearch">
        <transition name="success"        value="end" />
        <property name="resultkey"        value="dsEmpEnt" />
        <property name="sqlkey"           value="rev1010_s13" />
        <property name="param-count"      value="2" />
        <property name="param0"           value="EMP_NO" />
        <property name="param1"           value="EMP_NM" />
        <property name="dao"              value="rbmdao" />
    </activity>
    
 	<!-- 인적자원 보직 조회 -->
    <activity name="searchVenusWk"        class="com.posdata.glue.miplatform.biz.activity.PosSearch">
        <transition name="success"        value="searchVenusAtt" />
        <property name="resultkey"        value="dsVenusWk" />
        <property name="sqlkey"           value="rev1010_s03" />
        <property name="param-count"      value="0" />   
        <property name="dao"              value="venisrbmdao" />
    </activity>
    
    <!-- 인적자원 근무실태 조회 -->
    <activity name="searchVenusAtt"       class="com.posdata.glue.miplatform.biz.activity.PosSearch">
        <transition name="success"        value="searchVenusDate" />
        <property name="resultkey"        value="dsVenusAtt" />
        <property name="sqlkey"           value="rev1010_s04" />
        <property name="param-count"      value="2" />
        <property name="param0"           value="PRM_STR_DT" /> 
        <property name="param1"           value="PRM_END_DT" /> 
        <property name="dao"              value="venisrbmdao" />
    </activity>
    
    <!-- 인적자원 발령일자 조회 : 평가기간 이전자료도 조회(평가기간 이전에 발령받은 경우 확인 가능해야 함)-->
    <activity name="searchVenusDate"      class="com.posdata.glue.miplatform.biz.activity.PosSearch">
        <transition name="success"        value="searchVenusDept" />
        <property name="resultkey"        value="dsVenusDate" />
        <property name="sqlkey"           value="rev1010_s05" />
        <property name="param-count"      value="0" /> 
        <property name="dao"              value="venisrbmdao" />
    </activity>
    
    <!-- 인적자원 부서장 조회 -->
    <activity name="searchVenusDept"      class="com.posdata.glue.miplatform.biz.activity.PosSearch">
        <transition name="success"        value="searchWorkEmp" />
        <property name="resultkey"        value="dsVenusDept" />
        <property name="sqlkey"           value="rev1010_s06" />
        <property name="param-count"      value="0" />  
        <property name="dao"              value="venisrbmdao" />
    </activity>
    
    <!-- 인적자원 사원계약직 조회 -->
    <activity name="searchWorkEmp"        class="com.posdata.glue.miplatform.biz.activity.PosSearch">
        <transition name="success"        value="searchDept" />
        <property name="resultkey"        value="dsWorkEmp" />
        <property name="sqlkey"           value="rev1010_s07" />
        <property name="param-count"      value="23" />  
        <property name="param0"           value="PRM_STR_DT" />
        <property name="param1"           value="PRM_END_DT" />
        <property name="param2"           value="ESC_END_DT" />
        <property name="param3"           value="ESC_STR_DT" /> 
        <property name="param4"           value="ESC_STR_DT" /> 
        <property name="param5"           value="ESC_END_DT" />
        <property name="param6"           value="PRM_STR_DT" />
        <property name="param7"          value="PRM_END_DT" />
        <property name="param8"           value="ESC_END_DT" />
        <property name="param9"           value="ESC_STR_DT" />
        <property name="param10"           value="PRM_STR_DT" />
        <property name="param11"          value="PRM_END_DT" />
        <property name="param12"           value="ESC_END_DT" />
        <property name="param13"          value="ESC_STR_DT" />
        <property name="param14"          value="PRM_END_DT" />
        <property name="param15"          value="PRM_STR_DT" />
        <property name="param16"          value="PRM_END_DT" />
        <property name="param17"          value="PRM_END_DT" />
        <property name="param18"          value="ESC_END_DT" />
        <property name="param19"          value="ESC_STR_DT" />
        <property name="param20"          value="PRM_END_DT" />
        <property name="param21"          value="ESC_END_DT" />
        <property name="param22"          value="ESC_STR_DT" />   
        <property name="dao"              value="venisrbmdao" />
    </activity>
    
    <!-- 부서 조회 -->
    <activity name="searchDept"           class="com.posdata.glue.miplatform.biz.activity.PosSearch">
        <transition name="success"        value="searchRegEmp" />
        <property name="resultkey"        value="dsDept" />
        <property name="sqlkey"           value="rev1010_s08" />
        <property name="param-count"      value="0" />  
        <property name="dao"              value="venisrbmdao" />
    </activity>
    
    <!-- 정규직사원 조회 -->
    <activity name="searchRegEmp"         class="com.posdata.glue.miplatform.biz.activity.PosSearch">
        <transition name="success"        value="searchDwTelmp" />
        <property name="resultkey"        value="dsRegEmp" />
        <property name="sqlkey"           value="rev1010_s09" />
        <property name="param-count"      value="0" />  
        <property name="dao"              value="rbmdao" />
    </activity>
    
    <!-- 투표소 조회 -->
    <activity name="searchDwComm"         class="com.posdata.glue.miplatform.biz.activity.PosSearch">
        <transition name="success"        value="end" />
        <property name="resultkey"        value="dsDwComm" />
        <property name="sqlkey"           value="rev1010_s10" />
        <property name="param-count"      value="3" /> 
        <property name="param0"           value="ESTM_YEAR" /> 
        <property name="param1"           value="PRM_STR_DT" /> 
        <property name="param2"           value="PRM_END_DT" /> 
        <property name="dao"              value="rbmdao" />
    </activity>
    
    <!-- 발매실적 조회 -->
    <activity name="searchDwTelmp"        class="com.posdata.glue.miplatform.biz.activity.PosSearch">
        <transition name="success"        value="searchPCDiv" />
        <property name="resultkey"        value="dsDwTelmp" />
        <property name="sqlkey"           value="rev1010_s11" />
        <property name="param-count"      value="6" />
        <property name="param0"           value="PRM_STR_DT" /> 
        <property name="param1"           value="PRM_END_DT" />
        <property name="param2"           value="ESTM_YEAR" /> 
        <property name="param3"           value="ESTM_NUM" />
        <property name="param4"           value="ESTM_YEAR" /> 
        <property name="param5"           value="ESTM_NUM" />
        <property name="dao"              value="rbmdao" />
    </activity>
    
    <!-- 발매전산 원시자료분석시스템의  투표소 매핑 조회 -->
    <activity name="searchPCDiv"        class="com.posdata.glue.miplatform.biz.activity.PosSearch">
        <transition name="success"        value="searchDwComm" />
        <property name="resultkey"        value="dsPcDiv" />
        <property name="sqlkey"           value="rev1010_s14" />
        <property name="param-count"      value="0" />
        <property name="dao"              value="rbmdao" />
    </activity>
    
    <!-- 개수 조회 -->
    <activity name="searchCnt"            class="com.posdata.glue.miplatform.biz.activity.PosSearch">
        <transition name="success"        value="end" />
        <property name="resultkey"        value="dsCnt" />
        <property name="sqlkey"           value="rev1010_s12" />
        <property name="param-count"      value="2" />
        <property name="param0"           value="ESTM_YEAR" />  
        <property name="param1"           value="ESTM_NUM" /> 
        <property name="dao"              value="rbmdao" />
    </activity>
    
	<!-- 평가 저장 -->
  	<activity name="saveEVMistr" 		class="snis.rbm.business.rev1010.activity.SaveEVMistr">
    	<transition name="success" 	    value="end" />
  	</activity>
  	
  	<!-- 기초자료생성 저장 -->
    <activity name="saveData"           class="snis.rbm.business.rev1010.activity.SaveData">
        <transition name="success"      value="end" />
    </activity>
    
    <!-- 발매실적 저장 -->
    <activity name="saveTelmp"          class="snis.rbm.business.rev1010.activity.SaveTelmp">
        <transition name="success"      value="end" />
    </activity>
    
    <transaction-manager id="tx_rbm" commit="true" />
</service>